<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://jrhlive.com').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="coding change the world .">
<meta name="keywords" content="jrhlive jrhlife livelife live-life ailife ailive smart-live  stmart-life">
<meta property="og:type" content="website">
<meta property="og:title" content="STAY HUNGRY. STAY FOOLISH.">
<meta property="og:url" content="http://jrhlive.com/page/2/index.html">
<meta property="og:site_name" content="STAY HUNGRY. STAY FOOLISH.">
<meta property="og:description" content="coding change the world .">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="STAY HUNGRY. STAY FOOLISH.">
<meta name="twitter:description" content="coding change the world .">

<link rel="canonical" href="http://jrhlive.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>STAY HUNGRY. STAY FOOLISH.</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">STAY HUNGRY. STAY FOOLISH.</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Hi,sweet.A new day.</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/10/07/HashMapä½¿ç”¨ç¬”è®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/07/HashMapä½¿ç”¨ç¬”è®°/" class="post-title-link" itemprop="url">HashMapä½¿ç”¨ç¬”è®°</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-10-07 11:15:31" itemprop="dateCreated datePublished" datetime="2019-10-07T11:15:31+08:00">2019-10-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 14:31:05" itemprop="dateModified" datetime="2019-12-31T14:31:05+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/é›†åˆæ¡†æ¶/" itemprop="url" rel="index">
                    <span itemprop="name">é›†åˆæ¡†æ¶</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h2><p><a href="https://www.jianshu.com/p/32f67f9e71b5" target="_blank" rel="noopener">æ–‡ç¨¿æ¥æº</a></p>
<ol>
<li><p>HashMap<code>å…¶å®å°±æ˜¯</code>ArrayList<code>å’Œ</code>LinkedList<code>çš„æ•°æ®ç»“æ„åŠ ä¸Š</code>hashCode<code>å’Œ</code>equals`æ–¹æ³•çš„æ€æƒ³è®¾è®¡å‡ºæ¥çš„ã€‚</p>
</li>
<li><p><code>HashMap</code>æ˜¯åŸºäº<code>Map</code>æ¥å£å®ç°çš„ä¸€ç§é”®-å€¼å¯¹çš„å­˜å‚¨ç»“æ„ï¼Œå…è®¸<code>null</code>å€¼ï¼ŒåŒæ—¶éæœ‰åºï¼ŒéåŒæ­¥(å³çº¿ç¨‹ä¸å®‰å…¨)ã€‚</p>
</li>
<li><p><code>HashMap</code>çš„åº•å±‚å®ç°æ˜¯æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ï¼ˆJDK1.8å¢åŠ äº†çº¢é»‘æ ‘éƒ¨åˆ†ï¼‰ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/10/07/HashMapä½¿ç”¨ç¬”è®°/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/10/03/LinkedListä½¿ç”¨ç¬”è®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/03/LinkedListä½¿ç”¨ç¬”è®°/" class="post-title-link" itemprop="url">LinkedListä½¿ç”¨ç¬”è®°</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-10-03 11:12:11" itemprop="dateCreated datePublished" datetime="2019-10-03T11:12:11+08:00">2019-10-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 14:33:28" itemprop="dateModified" datetime="2019-12-31T14:33:28+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/é›†åˆæ¡†æ¶/" itemprop="url" rel="index">
                    <span itemprop="name">é›†åˆæ¡†æ¶</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h2><ol>
<li><p>LinkedListåº•å±‚æ˜¯åŒå‘é“¾è¡¨ï¼ŒåŒæ—¶å®ç°äº†Listæ¥å£å’ŒDequeæ¥å£</p>
</li>
<li><p>å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªé¡ºåºå®¹å™¨ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªé˜Ÿåˆ—(Queue)ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ ˆ(Stack)</p>
</li>
<li><p>å¦‚æœæƒ³ä½¿ç”¨æ ˆæˆ–é˜Ÿåˆ—ç­‰æ•°æ®ç»“æ„çš„è¯ï¼Œæ¨èä½¿ç”¨ArrayDequeï¼Œå®ƒä½œä¸ºæ ˆæˆ–é˜Ÿåˆ—ä¼šæ¯”LinkedListæœ‰æ›´å¥½çš„ä½¿ç”¨æ€§èƒ½ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/10/03/LinkedListä½¿ç”¨ç¬”è®°/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/10/02/ArrayListä½¿ç”¨ç¬”è®°/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/02/ArrayListä½¿ç”¨ç¬”è®°/" class="post-title-link" itemprop="url">ArrayListä½¿ç”¨ç¬”è®°</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-10-02 11:08:08" itemprop="dateCreated datePublished" datetime="2019-10-02T11:08:08+08:00">2019-10-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 14:33:14" itemprop="dateModified" datetime="2019-12-31T14:33:14+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/é›†åˆæ¡†æ¶/" itemprop="url" rel="index">
                    <span itemprop="name">é›†åˆæ¡†æ¶</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Arraylist"><a href="#Arraylist" class="headerlink" title="Arraylist"></a>Arraylist</h2><ol>
<li><p>Arraylist å°±æ˜¯æ•°ç»„åˆ—è¡¨</p>
</li>
<li><p>å½“æˆ‘ä»¬è½¬è½½çš„æ˜¯åŸºæœ¬æ•°æ®int,long,byte,boolean,float,double,char,shortçš„æ—¶å€™ï¼Œåªèƒ½å­˜å‚¨ä»–ä»¬å¯¹åº”çš„åŒ…è£…ç±»ã€‚</p>
</li>
<li><p>åº•å±‚å®ç°ä¸»è¦æ˜¯  transient Object[] elementData;</p>
<blockquote>
<p> Javaè¯­è¨€çš„å…³é”®å­—ï¼Œå˜é‡ä¿®é¥°ç¬¦ï¼Œå¦‚æœç”¨<strong>transient</strong>å£°æ˜ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œå½“å¯¹è±¡å­˜å‚¨æ—¶ï¼Œå®ƒçš„å€¼ä¸éœ€è¦ç»´æŒã€‚æ¢å¥è¯æ¥è¯´å°±æ˜¯ï¼Œç”¨<strong>transient</strong>å…³é”®å­—æ ‡è®°çš„æˆå‘˜å˜é‡ä¸å‚ä¸åºåˆ—åŒ–è¿‡ç¨‹ã€‚</p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/10/02/ArrayListä½¿ç”¨ç¬”è®°/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/09/25/æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/25/æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†/" class="post-title-link" itemprop="url">æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-09-25 20:50:20" itemprop="dateCreated datePublished" datetime="2019-09-25T20:50:20+08:00">2019-09-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 14:32:40" itemprop="dateModified" datetime="2019-12-31T14:32:40+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ•°æ®ç»“æ„/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®ç»“æ„</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id><a href="#" class="headerlink" title></a></h2><h1 id="æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†"><a href="#æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†" class="headerlink" title="æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†"></a>æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†</h1><p><a href="https://juejin.im/post/5c70094051882562a12aec51" target="_blank" rel="noopener">æ¥æº</a></p>
<h1 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h1><p>æœ€è¿‘åœ¨é˜…è¯»retrofitæºç æ—¶,æœ‰ä¸ªå…³é”®çš„æ‰€åœ¨å°±æ˜¯åŠ¨æ€ä»£ç†ï¼Œç»†ç»†å›æƒ³äº†ä¸€ä¸‹åŠ¨æ€ä»£ç†,å‘ç°ä¹‹å‰æœ‰äº›ç»†èŠ‚è¿˜æ²¡æœ‰ç†è§£åˆ°ä½ï¼Œæœ¬ç¯‡åšæ–‡å°†é‡æ–°æ·±å…¥ç†è§£ä¸€ä¸‹åŠ¨æ€ä»£ç†ã€‚</p>
<h1 id="äºŒã€å…³äºä»£ç†"><a href="#äºŒã€å…³äºä»£ç†" class="headerlink" title="äºŒã€å…³äºä»£ç†"></a>äºŒã€å…³äºä»£ç†</h1><p>ä¸­ååæ—æ˜¯ä¸€ä¸ªå«è“„çš„åæ—ï¼Œè®²ç©¶å¾®å¦™å’Œé—´æ¥çš„äº¤æµæ–¹å¼ã€‚å¯¹è±¡ä¹‹é—´çš„é—´æ¥é€šä¿¡ä¹Ÿæ˜¯åŒæ ·æ˜¯é¢å‘å¯¹è±¡è®¾è®¡ä¸­ä¸€æ¡é‡è¦çš„å®¡ç¾è§‚ï¼Œè¿ªç±³ç‰¹æ³•åˆ™ä¹ŸæŒ‡å‡ºâ€œä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡ä¿æŒæœ€å°‘çš„äº†è§£â€,é—´æ¥é—´é€šä¿¡å¯ä»¥è¾¾åˆ°â€œé«˜å†…èšï¼Œä½è€¦åˆâ€çš„æ•ˆæœã€‚<br>ä»£ç†æ˜¯ä¸€ç§é‡è¦çš„æ‰‹æ®µä¹‹ä¸€ï¼Œæ¯”å¦‚ç”Ÿæ´»ä¸­çš„å¾®å•†ä»£ç†ï¼Œå‚å®¶å§”æ‰˜å…¶ä»£ç†é”€å”®å•†å“ï¼Œæˆ‘ä»¬åªè·Ÿå¾®å•†æ‰“äº¤é“ï¼Œä¸çŸ¥é“èƒŒåçš„â€œå‚å®¶æ˜¯è°â€ï¼Œå¾®å•†å’Œå‚å®¶å°±å¯ä»¥æŠ½è±¡ä¸º â€œä»£ç†ç±»â€å’Œâ€œå§”æ‰˜ç±»â€ï¼Œè¿™æ ·å°±å¯ä»¥ï¼Œéšè—å§”æ‰˜ç±»çš„å®ç°ã€å®ç°å®¢æˆ·ä¸å§”æ‰˜ç±»ä¹‹é—´çš„è§£è€¦ï¼Œå¯ä»¥ä¸ç”¨ä¿®æ”¹å§”æ‰˜ç±»çš„æƒ…å†µä¸‹åšä¸€äº›é¢å¤–çš„å¤„ç†</p>
<h2 id="2-1ã€ä»£ç†æ¨¡å¼ç®€ä»‹"><a href="#2-1ã€ä»£ç†æ¨¡å¼ç®€ä»‹" class="headerlink" title="2.1ã€ä»£ç†æ¨¡å¼ç®€ä»‹"></a>2.1ã€ä»£ç†æ¨¡å¼ç®€ä»‹</h2><p>åœ¨ã€ŠJavaä¸æ¨¡å¼ã€‹ä¸€ä¹¦ä¸­æŒ‡å‡ºâ€ä»£ç†æ¨¡å¼ç»™æŸä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ§åˆ¶å¯¹åŸå¯¹è±¡çš„è®¿é—®â€ï¼Œç±»å›¾å¦‚ä¸‹</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/2/22/16915a41d98d4237?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image.png"></p>
<p>é€šè¿‡ç±»å›¾å¯ä»¥å‘ç°ï¼Œä»£ç†æ¨¡å¼çš„ä»£ç†å¯¹è±¡<code>Proxy</code>å’Œç›®æ ‡å¯¹è±¡<code>Subject</code>å®ç°åŒä¸€ä¸ªæ¥å£ï¼Œå®¢æˆ·è°ƒç”¨çš„æ˜¯<code>Proxy</code>å¯¹è±¡ï¼Œ<code>Proxy</code>å¯ä»¥æ§åˆ¶<code>Subject</code>çš„è®¿é—®ï¼ŒçœŸæ­£çš„åŠŸèƒ½å®ç°æ˜¯åœ¨<code>Subject</code>å®Œæˆçš„ã€‚</p>
<p>é€‚ç”¨åœºæ™¯:</p>
<ul>
<li>ä¸å¸Œæœ›æŸäº›ç±»è¢«ç›´æ¥è®¿é—®ã€‚</li>
<li>è®¿é—®ä¹‹å‰å¸Œæœ›å…ˆè¿›è¡Œä¸€äº›é¢„å¤„ç†ã€‚</li>
<li>å¸Œæœ›å¯¹è¢«è®¿é—®çš„å¯¹è±¡è¿›è¡Œå†…å­˜ã€æƒé™ç­‰æ–¹é¢çš„æ§åˆ¶ã€‚</li>
</ul>
<p>ä¼˜ç‚¹å¦‚ä¸‹</p>
<ul>
<li>ä»£ç†æ¨¡å¼æ˜¯é€šè¿‡ä½¿ç”¨å¼•ç”¨ä»£ç†å¯¹è±¡æ¥è®¿é—®çœŸå®å¯¹è±¡ï¼Œåœ¨è¿™é‡Œä»£ç†å¯¹è±¡å……å½“ç”¨äºè¿æ¥å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡çš„ä¸­ä»‹è€…ã€‚</li>
<li>ä»£ç†æ¨¡å¼ä¸»è¦ç”¨äºè¿œç¨‹ä»£ç†ã€è™šæ‹Ÿä»£ç†å’Œä¿æŠ¤ä»£ç†ã€‚å…¶ä¸­ä¿æŠ¤ä»£ç†å¯ä»¥è¿›è¡Œè®¿é—®æƒé™æ§åˆ¶ã€‚</li>
</ul>
<h2 id="2-2ã€é™æ€ä»£ç†"><a href="#2-2ã€é™æ€ä»£ç†" class="headerlink" title="2.2ã€é™æ€ä»£ç†"></a>2.2ã€é™æ€ä»£ç†</h2><p>â€œé™æ€â€ä»£ç†ï¼Œè‹¥ä»£ç†ç±»åœ¨ç¨‹åºè¿è¡Œå‰å·²ç»å­˜åœ¨ï¼Œè¿™ç§é€šå¸¸ç§°ä¸ºé™æ€ä»£ç†ï¼Œæ¯”å¦‚å¾®å•†Aåªä»£ç†Aå“ç‰Œçš„é¢è†œ,æ¶ˆè´¹è€…é€šè¿‡å¾®å•†æ‰èƒ½ä¹°åˆ°æŸå‚çš„é¢è†œ(æ§åˆ¶æƒ)ï¼Œå…¶ä¸­å¾®å•†å’Œå·¥å‚éƒ½å®ç°äº†äº†Sellçš„æ¥å£</p>
<blockquote>
<p>å§”æ‰˜ç±»é¢è†œå·¥å‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class  FactoryOne :SellMask&#123;</span><br><span class="line">    override fun sell() &#123;</span><br><span class="line">        println(&quot;FactoryOne: æ¥è‡ªå·¥å‚Açš„é¢è†œ&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¾®å•†é™æ€ä»£ç†</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class BusinessAgent : SellMask &#123;</span><br><span class="line">    private lateinit var sellMask: SellMask</span><br><span class="line"></span><br><span class="line">    init &#123;</span><br><span class="line">        sellMask = FactoryOne()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    override fun sell() &#123;</span><br><span class="line">        println(&quot;BusinessAgent: å¾®å•†ä»£ç†å¼€å§‹åœ¨æœ‹å‹åœˆæ‰“å¹¿å‘Š&quot;)</span><br><span class="line">        sellMask.sell()</span><br><span class="line">        print(&quot;BusinessAgent: èµšäº†ä¸€å¤§æŠŠ&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å…±åŒæ¥å£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">interface SellMask &#123;</span><br><span class="line">    fun sell()</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h2 id="2-3ã€ç›¸ä¼¼æ¨¡å¼çš„æ¯”è¾ƒ"><a href="#2-3ã€ç›¸ä¼¼æ¨¡å¼çš„æ¯”è¾ƒ" class="headerlink" title="2.3ã€ç›¸ä¼¼æ¨¡å¼çš„æ¯”è¾ƒ"></a>2.3ã€ç›¸ä¼¼æ¨¡å¼çš„æ¯”è¾ƒ</h2><p>æ—¢ç„¶è·å¾—å¼•ç”¨å°±å¯ä»¥åšä¸€äº›æ‰©å±•ä¹‹ç±»çš„äº‹æƒ…ï¼Œè¿™ç‚¹è·Ÿè£…é¥°è€…æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼çœ‹èµ·æ¥å¾ˆåƒï¼Œä¸‰è€…éƒ½å±äºç»“æ„å‹æ¨¡å¼ï¼Œä½†æ˜¯ä»£ç†æ¨¡å¼æ ¸å¿ƒæ˜¯ä¸ºå…¶å®ƒå¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®()</p>
<blockquote>
<p>ä»£ç†æ¨¡å¼ VS é€‚é…å™¨æ¨¡å¼</p>
</blockquote>
<p>çœ‹ä¸Šå»å¾ˆåƒï¼Œå®ƒä»¬éƒ½å¯è§†ä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ç§å‰ç½®çš„æ¥å£ï¼Œä½†æ˜¯é€‚é…å™¨æ¨¡å¼çš„ç”¨æ„æ˜¯æ”¹å˜æ‰€è€ƒè™‘çš„å¯¹è±¡çš„æ¥å£ï¼Œè€Œä»£ç†æ¨¡å¼å¹¶ä¸èƒ½æ”¹å˜æ‰€ä»£ç†çš„å¯¹è±¡çš„æ¥å£ï¼Œè¿™ä¸€ç‚¹ä¸Šä¸¤ä¸ªæ¨¡å¼æœ‰ç€æ˜æ˜¾çš„åŒºåˆ«ï¼Œä¸‹å›¾åˆ†åˆ«æ˜¯ å¯¹è±¡é€‚é…å™¨å’Œç±»çš„é€‚é…å™¨UMLå›¾</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/2/22/16915a41d9a53c4a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image.png"></p>
<blockquote>
<p>ä»£ç†æ¨¡å¼VS è£…é¥°æ¨¡å¼</p>
</blockquote>
<p>è£…é¥°è€…æ¨¡å¼ä¸æ‰€è£…é¥°çš„å¯¹è±¡æœ‰ç€ç›¸åŒçš„æ¥å£ï¼Œè¿™ä¸€ç‚¹è·Ÿä»£ç†æ¨¡å¼ç›¸åŒï¼Œä½†æ˜¯è£…é¥°æ¨¡å¼æ›´å¼ºè°ƒä¸ºæ‰€è£…é¥°çš„å¯¹è±¡æä¾›å¢å¼ºåŠŸèƒ½ï¼Œè€Œä»£ç†æ¨¡å¼åˆ™æ˜¯å¯¹å¯¹è±¡çš„ä½¿ç”¨æ–½åŠ æ§åˆ¶ï¼Œå¹¶ä¸æä¾›å¯¹è±¡æœ¬èº«çš„å¢å¼ºåŠŸèƒ½ï¼›è¢«ä»£ç†å¯¹è±¡ç”±ä»£ç†å¯¹è±¡åˆ›å»ºï¼Œå®¢æˆ·ç«¯ç”šè‡³ä¸éœ€è¦çŸ¥é“è¢«ä»£ç†ç±»çš„å­˜åœ¨ï¼›è¢«è£…é¥°å¯¹è±¡ç”±å®¢æˆ·ç«¯åˆ›å»ºå¹¶ä¼ ç»™è£…é¥°å¯¹è±¡ã€‚è£…é¥°è€…UMLå›¾å¦‚ä¸‹</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/2/22/16915a41d9bb2a1a?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="image.png"></p>
<p>ä½ ä»¥ä¸ºè¿™å°±å®Œäº†å—ï¼Ÿä¸‹é¢ğŸ‘‡æ‰æ˜¯é‡å¤´æˆï¼</p>
<h1 id="ä¸‰ã€æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†"><a href="#ä¸‰ã€æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†" class="headerlink" title="ä¸‰ã€æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†"></a>ä¸‰ã€æ·±å…¥ç†è§£åŠ¨æ€ä»£ç†</h1><h2 id="3-1ã€ä»€ä¹ˆæ˜¯åŠ¨æ€ä»£ç†"><a href="#3-1ã€ä»€ä¹ˆæ˜¯åŠ¨æ€ä»£ç†" class="headerlink" title="3.1ã€ä»€ä¹ˆæ˜¯åŠ¨æ€ä»£ç†"></a>3.1ã€ä»€ä¹ˆæ˜¯åŠ¨æ€ä»£ç†</h2><p>ä»£ç†ç±»åœ¨ç¨‹åºè¿è¡Œæ—¶åˆ›å»ºçš„ä»£ç†æ–¹å¼è¢«æˆä¸º åŠ¨æ€ä»£ç†ã€‚å³ä»£ç†ç±»å¹¶ä¸æ˜¯åœ¨ä»£ç ä¸­å®šä¹‰çš„ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶æ ¹æ®æˆ‘ä»¬åœ¨Javaä»£ç ä¸­â€è§„å®šâ€çš„ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆã€‚é™æ€ä»£ç†å®¹æ˜“é€ æˆä»£ç çš„è†¨èƒ€ï¼Œã€‚ç›¸æ¯”äºé™æ€ä»£ç†ï¼Œ åŠ¨æ€ä»£ç†çš„ä¼˜åŠ¿åœ¨äºå¯ä»¥å¾ˆæ–¹ä¾¿çš„å¯¹ä»£ç†ç±»çš„å‡½æ•°è¿›è¡Œç»Ÿä¸€çš„å¤„ç†ï¼Œè€Œä¸ç”¨ä¿®æ”¹æ¯ä¸ªä»£ç†ç±»çš„å‡½æ•°ã€‚ è¿˜æ˜¯ä»¥ä¸Šé¢çš„å–é¢è†œå¾®å•†ä¸ºä¾‹ï¼Œå¥¹åœ¨è¿›è´§å¸‚åœºè¿›è¡Œä¸€ç•ªæ¯”è¾ƒä¹‹åå†å†³å®šä»£ç†å“ªä¸ªå“ç‰Œçš„é¢è†œã€‚</p>
<h2 id="3-2ã€å¦‚ä½•ä½¿ç”¨åŠ¨æ€ä»£ç†"><a href="#3-2ã€å¦‚ä½•ä½¿ç”¨åŠ¨æ€ä»£ç†" class="headerlink" title="3.2ã€å¦‚ä½•ä½¿ç”¨åŠ¨æ€ä»£ç†"></a>3.2ã€å¦‚ä½•ä½¿ç”¨åŠ¨æ€ä»£ç†</h2><p>è·Ÿä¸Šæ–‡ä¸€æ ·ï¼Œå¾®å•†å’Œé¢è†œå·¥å‚éƒ½å®ç°äº†sellæ¥å£ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œä¸‹é¢çœ‹ä¸‹ä¸ä¼—ä¸åŒçš„åœ°æ–¹ï¼Œå®ç°åŠ¨æ€ä»£ç†éœ€è¦å®ç°InvocationHandleræ¥å£</p>
<blockquote>
<p>å®ç°InvocationHandleræ¥å£</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class DynamicProxy implements InvocationHandler &#123;</span><br><span class="line">    private Object object;//è¢«å¼•ç”¨çš„ä»£ç†</span><br><span class="line"></span><br><span class="line">    public Object newProxyInstance(Object object) &#123;</span><br><span class="line">        this.object = object;</span><br><span class="line">        return Proxy.newProxyInstance(object.getClass().getClassLoader(),object.getClass().getInterfaces(),this);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class="line">        System.out.println(&quot;ä»£ç†å•† åŒ…è£…å‘æœ‹å‹åœˆ&quot;);</span><br><span class="line">        Object result = method.invoke(object,args);</span><br><span class="line">        System.out.println(&quot;ä»£ç†å•† èµšé’±&quot;);</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<ul>
<li>target å±æ€§è¡¨ç¤ºå§”æ‰˜ç±»å¯¹è±¡</li>
<li><code>InvocationHandler</code>æ˜¯è´Ÿè´£è¿æ¥ä»£ç†ç±»å’Œå§”æ‰˜ç±»çš„ä¸­é—´ç±»å¿…é¡»å®ç°çš„æ¥å£ã€‚å…¶ä¸­åªæœ‰ä¸€ä¸ª invokeå‡½æ•°éœ€è¦å®ç°</li>
<li>invokeå‡½æ•°</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public Object invoke(Object proxy, Method method, Object[] args)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢å¥½å¥½çœ‹çœ‹è¿™ä¸ªæ ¸å¿ƒå‡½æ•°çš„å‚æ•°å«ä¹‰</p>
<ul>
<li>proxy ä»£é€šè¿‡dynamicproxy.newProxyInstance(business)è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç†ç±» $Proxy0.class(ä¸‹æ–‡ä¼šè¯¦ç»†ä»‹ç»)</li>
<li>methodè¡¨ç¤ºä»£ç†å¯¹è±¡è¢«è°ƒç”¨çš„å‡½æ•°ï¼Œæ¯”å¦‚sellMaskæ¥å£é‡Œé¢çš„sellæ–¹æ³•</li>
<li>args è¡¨ç¤ºä»£ç†å¤§åŠ›è°ƒç”¨å‡½æ•°çš„çš„å‚æ•°ï¼Œè¿™é‡Œsellæ–¹æ³•æ— å‚æ•°</li>
</ul>
<p>è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ¯ä¸ªå‡½æ•°ï¼Œå®é™…ä¸Šæœ€ç»ˆéƒ½æ˜¯èµ°åˆ°InvocationHandlerçš„invokeå‡½æ•°ï¼Œå› æ­¤å¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›ç»Ÿä¸€çš„å¤„ç†ï¼ŒAOPçš„é›å½¢å°±æ…¢æ…¢å‡ºç°äº†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®methodæ–¹æ³•ååšä¸€äº›åˆ¤æ–­ï¼Œä»è€Œå®ç°å¯¹æŸäº›å‡½æ•°çš„ç‰¹æ®Šå¤„ç†ã€‚</p>
<blockquote>
<p>ä½¿ç”¨åŠ¨æ€ä»£ç†</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fun main(args: Array&lt;String&gt;) &#123;</span><br><span class="line">    System.getProperties().put(&quot;sun.misc.ProxyGenerator.saveGeneratedFiles&quot;, &quot;true&quot;)  //åŠ å…¥è¿™ä¸ªå¯ä»¥è·å–ä»£ç†ç±»</span><br><span class="line"></span><br><span class="line">    var maskFactory = FactoryMaskOne()</span><br><span class="line"></span><br><span class="line">    var dynamicproxy: DynamicProxy = DynamicProxy()</span><br><span class="line"></span><br><span class="line">    var sellMask: SellMask = dynamicproxy.newProxyInstance(maskFactory) as SellMask</span><br><span class="line"></span><br><span class="line">    sellMask.sell()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å°†å§”æ‰˜ç±»é¢è†œå·¥ç¨‹FactoryMaskOneä¼ åˆ°dynamicproxy.newProxyInstanceä¸­ï¼Œé€šè¿‡ä¸‹é¢çš„å‡½æ•°è¿”å›äº†ä¸€ä¸ªä»£ç†å¯¹è±¡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public Object newProxyInstance(Object object) &#123;</span><br><span class="line">        this.object = object;</span><br><span class="line">        return Proxy.newProxyInstance(object.getClass().getClassLoader(),object.getClass().getInterfaces(),this);</span><br><span class="line">    &#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å®é™…ä»£ç†ç±»å°±æ˜¯åœ¨è¿™ä¸ªæ—¶å€™åŠ¨æ€ç”Ÿæˆçš„ï¼Œåç»­è°ƒç”¨åˆ°è¿™ä¸ªä»£ç†ç±»çš„å‡½æ•°å°±ä¼šç›´æ¥è°ƒç”¨invokeå‡½æ•°ï¼Œè®©æˆ‘ä»¬ç»†ç»†çœ‹ä¸‹è¿™ä¸ªProxy.newProxyInstance</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public static Object newProxyInstance(ClassLoader loader, Class&lt;?&gt;[] interfaces, InvocationHandler h)</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>æ³•çš„ä¸‰ä¸ªå‚æ•°å«ä¹‰åˆ†åˆ«å¦‚ä¸‹ï¼š</p>
<ul>
<li>loaderï¼šå®šä¹‰äº†ä»£ç†ç±»çš„ClassLoder;</li>
<li>interfacesï¼šä»£ç†ç±»å®ç°çš„æ¥å£åˆ—è¡¨</li>
<li>hï¼šè°ƒç”¨å¤„ç†å™¨ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢å®šä¹‰çš„å®ç°äº†InvocationHandleræ¥å£çš„ç±»å®ä¾‹</li>
</ul>
<p>è¿™é‡Œç®€å•æ€»ç»“ä¸€ä¸‹ï¼Œå§”æ‰˜ç±»é€šè¿‡*<em>newProxyInstance *</em>æ–¹æ³•è·å–åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»çš„å®ä¾‹(æœ¬ä¾‹æ˜¯$Proxy0.class),ç„¶åå¯ä»¥é€šè¿‡è¿™ä¸ªä»£ç†ç±»å®ä¾‹è°ƒç”¨ä»£ç†çš„æ–¹æ³•è·å¾—å§”æ‰˜ç±»çš„æ§åˆ¶æƒï¼Œå¯¹ä»£ç†ç±»çš„è°ƒç”¨å®é™…ä¸Šéƒ½ä¼šèµ°åˆ°invokeæ–¹æ³•ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è°ƒç”¨å§”æ‰˜ç±»çš„ç›¸åº”æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥æ·»åŠ è‡ªå·±çš„ä¸€äº›é€»è¾‘ï¼Œæ¯”å¦‚ç»Ÿä¸€å¤„ç†ç™»é™†ã€æ ¡éªŒä¹‹ç±»çš„ã€‚</p>
<h2 id="3-3ã€åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»-Proxy0"><a href="#3-3ã€åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»-Proxy0" class="headerlink" title="3.3ã€åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»$Proxy0"></a>3.3ã€åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»$Proxy0</h2><p>åœ¨Android Studioä¸­è°ƒç”¨ä¸äº†<code>ProxyGenerator</code>è¿™ä¸ªç±»,è¿™ä¸ªç±»åœ¨sun.miscåŒ…ä¸­,ä½¿ç”¨IntelliJ IDEåˆ›å»ºjavaå·¥ç¨‹ï¼Œéœ€è¦çœ‹ä¸€ä¸‹<a href="https://juejin.im/post/5c70094051882562a12aec51" target="_blank" rel="noopener">jdk</a>çš„åå°„ä¸­Proxyå’Œç”Ÿæˆçš„ä»£ç†ç±»$Proxy0çš„æºç ï¼Œå¯ä»¥ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//ç”Ÿæˆ$Proxy0çš„classæ–‡ä»¶</span><br><span class="line">System.getProperties().put(&quot;sun.misc.ProxyGenerator.saveGeneratedFiles&quot;, &quot;true&quot;);</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆçš„ä»£ç†ç±»åœ¨com.sun.proxyåŒ…é‡Œé¢å®Œæ•´ä»£ç å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">public final class $Proxy0 extends Proxy implements SellMask &#123;</span><br><span class="line">    private static Method m1;</span><br><span class="line">    private static Method m2;</span><br><span class="line">    private static Method m3;</span><br><span class="line">    private static Method m0;</span><br><span class="line"></span><br><span class="line">    public $Proxy0(InvocationHandler var1) throws  &#123;</span><br><span class="line">        super(var1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public final boolean equals(Object var1) throws  &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            return (Boolean)super.h.invoke(this, m1, new Object[]&#123;var1&#125;);</span><br><span class="line">        &#125; catch (RuntimeException | Error var3) &#123;</span><br><span class="line">            throw var3;</span><br><span class="line">        &#125; catch (Throwable var4) &#123;</span><br><span class="line">            throw new UndeclaredThrowableException(var4);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public final String toString() throws  &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            return (String)super.h.invoke(this, m2, (Object[])null);</span><br><span class="line">        &#125; catch (RuntimeException | Error var2) &#123;</span><br><span class="line">            throw var2;</span><br><span class="line">        &#125; catch (Throwable var3) &#123;</span><br><span class="line">            throw new UndeclaredThrowableException(var3);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    public final void sell() throws  &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">          //å¯ä»¥çœ‹åˆ°æ¥å£æ–¹æ³•éƒ½äº¤ç”±hçš„invokeæ–¹æ³•å¤„ç†ï¼Œhåœ¨çˆ¶ç±»Proxyä¸­å®šä¹‰ä¸ºInvocationHandleræ¥å£</span><br><span class="line">            super.h.invoke(this, m3, (Object[])null);</span><br><span class="line">        &#125; catch (RuntimeException | Error var2) &#123;</span><br><span class="line">            throw var2;</span><br><span class="line">        &#125; catch (Throwable var3) &#123;</span><br><span class="line">            throw new UndeclaredThrowableException(var3);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public final int hashCode() throws  &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            return (Integer)super.h.invoke(this, m0, (Object[])null);</span><br><span class="line">        &#125; catch (RuntimeException | Error var2) &#123;</span><br><span class="line">            throw var2;</span><br><span class="line">        &#125; catch (Throwable var3) &#123;</span><br><span class="line">            throw new UndeclaredThrowableException(var3);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    static &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            m1 = Class.forName(&quot;java.lang.Object&quot;).getMethod(&quot;equals&quot;, Class.forName(&quot;java.lang.Object&quot;));</span><br><span class="line">            m2 = Class.forName(&quot;java.lang.Object&quot;).getMethod(&quot;toString&quot;);</span><br><span class="line">            m3 = Class.forName(&quot;dev.proxy.SellMask&quot;).getMethod(&quot;sell&quot;);</span><br><span class="line">            m0 = Class.forName(&quot;java.lang.Object&quot;).getMethod(&quot;hashCode&quot;);</span><br><span class="line">        &#125; catch (NoSuchMethodException var2) &#123;</span><br><span class="line">            throw new NoSuchMethodError(var2.getMessage());</span><br><span class="line">        &#125; catch (ClassNotFoundException var3) &#123;</span><br><span class="line">            throw new NoClassDefFoundError(var3.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>ä»ç”Ÿæˆçš„ä»£ç†ç±»ä¸­å¯ä»¥çœ‹åˆ°</p>
<ul>
<li>åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»æ˜¯ä»¥<code>$Proxy</code>ä¸ºç±»åå‰ç¼€ï¼Œç»§æ‰¿è‡ª<code>Proxy</code>ï¼Œå¹¶ä¸”å®ç°äº†<code>Proxy.newProxyInstance(â€¦)</code>ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥çš„æ‰€æœ‰æ¥å£çš„ç±»ã€‚</li>
<li>æ¥å£æ–¹æ³•éƒ½äº¤ç”±hçš„invokeæ–¹æ³•å¤„ç†ï¼Œhåœ¨çˆ¶ç±»Proxyä¸­å®šä¹‰ä¸ºInvocationHandleræ¥å£ï¼Œä¸ºProxy.newProxyInstance(â€¦)çš„ç¬¬ä¸‰ä¸ªå‚æ•°</li>
</ul>
<h2 id="3-4-åŠ¨æ€ä»£ç†ç±»å¦‚ä½•ç”Ÿæˆ"><a href="#3-4-åŠ¨æ€ä»£ç†ç±»å¦‚ä½•ç”Ÿæˆ" class="headerlink" title="3.4 åŠ¨æ€ä»£ç†ç±»å¦‚ä½•ç”Ÿæˆ"></a>3.4 åŠ¨æ€ä»£ç†ç±»å¦‚ä½•ç”Ÿæˆ</h2><ul>
<li>å…³æ³¨ç‚¹1 Proxy.newProxyInstance(â€¦â€¦)å‡½æ•°</li>
</ul>
<p>åŠ¨æ€ä»£ç†ç±»æ˜¯åœ¨è°ƒç”¨ Proxy.newProxyInstance(â€¦â€¦)å‡½æ•°æ—¶ç”Ÿæˆçš„ï¼Œç²¾ç®€åçš„æ ¸å¿ƒä»£ç å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public static Object newProxyInstance(ClassLoader loader,</span><br><span class="line">                                          Class&lt;?&gt;[] interfaces,</span><br><span class="line">                                          InvocationHandler h)</span><br><span class="line">        throws IllegalArgumentException</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">        final Class&lt;?&gt;[] intfs = interfaces.clone();</span><br><span class="line">        â€¦â€¦</span><br><span class="line">        /*</span><br><span class="line">         * Look up or generate the designated proxy class.</span><br><span class="line">         * å¾—åˆ°åŠ¨æ€ä»£ç†ç±»</span><br><span class="line">         */</span><br><span class="line">        Class&lt;?&gt; cl = getProxyClass0(loader, intfs);</span><br><span class="line"></span><br><span class="line">        /*</span><br><span class="line">         * Invoke its constructor with the designated invocation handler.</span><br><span class="line">         */</span><br><span class="line">        try &#123;</span><br><span class="line">            â€¦â€¦</span><br><span class="line">            final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);</span><br><span class="line">            final InvocationHandler ih = h;</span><br><span class="line">            if (!Modifier.isPublic(cl.getModifiers())) &#123;</span><br><span class="line">                AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() &#123;</span><br><span class="line">                    public Void run() &#123;</span><br><span class="line">                        cons.setAccessible(true);</span><br><span class="line">                        return null;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            //ç„¶åå°†InvocationHandlerä½œä¸ºä»£ç†ç±»æ„é€ å‡½æ•°å…¥å‚æ–°å»ºä»£ç†ç±»å¯¹è±¡</span><br><span class="line">            return cons.newInstance(new Object[]&#123;h&#125;);</span><br><span class="line">        &#125; catch (IllegalAccessException|InstantiationException e) &#123;</span><br><span class="line">           â€¦â€¦</span><br><span class="line">    &#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° é¦–å…ˆè°ƒç”¨å®ƒå…ˆè°ƒç”¨<code>getProxyClass(loader, interfaces)</code>å¾—åˆ°åŠ¨æ€ä»£ç†ç±»ï¼Œç„¶åå°†<code>InvocationHandler</code>ä½œä¸ºä»£ç†ç±»æ„é€ å‡½æ•°å…¥å‚æ–°å»ºä»£ç†ç±»å¯¹è±¡ã€‚</p>
<ul>
<li>å…³æ³¨ç‚¹2 Class&lt;?&gt; cl = getProxyClass0(loader, intfs);</li>
</ul>
<p>å¦‚ä½•è·å–åˆ° ç”ŸæˆåŠ¨æ€ä»£ç†ç±»å‘¢ï¼Œä¸€æ­¥æ­¥è¿½è¸ªï¼Œæˆ‘ä»¬å‘ç°ï¼Œåœ¨Proxy#ProxyClassFactoryç±»ä¸­ï¼Œåœ¨ProxyGeneratorä¸­å»ç”ŸæˆåŠ¨æ€ä»£ç†ï¼Œç±»åä»¥$Proxy+numä½œä¸ºæ ‡è®°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">						/*</span><br><span class="line">             * Generate the specified proxy class.</span><br><span class="line">             */</span><br><span class="line">            byte[] proxyClassFile = ProxyGenerator.generateProxyClass(</span><br><span class="line">                proxyName, interfaces, accessFlags);</span><br><span class="line">            try &#123;</span><br><span class="line">                return defineClass0(loader, proxyName,</span><br><span class="line">                                    proxyClassFile, 0, proxyClassFile.length);</span><br><span class="line">            &#125; catch (ClassFormatError e) &#123;</span><br><span class="line">                throw new IllegalArgumentException(e.toString());</span><br><span class="line">            &#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><p>æœ¬ç¯‡ä¸»è¦javaä¸­çš„ä»£ç†æ¨¡å¼ä»¥åŠè·Ÿå…¶ä»–æ¨¡å¼çš„å¯¹æ¯”ï¼Œå¹¶é‡ç‚¹ä»‹ç»äº†JDKä¸­çš„åŠ¨æ€ä»£ç†æœºåˆ¶ï¼ŒåƒAOPã€retrofitæ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€å°±ä½¿ç”¨åˆ°äº†è¿™ç§æŠ€æœ¯ï¼Œä½†JavaåŠ¨æ€ä»£ç†æ˜¯åŸºäºæ¥å£çš„ï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰å®ç°æ¥å£æˆ‘ä»¬è¯¥å¦‚ä½•ä»£ç†å‘¢ï¼Ÿé‚£å°±éœ€è¦CGLIBäº†ï¼Œ<a href="https://github.com/cglib/cglib" target="_blank" rel="noopener">CGLIB</a>(<em>Code Generation Library</em>)æ˜¯ä¸€ä¸ªåŸºäº<a href="http://www.baeldung.com/java-asm" target="_blank" rel="noopener">ASM</a>çš„å­—èŠ‚ç ç”Ÿæˆåº“ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨è¿è¡Œæ—¶å¯¹å­—èŠ‚ç è¿›è¡Œä¿®æ”¹å’ŒåŠ¨æ€ç”Ÿæˆã€‚CGLIBé€šè¿‡ç»§æ‰¿æ–¹å¼å®ç°ä»£ç†ï¼Œè¿™é‡Œå°±ä¸å±•å¼€èµ˜è¿°äº†ã€‚</p>
<h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><ul>
<li><a href="https://juejin.im/post/5a99048a6fb9a028d5668e62" target="_blank" rel="noopener">juejin.im/post/5a9904â€¦</a></li>
<li><a href="https://juejin.im/post/5ad3e6b36fb9a028ba1fee6a" target="_blank" rel="noopener">juejin.im/post/5ad3e6â€¦</a></li>
<li><a href="http://www.cnblogs.com/xiaoluo501395377/p/3383130.html" target="_blank" rel="noopener">www.cnblogs.com/xiaoluo5013â€¦</a></li>
<li><a href="https://www.zhihu.com/question/20794107" target="_blank" rel="noopener">www.zhihu.com/question/20â€¦</a></li>
<li><a href="https://blog.csdn.net/qq_27095957/article/details/80184291" target="_blank" rel="noopener">blog.csdn.net/qq_27095957â€¦</a></li>
<li>[a.codekk.com/detail/Andrâ€¦](<a href="http://a.codekk.com/detail/Android/Caij/å…¬å…±æŠ€æœ¯ç‚¹ä¹‹" target="_blank" rel="noopener">http://a.codekk.com/detail/Android/Caij/å…¬å…±æŠ€æœ¯ç‚¹ä¹‹</a> Java åŠ¨æ€ä»£ç†)</li>
<li><a href="https://www.jianshu.com/p/0391a8e93d3d" target="_blank" rel="noopener">www.jianshu.com/p/0391a8e93â€¦</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/09/23/è®¾è®¡æ¨¡å¼ç²¾ç®€å›¾å†Œ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/23/è®¾è®¡æ¨¡å¼ç²¾ç®€å›¾å†Œ/" class="post-title-link" itemprop="url">è®¾è®¡æ¨¡å¼ç²¾ç®€å›¾å†Œ</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-09-23 20:50:20" itemprop="dateCreated datePublished" datetime="2019-09-23T20:50:20+08:00">2019-09-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 14:32:29" itemprop="dateModified" datetime="2019-12-31T14:32:29+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index">
                    <span itemprop="name">android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æ•°æ®ç»“æ„/" itemprop="url" rel="index">
                    <span itemprop="name">æ•°æ®ç»“æ„</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id><a href="#" class="headerlink" title></a></h2><h1 id="è®¾è®¡æ¨¡å¼ç²¾ç®€å›¾å†Œ"><a href="#è®¾è®¡æ¨¡å¼ç²¾ç®€å›¾å†Œ" class="headerlink" title="è®¾è®¡æ¨¡å¼ç²¾ç®€å›¾å†Œ"></a>è®¾è®¡æ¨¡å¼ç²¾ç®€å›¾å†Œ</h1><p><a href="https://juejin.im/post/5c6c24e5f265da2dce1f3ab8" target="_blank" rel="noopener">æ¥æº</a></p>
<blockquote>
<p>é¦–å‘äºæˆ‘çš„å…¬ä¼—å·</p>
<p><a href="https://mp.weixin.qq.com/s?__biz=MzU5OTgzNzM0NA==&mid=2247483802&idx=1&sn=18e83f219111ce13a057ec41dba6a0d4&chksm=feaf9e55c9d81743ffb1d265ea3085c209b02e9ca500d68f815d0727c0d73316023ec3a36768&token=1810700630&lang=zh_CN#rd" target="_blank" rel="noopener">è®¾è®¡æ¨¡å¼å›¾å†Œ</a></p>
</blockquote>
<h2 id="è®¾è®¡æ¨¡å¼åˆ†ç±»"><a href="#è®¾è®¡æ¨¡å¼åˆ†ç±»" class="headerlink" title="è®¾è®¡æ¨¡å¼åˆ†ç±»"></a>è®¾è®¡æ¨¡å¼åˆ†ç±»</h2><h3 id="åˆ›å»ºå‹æ¨¡å¼ï¼š"><a href="#åˆ›å»ºå‹æ¨¡å¼ï¼š" class="headerlink" title="åˆ›å»ºå‹æ¨¡å¼ï¼š"></a>åˆ›å»ºå‹æ¨¡å¼ï¼š</h3><p>ä¸»è¦ç”¨äºåˆ›å»ºå¯¹è±¡ï¼ŒåŒ…æ‹¬</p>
<ul>
<li>å·¥å‚æ–¹æ³•(Factory Method)</li>
<li>æŠ½è±¡å·¥å‚(Abstract Factory)</li>
<li>å•ä¾‹(Singleton)</li>
<li>ç”Ÿæˆå™¨(Builder)</li>
<li>åŸå‹(Prototype)</li>
</ul>
<h3 id="ç»“æ„å‹æ¨¡å¼ï¼š"><a href="#ç»“æ„å‹æ¨¡å¼ï¼š" class="headerlink" title="ç»“æ„å‹æ¨¡å¼ï¼š"></a>ç»“æ„å‹æ¨¡å¼ï¼š</h3><p>ç”¨äºå¤„ç†ç±»æˆ–è€…å¯¹è±¡çš„ç»„åˆï¼ŒåŒ…æ‹¬</p>
<ul>
<li>é€‚é…å™¨(Adapter)</li>
<li>è£…é¥°è€…(Decorator)</li>
<li>ä»£ç†(Proxy)</li>
<li>å¤–è§‚(Facade)</li>
<li>æ¡¥æ¥(Bridge Pattern)</li>
<li>ç»„åˆ(Composite)</li>
<li>è½»é‡(Flyweigh)</li>
</ul>
<h3 id="è¡Œä¸ºå‹æ¨¡å¼ï¼š"><a href="#è¡Œä¸ºå‹æ¨¡å¼ï¼š" class="headerlink" title="è¡Œä¸ºå‹æ¨¡å¼ï¼š"></a>è¡Œä¸ºå‹æ¨¡å¼ï¼š</h3><p>ç”¨äºæè¿°ç±»ä¸å¯¹è±¡æ€æ ·çš„äº¤äº’å’Œåˆ†é…èŒè´£ï¼ŒåŒ…æ‹¬</p>
<ul>
<li>ç­–ç•¥(Strategy)</li>
<li>è§‚å¯Ÿè€…(Observer)</li>
<li>å‘½ä»¤(Command)</li>
<li>æ¨¡æ¿æ–¹æ³•(Template Method)</li>
<li>è¿­ä»£å™¨(Iterator)</li>
<li>çŠ¶æ€(State)</li>
<li>è´£ä»»é“¾(Chain)</li>
<li>è§£é‡Šå™¨(Interpreter)</li>
<li>ä¸­ä»‹è€…(Mediator)</li>
<li>å¤‡å¿˜å½•(Memo)</li>
<li>è®¿é—®è€…(Visitor)</li>
</ul>
<h2 id="è®¾è®¡åŸåˆ™"><a href="#è®¾è®¡åŸåˆ™" class="headerlink" title="è®¾è®¡åŸåˆ™"></a>è®¾è®¡åŸåˆ™</h2><h3 id="å•ä¸€èŒè´£åŸåˆ™-Single-responsibility-principle"><a href="#å•ä¸€èŒè´£åŸåˆ™-Single-responsibility-principle" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™(Single responsibility principle)"></a>å•ä¸€èŒè´£åŸåˆ™(Single responsibility principle)</h3><ul>
<li>æ ¸å¿ƒ ä¸è¦å­˜åœ¨å¤šäºä¸€ä¸ªå¯¼è‡´ç±»å˜æ›´çš„åŸå› ã€‚é€šä¿—çš„è¯´ï¼Œå³ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ã€‚</li>
<li>é—®é¢˜äº§ç”Ÿ ç±»Tè´Ÿè´£ä¸¤ä¸ªä¸åŒçš„èŒè´£ï¼šèŒè´£P1ï¼ŒèŒè´£P2ã€‚å½“ç”±äºèŒè´£P1éœ€æ±‚å‘ç”Ÿæ”¹å˜è€Œéœ€è¦ä¿®æ”¹ç±»Tæ—¶ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´åŸæœ¬è¿è¡Œæ­£å¸¸çš„èŒè´£P2åŠŸèƒ½å‘ç”Ÿæ•…éšœã€‚</li>
<li>è§£å†³æ–¹æ¡ˆ éµå¾ªå•ä¸€èŒè´£åŸåˆ™ã€‚åˆ†åˆ«å»ºç«‹ä¸¤ä¸ªç±»T1ã€T2ï¼Œä½¿T1å®ŒæˆèŒè´£P1åŠŸèƒ½ï¼ŒT2å®ŒæˆèŒè´£P2åŠŸèƒ½ã€‚è¿™æ ·ï¼Œå½“ä¿®æ”¹ç±»T1æ—¶ï¼Œä¸ä¼šä½¿èŒè´£P2å‘ç”Ÿæ•…éšœé£é™©ï¼›åŒç†ï¼Œå½“ä¿®æ”¹T2æ—¶ï¼Œä¹Ÿä¸ä¼šä½¿èŒè´£P1å‘ç”Ÿæ•…éšœé£é™©ã€‚</li>
</ul>
<p>ä½†æ˜¯ç”±äºèŒè´£æ‰©æ•£ä¼šå¯¼è‡´åœ¨å®é™…ä¸­å¾€å¾€ä¼šæœ‰æ‚–äºå•ä¸€èŒè´£</p>
<h3 id="é‡Œæ°ä»£æ¢åŸåˆ™-Liskov-Substitution-Principle-LSP"><a href="#é‡Œæ°ä»£æ¢åŸåˆ™-Liskov-Substitution-Principle-LSP" class="headerlink" title="é‡Œæ°ä»£æ¢åŸåˆ™(Liskov Substitution Principle LSP)"></a>é‡Œæ°ä»£æ¢åŸåˆ™(Liskov Substitution Principle LSP)</h3><ul>
<li>æ ¸å¿ƒ æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡ã€‚</li>
<li>é—®é¢˜äº§ç”Ÿ æœ‰ä¸€åŠŸèƒ½P1ï¼Œç”±ç±»Aå®Œæˆã€‚ç°éœ€è¦å°†åŠŸèƒ½P1è¿›è¡Œæ‰©å±•ï¼Œæ‰©å±•åçš„åŠŸèƒ½ä¸ºPï¼Œå…¶ä¸­Pç”±åŸæœ‰åŠŸèƒ½P1ä¸æ–°åŠŸèƒ½P2ç»„æˆã€‚æ–°åŠŸèƒ½Pç”±ç±»Açš„å­ç±»Bæ¥å®Œæˆï¼Œåˆ™å­ç±»Båœ¨å®Œæˆæ–°åŠŸèƒ½P2çš„åŒæ—¶ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´åŸæœ‰åŠŸèƒ½P1å‘ç”Ÿæ•…éšœã€‚</li>
<li>è§£å†³æ–¹æ¡ˆ å½“ä½¿ç”¨ç»§æ‰¿æ—¶ï¼Œéµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™ã€‚ç±»Bç»§æ‰¿ç±»Aæ—¶ï¼Œé™¤æ·»åŠ æ–°çš„æ–¹æ³•å®Œæˆæ–°å¢åŠŸèƒ½P2å¤–ï¼Œå°½é‡ä¸è¦é‡å†™çˆ¶ç±»Açš„æ–¹æ³•ï¼Œä¹Ÿå°½é‡ä¸è¦é‡è½½çˆ¶ç±»Açš„æ–¹æ³•ã€‚</li>
</ul>
<p>ç»§æ‰¿åŒ…å«è¿™æ ·ä¸€å±‚å«ä¹‰ï¼šçˆ¶ç±»ä¸­å‡¡æ˜¯å·²ç»å®ç°å¥½çš„æ–¹æ³•ï¼ˆç›¸å¯¹äºæŠ½è±¡æ–¹æ³•è€Œè¨€ï¼‰ï¼Œå®é™…ä¸Šæ˜¯åœ¨è®¾å®šä¸€ç³»åˆ—çš„è§„èŒƒå’Œå¥‘çº¦ï¼Œè™½ç„¶å®ƒä¸å¼ºåˆ¶è¦æ±‚æ‰€æœ‰çš„å­ç±»å¿…é¡»éµä»è¿™äº›å¥‘çº¦ï¼Œä½†æ˜¯å¦‚æœå­ç±»å¯¹è¿™äº›éæŠ½è±¡æ–¹æ³•ä»»æ„ä¿®æ”¹ï¼Œå°±ä¼šå¯¹æ•´ä¸ªç»§æ‰¿ä½“ç³»é€ æˆç ´åã€‚è€Œé‡Œæ°æ›¿æ¢åŸåˆ™å°±æ˜¯è¡¨è¾¾äº†è¿™ä¸€å±‚å«ä¹‰ã€‚</p>
<p>ç»§æ‰¿ä½œä¸ºé¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œåœ¨ç»™ç¨‹åºè®¾è®¡å¸¦æ¥å·¨å¤§ä¾¿åˆ©çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†å¼Šç«¯ã€‚æ¯”å¦‚ä½¿ç”¨ç»§æ‰¿ä¼šç»™ç¨‹åºå¸¦æ¥ä¾µå…¥æ€§ï¼Œç¨‹åºçš„å¯ç§»æ¤æ€§é™ä½ï¼Œå¢åŠ äº†å¯¹è±¡é—´çš„è€¦åˆæ€§ï¼Œå¦‚æœä¸€ä¸ªç±»è¢«å…¶ä»–çš„ç±»æ‰€ç»§æ‰¿ï¼Œåˆ™å½“è¿™ä¸ªç±»éœ€è¦ä¿®æ”¹æ—¶ï¼Œå¿…é¡»è€ƒè™‘åˆ°æ‰€æœ‰çš„å­ç±»ï¼Œå¹¶ä¸”çˆ¶ç±»ä¿®æ”¹åï¼Œæ‰€æœ‰æ¶‰åŠåˆ°å­ç±»çš„åŠŸèƒ½éƒ½æœ‰å¯èƒ½ä¼šäº§ç”Ÿæ•…éšœã€‚</p>
<h3 id="æ¥å£éš”ç¦»åŸåˆ™-Interface-Segregation-Principle"><a href="#æ¥å£éš”ç¦»åŸåˆ™-Interface-Segregation-Principle" class="headerlink" title="æ¥å£éš”ç¦»åŸåˆ™(Interface Segregation Principle)"></a>æ¥å£éš”ç¦»åŸåˆ™(Interface Segregation Principle)</h3><ul>
<li>æ ¸å¿ƒ ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼›ä¸€ä¸ªç±»å¯¹å¦ä¸€ä¸ªç±»çš„ä¾èµ–åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Šã€‚</li>
<li>é—®é¢˜äº§ç”Ÿ ç±»Aé€šè¿‡æ¥å£Iä¾èµ–ç±»Bï¼Œç±»Cé€šè¿‡æ¥å£Iä¾èµ–ç±»Dï¼Œå¦‚æœæ¥å£Iå¯¹äºç±»Aå’Œç±»Bæ¥è¯´ä¸æ˜¯æœ€å°æ¥å£ï¼Œåˆ™ç±»Bå’Œç±»Då¿…é¡»å»å®ç°ä»–ä»¬ä¸éœ€è¦çš„æ–¹æ³•ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆ å°†è‡ƒè‚¿çš„æ¥å£Iæ‹†åˆ†ä¸ºç‹¬ç«‹çš„å‡ ä¸ªæ¥å£ï¼Œç±»Aå’Œç±»Cåˆ†åˆ«ä¸ä»–ä»¬éœ€è¦çš„æ¥å£å»ºç«‹ä¾èµ–å…³ç³»ã€‚ä¹Ÿå°±æ˜¯é‡‡ç”¨æ¥å£éš”ç¦»åŸåˆ™ã€‚</li>
</ul>
<p>æ¥å£éš”ç¦»åŸåˆ™è·Ÿä¹‹å‰çš„å•ä¸€èŒè´£åŸåˆ™å¾ˆç›¸ä¼¼ï¼Œå…¶å®ä¸ç„¶ã€‚å…¶ä¸€ï¼Œå•ä¸€èŒè´£åŸåˆ™åŸæ³¨é‡çš„æ˜¯èŒè´£ï¼›è€Œæ¥å£éš”ç¦»åŸåˆ™æ³¨é‡å¯¹æ¥å£ä¾èµ–çš„éš”ç¦»ã€‚å…¶äºŒï¼Œå•ä¸€èŒè´£åŸåˆ™ä¸»è¦æ˜¯çº¦æŸç±»ï¼Œå…¶æ¬¡æ‰æ˜¯æ¥å£å’Œæ–¹æ³•ï¼Œå®ƒé’ˆå¯¹çš„æ˜¯ç¨‹åºä¸­çš„å®ç°å’Œç»†èŠ‚ï¼›è€Œæ¥å£éš”ç¦»åŸåˆ™ä¸»è¦çº¦æŸæ¥å£æ¥å£ï¼Œä¸»è¦é’ˆå¯¹æŠ½è±¡ï¼Œé’ˆå¯¹ç¨‹åºæ•´ä½“æ¡†æ¶çš„æ„å»ºã€‚</p>
<p>é‡‡ç”¨æ¥å£éš”ç¦»åŸåˆ™å¯¹æ¥å£è¿›è¡Œçº¦æŸæ—¶ï¼Œè¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>æ¥å£å°½é‡å°ï¼Œä½†æ˜¯è¦æœ‰é™åº¦ã€‚å¯¹æ¥å£è¿›è¡Œç»†åŒ–å¯ä»¥æé«˜ç¨‹åºè®¾è®¡çµæ´»æ€§æ˜¯ä¸æŒ£çš„äº‹å®ï¼Œä½†æ˜¯å¦‚æœè¿‡å°ï¼Œåˆ™ä¼šé€ æˆæ¥å£æ•°é‡è¿‡å¤šï¼Œä½¿è®¾è®¡å¤æ‚åŒ–ã€‚æ‰€ä»¥ä¸€å®šè¦é€‚åº¦ã€‚</li>
<li>ä¸ºä¾èµ–æ¥å£çš„ç±»å®šåˆ¶æœåŠ¡ï¼Œåªæš´éœ²ç»™è°ƒç”¨çš„ç±»å®ƒéœ€è¦çš„æ–¹æ³•ï¼Œå®ƒä¸éœ€è¦çš„æ–¹æ³•åˆ™éšè—èµ·æ¥ã€‚åªæœ‰ä¸“æ³¨åœ°ä¸ºä¸€ä¸ªæ¨¡å—æä¾›å®šåˆ¶æœåŠ¡ï¼Œæ‰èƒ½å»ºç«‹æœ€å°çš„ä¾èµ–å…³ç³»ã€‚</li>
<li>æé«˜å†…èšï¼Œå‡å°‘å¯¹å¤–äº¤äº’ã€‚ä½¿æ¥å£ç”¨æœ€å°‘çš„æ–¹æ³•å»å®Œæˆæœ€å¤šçš„äº‹æƒ…ã€‚</li>
</ul>
<p>è¿ç”¨æ¥å£éš”ç¦»åŸåˆ™ï¼Œä¸€å®šè¦é€‚åº¦ï¼Œæ¥å£è®¾è®¡çš„è¿‡å¤§æˆ–è¿‡å°éƒ½ä¸å¥½ã€‚è®¾è®¡æ¥å£çš„æ—¶å€™ï¼Œåªæœ‰å¤šèŠ±äº›æ—¶é—´å»æ€è€ƒå’Œç­¹åˆ’ï¼Œæ‰èƒ½å‡†ç¡®åœ°å®è·µè¿™ä¸€åŸåˆ™ã€‚</p>
<h3 id="è¿ªç±³ç‰¹åŸåˆ™-Law-of-Demeter-Least-Knowledge-Principle"><a href="#è¿ªç±³ç‰¹åŸåˆ™-Law-of-Demeter-Least-Knowledge-Principle" class="headerlink" title="è¿ªç±³ç‰¹åŸåˆ™(Law of Demeter/Least Knowledge Principle )"></a>è¿ªç±³ç‰¹åŸåˆ™(Law of Demeter/Least Knowledge Principle )</h3><ul>
<li>æ ¸å¿ƒ è¿ªç±³ç‰¹æ³•åˆ™åˆå«æœ€å°‘çŸ¥é“åŸåˆ™ï¼Œä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡ä¿æŒæœ€å°‘çš„äº†è§£ã€‚</li>
<li>é—®é¢˜äº§ç”Ÿ ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»è¶Šå¯†åˆ‡ï¼Œè€¦åˆåº¦è¶Šå¤§ï¼Œå½“ä¸€ä¸ªç±»å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¯¹å¦ä¸€ä¸ªç±»çš„å½±å“ä¹Ÿè¶Šå¤§ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆ å°½é‡é™ä½ç±»ä¸ç±»ä¹‹é—´çš„è€¦åˆã€‚</li>
</ul>
<p>é€šä¿—çš„æ¥è®²ï¼Œå°±æ˜¯ä¸€ä¸ªç±»å¯¹è‡ªå·±ä¾èµ–çš„ç±»çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºè¢«ä¾èµ–çš„ç±»æ¥è¯´ï¼Œæ— è®ºé€»è¾‘å¤šä¹ˆå¤æ‚ï¼Œéƒ½å°½é‡åœ°çš„å°†é€»è¾‘å°è£…åœ¨ç±»çš„å†…éƒ¨ï¼Œå¯¹å¤–é™¤äº†æä¾›çš„publicæ–¹æ³•ï¼Œä¸å¯¹å¤–æ³„æ¼ä»»ä½•ä¿¡æ¯ï¼Œ è¿ªç±³ç‰¹æ³•åˆ™è¿˜æœ‰ä¸€ä¸ªæ›´ç®€å•çš„å®šä¹‰ï¼šåªä¸ç›´æ¥çš„æœ‹å‹é€šä¿¡ã€‚é¦–å…ˆæ¥è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ç›´æ¥çš„æœ‹å‹ï¼šæ¯ä¸ªå¯¹è±¡éƒ½ä¼šä¸å…¶ä»–å¯¹è±¡æœ‰è€¦åˆå…³ç³»ï¼Œåªè¦ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´æœ‰è€¦åˆå…³ç³»ï¼Œæˆ‘ä»¬å°±è¯´è¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´æ˜¯æœ‹å‹å…³ç³»ã€‚è€¦åˆçš„æ–¹å¼å¾ˆå¤šï¼Œä¾èµ–ã€å…³è”ã€ç»„åˆã€èšåˆç­‰ã€‚å…¶ä¸­ï¼Œæˆ‘ä»¬ç§°å‡ºç°æˆå‘˜å˜é‡ã€æ–¹æ³•å‚æ•°ã€æ–¹æ³•è¿”å›å€¼ä¸­çš„ç±»ä¸ºç›´æ¥çš„æœ‹å‹ï¼Œè€Œå‡ºç°åœ¨å±€éƒ¨å˜é‡ä¸­çš„ç±»åˆ™ä¸æ˜¯ç›´æ¥çš„æœ‹å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé™Œç”Ÿçš„ç±»æœ€å¥½ä¸è¦ä½œä¸ºå±€éƒ¨å˜é‡çš„å½¢å¼å‡ºç°åœ¨ç±»çš„å†…éƒ¨ã€‚</p>
<h3 id="ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence-Inversion-Principleï¼‰"><a href="#ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence-Inversion-Principleï¼‰" class="headerlink" title="ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰"></a>ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰</h3><ul>
<li>æ ¸å¿ƒ é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ï¼›æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼›ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚</li>
<li>é—®é¢˜äº§ç”Ÿ ç±»Aç›´æ¥ä¾èµ–ç±»Bï¼Œå‡å¦‚è¦å°†ç±»Aæ”¹ä¸ºä¾èµ–ç±»Cï¼Œåˆ™å¿…é¡»é€šè¿‡ä¿®æ”¹ç±»Açš„ä»£ç æ¥è¾¾æˆã€‚è¿™ç§åœºæ™¯ä¸‹ï¼Œç±»Aä¸€èˆ¬æ˜¯é«˜å±‚æ¨¡å—ï¼Œè´Ÿè´£å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼›ç±»Bå’Œç±»Cæ˜¯ä½å±‚æ¨¡å—ï¼Œè´Ÿè´£åŸºæœ¬çš„åŸå­æ“ä½œï¼›å‡å¦‚ä¿®æ”¹ç±»Aï¼Œä¼šç»™ç¨‹åºå¸¦æ¥ä¸å¿…è¦çš„é£é™©ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆ å°†ç±»Aä¿®æ”¹ä¸ºä¾èµ–æ¥å£Iï¼Œç±»Bå’Œç±»Cå„è‡ªå®ç°æ¥å£Iï¼Œç±»Aé€šè¿‡æ¥å£Ié—´æ¥ä¸ç±»Bæˆ–è€…ç±»Cå‘ç”Ÿè”ç³»ï¼Œåˆ™ä¼šå¤§å¤§é™ä½ä¿®æ”¹ç±»Açš„å‡ ç‡ã€‚</li>
</ul>
<p>ä¾èµ–å€’ç½®åŸåˆ™åŸºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼šç›¸å¯¹äºç»†èŠ‚çš„å¤šå˜æ€§ï¼ŒæŠ½è±¡çš„ä¸œè¥¿è¦ç¨³å®šçš„å¤šã€‚ä»¥æŠ½è±¡ä¸ºåŸºç¡€æ­å»ºèµ·æ¥çš„æ¶æ„æ¯”ä»¥ç»†èŠ‚ä¸ºåŸºç¡€æ­å»ºèµ·æ¥çš„æ¶æ„è¦ç¨³å®šçš„å¤šã€‚åœ¨javaä¸­ï¼ŒæŠ½è±¡æŒ‡çš„æ˜¯æ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œç»†èŠ‚å°±æ˜¯å…·ä½“çš„å®ç°ç±»ï¼Œä½¿ç”¨æ¥å£æˆ–è€…æŠ½è±¡ç±»çš„ç›®çš„æ˜¯åˆ¶å®šå¥½è§„èŒƒå’Œå¥‘çº¦ï¼Œè€Œä¸å»æ¶‰åŠä»»ä½•å…·ä½“çš„æ“ä½œï¼ŒæŠŠå±•ç°ç»†èŠ‚çš„ä»»åŠ¡äº¤ç»™ä»–ä»¬çš„å®ç°ç±»å»å®Œæˆã€‚</p>
<p>ä¾èµ–å€’ç½®åŸåˆ™çš„æ ¸å¿ƒæ€æƒ³æ˜¯é¢å‘æ¥å£ç¼–ç¨‹ï¼Œ</p>
<h3 id="å¼€é—­åŸåˆ™-Open-Close-Principle"><a href="#å¼€é—­åŸåˆ™-Open-Close-Principle" class="headerlink" title="å¼€é—­åŸåˆ™(Open Close Principle)"></a>å¼€é—­åŸåˆ™(Open Close Principle)</h3><ul>
<li>æ ¸å¿ƒ ä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚ç±»ã€æ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚</li>
<li>é—®é¢˜äº§ç”Ÿ åœ¨è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œå› ä¸ºå˜åŒ–ã€å‡çº§å’Œç»´æŠ¤ç­‰åŸå› éœ€è¦å¯¹è½¯ä»¶åŸæœ‰ä»£ç è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¯èƒ½ä¼šç»™æ—§ä»£ç ä¸­å¼•å…¥é”™è¯¯ï¼Œä¹Ÿå¯èƒ½ä¼šä½¿æˆ‘ä»¬ä¸å¾—ä¸å¯¹æ•´ä¸ªåŠŸèƒ½è¿›è¡Œé‡æ„ï¼Œå¹¶ä¸”éœ€è¦åŸæœ‰ä»£ç ç»è¿‡é‡æ–°æµ‹è¯•ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆ å½“è½¯ä»¶éœ€è¦å˜åŒ–æ—¶ï¼Œå°½é‡é€šè¿‡æ‰©å±•è½¯ä»¶å®ä½“çš„è¡Œä¸ºæ¥å®ç°å˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¿®æ”¹å·²æœ‰çš„ä»£ç æ¥å®ç°å˜åŒ–ã€‚</li>
</ul>
<p>å¼€é—­åŸåˆ™æ— éå°±æ˜¯æƒ³è¡¨è¾¾è¿™æ ·ä¸€å±‚æ„æ€ï¼šç”¨æŠ½è±¡æ„å»ºæ¡†æ¶ï¼Œç”¨å®ç°æ‰©å±•ç»†èŠ‚ã€‚å› ä¸ºæŠ½è±¡çµæ´»æ€§å¥½ï¼Œé€‚åº”æ€§å¹¿ï¼Œåªè¦æŠ½è±¡çš„åˆç†ï¼Œå¯ä»¥åŸºæœ¬ä¿æŒè½¯ä»¶æ¶æ„çš„ç¨³å®šã€‚è€Œè½¯ä»¶ä¸­æ˜“å˜çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬ç”¨ä»æŠ½è±¡æ´¾ç”Ÿçš„å®ç°ç±»æ¥è¿›è¡Œæ‰©å±•ï¼Œå½“è½¯ä»¶éœ€è¦å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ ¹æ®éœ€æ±‚é‡æ–°æ´¾ç”Ÿä¸€ä¸ªå®ç°ç±»æ¥æ‰©å±•å°±å¯ä»¥äº†ã€‚å½“ç„¶å‰ææ˜¯æˆ‘ä»¬çš„æŠ½è±¡è¦åˆç†ï¼Œè¦å¯¹éœ€æ±‚çš„å˜æ›´æœ‰å‰ç»æ€§å’Œé¢„è§æ€§æ‰è¡Œã€‚</p>
<h2 id="å‡ ä¸ªåŸåˆ™çš„å…³è”æ€§"><a href="#å‡ ä¸ªåŸåˆ™çš„å…³è”æ€§" class="headerlink" title="å‡ ä¸ªåŸåˆ™çš„å…³è”æ€§"></a>å‡ ä¸ªåŸåˆ™çš„å…³è”æ€§</h2><p>ç”¨æŠ½è±¡æ„å»ºæ¡†æ¶ï¼Œç”¨å®ç°æ‰©å±•ç»†èŠ‚çš„æ³¨æ„äº‹é¡¹è€Œå·²ï¼š</p>
<ul>
<li>å•ä¸€èŒè´£åŸåˆ™å‘Šè¯‰æˆ‘ä»¬å®ç°ç±»è¦èŒè´£å•ä¸€ï¼›</li>
<li>é‡Œæ°æ›¿æ¢åŸåˆ™å‘Šè¯‰æˆ‘ä»¬ä¸è¦ç ´åç»§æ‰¿ä½“ç³»ï¼›</li>
<li>ä¾èµ–å€’ç½®åŸåˆ™å‘Šè¯‰æˆ‘ä»¬è¦é¢å‘æ¥å£ç¼–ç¨‹ï¼›</li>
<li>æ¥å£éš”ç¦»åŸåˆ™å‘Šè¯‰æˆ‘ä»¬åœ¨è®¾è®¡æ¥å£çš„æ—¶å€™è¦ç²¾ç®€å•ä¸€ï¼›</li>
<li>è¿ªç±³ç‰¹æ³•åˆ™å‘Šè¯‰æˆ‘ä»¬è¦é™ä½è€¦åˆã€‚ è€Œå¼€é—­åŸåˆ™æ˜¯æ€»çº²ï¼Œä»–å‘Šè¯‰æˆ‘ä»¬è¦å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚</li>
</ul>
<h2 id="åˆ›å»ºå‹è®¾è®¡æ¨¡å¼-åˆ›å»ºå¯¹è±¡"><a href="#åˆ›å»ºå‹è®¾è®¡æ¨¡å¼-åˆ›å»ºå¯¹è±¡" class="headerlink" title="åˆ›å»ºå‹è®¾è®¡æ¨¡å¼(åˆ›å»ºå¯¹è±¡)"></a>åˆ›å»ºå‹è®¾è®¡æ¨¡å¼(åˆ›å»ºå¯¹è±¡)</h2><h3 id="å·¥å‚æ–¹æ³•-Factory-Method-Pattern"><a href="#å·¥å‚æ–¹æ³•-Factory-Method-Pattern" class="headerlink" title="å·¥å‚æ–¹æ³•(Factory Method Pattern)"></a>å·¥å‚æ–¹æ³•(Factory Method Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Factory Method</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td><img src="https://user-gold-cdn.xitu.io/2019/2/19/169066ffce5cc3db?imageslim" alt="img"></td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚Factory Method ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>å½“ä¸€ä¸ªç±»ä¸çŸ¥é“å®ƒæ‰€å¿…é¡»åˆ›å»ºçš„å¯¹è±¡çš„ç±»çš„æ—¶å€™ã€‚å½“ä¸€ä¸ªç±»å¸Œæœ›ç”±å®ƒçš„å­ç±»æ¥æŒ‡å®šå®ƒæ‰€åˆ›å»ºçš„å¯¹è±¡çš„æ—¶å€™ã€‚å½“ç±»å°†åˆ›å»ºå¯¹è±¡çš„èŒè´£å§”æ‰˜ç»™å¤šä¸ªå¸®åŠ©å­ç±»ä¸­çš„æŸä¸€ä¸ªï¼Œå¹¶ä¸”ä½ å¸Œæœ›å°†å“ªä¸€ä¸ªå¸®åŠ©å­ç±»æ˜¯ä»£ç†è€…è¿™ä¸€ä¿¡æ¯å±€éƒ¨åŒ–çš„æ—¶å€™ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>åœ¨å·¥å‚æ–¹æ³•ä¸­ï¼Œç”¨æˆ·åªéœ€è¦çŸ¥é“æ‰€è¦äº§å“çš„å…·ä½“å·¥å‚ï¼Œæ— é¡»å…³ç³»å…·ä½“çš„åˆ›å»ºè¿‡ç¨‹ï¼Œç”šè‡³ä¸éœ€è¦å…·ä½“äº§å“ç±»çš„ç±»åã€‚åœ¨ç³»ç»Ÿå¢åŠ æ–°çš„äº§å“æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ·»åŠ ä¸€ä¸ªå…·ä½“äº§å“ç±»å’Œå¯¹åº”çš„å®ç°å·¥å‚ï¼Œæ— éœ€å¯¹åŸå·¥å‚è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œå¾ˆå¥½åœ°ç¬¦åˆäº†â€œå¼€é—­åŸåˆ™â€ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>æ¯æ¬¡å¢åŠ ä¸€ä¸ªäº§å“æ—¶ï¼Œéƒ½éœ€è¦å¢åŠ ä¸€ä¸ªå…·ä½“ç±»å’Œå¯¹è±¡å®ç°å·¥å‚ï¼Œæ˜¯çš„ç³»ç»Ÿä¸­ç±»çš„ä¸ªæ•°æˆå€å¢åŠ ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ï¼ŒåŒæ—¶ä¹Ÿå¢åŠ äº†ç³»ç»Ÿå…·ä½“ç±»çš„ä¾èµ–ã€‚è¿™å¹¶ä¸æ˜¯ä»€ä¹ˆå¥½äº‹ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>ç®€å•å·¥å‚æ¨¡å¼çš„è¦ç‚¹å°±åœ¨äºå½“ä½ éœ€è¦ä»€ä¹ˆï¼Œåªéœ€è¦ä¼ å…¥ä¸€ä¸ªæ­£ç¡®çš„å‚æ•°ï¼Œå°±å¯ä»¥è·å–ä½ æ‰€éœ€è¦çš„å¯¹è±¡ï¼Œè€Œæ— é¡»çŸ¥é“å…¶åˆ›å»ºç»†èŠ‚ã€‚ç®€å•å·¥å‚æ¨¡å¼æœ€å¤§çš„ä¼˜ç‚¹åœ¨äºå®ç°å¯¹è±¡çš„åˆ›å»ºå’Œå¯¹è±¡çš„ä½¿ç”¨åˆ†ç¦»ï¼Œä½†æ˜¯å¦‚æœäº§å“è¿‡å¤šæ—¶ï¼Œä¼šå¯¼è‡´å·¥å‚ä»£ç éå¸¸å¤æ‚ã€‚</td>
</tr>
</tbody></table>
<h3 id="æŠ½è±¡å·¥å‚-Abstract-Factory-Pattern"><a href="#æŠ½è±¡å·¥å‚-Abstract-Factory-Pattern" class="headerlink" title="æŠ½è±¡å·¥å‚(Abstract Factory Pattern)"></a>æŠ½è±¡å·¥å‚(Abstract Factory Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Abstract Factory</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td><img src="https://user-gold-cdn.xitu.io/2019/2/19/169066ffce813741?imageslim" alt="img"></td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬å…·ä½“çš„ç±»ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>ä¸€ä¸ªç³»ç»Ÿè¦ç‹¬ç«‹äºå®ƒçš„äº§å“çš„åˆ›å»ºã€ç»„åˆå’Œè¡¨ç¤ºæ—¶ã€‚ä¸€ä¸ªç³»ç»Ÿè¦ç”±å¤šä¸ªäº§å“ç³»åˆ—ä¸­çš„ä¸€ä¸ªæ¥é…ç½®æ—¶ã€‚å½“ä½ è¦å¼ºè°ƒä¸€ç³»åˆ—ç›¸å…³çš„äº§å“å¯¹è±¡çš„è®¾è®¡ä»¥ä¾¿è¿›è¡Œè”åˆä½¿ç”¨æ—¶ã€‚å½“ä½ æä¾›ä¸€ä¸ªäº§å“ç±»åº“ï¼Œè€Œåªæƒ³æ˜¾ç¤ºå®ƒä»¬çš„æ¥å£è€Œä¸æ˜¯å®ç°æ—¶ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>æŠ½è±¡å·¥å‚éš”ç¦»äº†å…·ä½“ç±»çš„ç”Ÿæˆï¼Œæ˜¯çš„å®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“ä»€ä¹ˆè¢«åˆ›å»ºã€‚æ‰€æœ‰çš„å…·ä½“å·¥å‚éƒ½å®ç°äº†æŠ½è±¡å·¥å‚ä¸­å®šä¹‰çš„å…¬å…±æ¥å£ï¼Œå› æ­¤åªéœ€è¦æ”¹å˜å…·ä½“å·¥å‚çš„å®ä¾‹ï¼Œå°±å¯ä»¥åœ¨æŸç§ç¨‹åº¦ä¸Šæ”¹å˜æ•´ä¸ªè½¯ä»¶ç³»ç»Ÿçš„è¡Œä¸ºã€‚å½“ä¸€ä¸ªäº§å“æ—ä¸­çš„å¤šä¸ªå¯¹è±¡è¢«è®¾è®¡æˆä¸€èµ·å·¥ä½œæ—¶ï¼Œå®ƒèƒ½å¤Ÿä¿è¯å®¢æˆ·ç«¯å§‹ç»ˆåªä½¿ç”¨åŒä¸€ä¸ªäº§å“æ—ä¸­çš„å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>æ·»åŠ æ–°çš„è¡Œä¸ºæ—¶æ¯”è¾ƒéº»çƒ¦ã€‚å¦‚æœéœ€è¦æ·»åŠ ä¸€ä¸ªæ–°äº§å“æ—å¯¹è±¡æ—¶ï¼Œéœ€è¦æ›´æ”¹æ¥å£åŠå…¶ä¸‹æ‰€æœ‰å­ç±»ï¼Œè¿™å¿…ç„¶ä¼šå¸¦æ¥å¾ˆå¤§çš„éº»çƒ¦ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>æŠ½è±¡å·¥å‚æ¨¡å¼ä¸­ä¸»è¦çš„ä¼˜ç‚¹åœ¨äºå…·ä½“ç±»çš„éš”ç¦»ï¼Œæ˜¯çš„å®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“ä»€ä¹ˆè¢«åˆ›å»ºäº†ã€‚å…¶ç¼ºç‚¹åœ¨äºå¢åŠ æ–°çš„ç­‰çº§äº§å“ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦ä¿®æ”¹æ¥å£åŠå…¶æ‰€æœ‰å­ç±»ã€‚</td>
</tr>
</tbody></table>
<h3 id="ç”Ÿæˆå™¨-å»ºé€ è€…æ¨¡å¼-Builder-Pattern"><a href="#ç”Ÿæˆå™¨-å»ºé€ è€…æ¨¡å¼-Builder-Pattern" class="headerlink" title="ç”Ÿæˆå™¨/å»ºé€ è€…æ¨¡å¼(Builder Pattern)"></a>ç”Ÿæˆå™¨/å»ºé€ è€…æ¨¡å¼(Builder Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Builder</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td><img src="https://user-gold-cdn.xitu.io/2019/2/19/169066ffcfb3a6e6?imageslim" alt="img"></td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>å½“åˆ›å»ºå¤æ‚å¯¹è±¡çš„ç®—æ³•åº”è¯¥ç‹¬ç«‹äºè¯¥å¯¹è±¡çš„ç»„æˆéƒ¨åˆ†ä»¥åŠå®ƒä»¬çš„è£…é…æ–¹å¼æ—¶ã€‚å½“æ„é€ è¿‡ç¨‹å¿…é¡»å…è®¸è¢«æ„é€ çš„å¯¹è±¡æœ‰ä¸åŒçš„è¡¨ç¤ºæ—¶ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>å°†å¤æ‚äº§å“çš„åˆ›å»ºæ­¥éª¤åˆ†è§£åœ¨ä¸åŒçš„æ–¹æ³•ä¸­ï¼Œä½¿å¾—åˆ›å»ºè¿‡ç¨‹æ›´åŠ æ¸…æ™°ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç²¾ç¡®çš„æ§åˆ¶å¤æ‚å¯¹è±¡çš„äº§ç”Ÿè¿‡ç¨‹ã€‚å°†äº§å“çš„åˆ›å»ºè¿‡ç¨‹ä¸äº§å“æœ¬èº«åˆ†ç¦»å¼€æ¥ï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºè¿‡ç¨‹æ¥å¾—åˆ°ä¸åŒçš„äº§å“ã€‚ä¹Ÿå°±è¯´ç»†èŠ‚ä¾èµ–æŠ½è±¡ã€‚æ¯ä¸€ä¸ªå…·ä½“å»ºé€ è€…éƒ½ç›¸å¯¹ç‹¬ç«‹ï¼Œè€Œä¸å…¶ä»–çš„å…·ä½“å»ºé€ è€…æ— å…³ï¼Œå› æ­¤å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ›¿æ¢å…·ä½“å»ºé€ è€…æˆ–å¢åŠ æ–°çš„å…·ä½“å»ºé€ è€…ï¼Œç”¨æˆ·ä½¿ç”¨ä¸åŒçš„å…·ä½“å»ºé€ è€…å³å¯å¾—åˆ°ä¸åŒçš„äº§å“å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>å»ºé€ è€…æ¨¡å¼æ‰€åˆ›å»ºçš„äº§å“ä¸€èˆ¬å…·æœ‰è¾ƒå¤šçš„å…±åŒç‚¹ï¼Œå…¶ç»„æˆéƒ¨åˆ†ç›¸ä¼¼ï¼Œå¦‚æœäº§å“ä¹‹é—´çš„å·®å¼‚æ€§å¾ˆå¤§ï¼Œåˆ™ä¸é€‚åˆä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œå› æ­¤å…¶ä½¿ç”¨èŒƒå›´å—åˆ°ä¸€å®šçš„é™åˆ¶ã€‚å¦‚æœäº§å“çš„å†…éƒ¨å˜åŒ–å¤æ‚ï¼Œå¯èƒ½ä¼šå¯¼è‡´éœ€è¦å®šä¹‰å¾ˆå¤šå…·ä½“å»ºé€ è€…ç±»æ¥å®ç°è¿™ç§å˜åŒ–ï¼Œå¯¼è‡´ç³»ç»Ÿå˜å¾—å¾ˆåºå¤§ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>å»ºé€ è€…æ¨¡å¼æ˜¯å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ç»™å°è£…èµ·æ¥ï¼Œå®¢æˆ·åªéœ€è¦çŸ¥é“å¯ä»¥åˆ©ç”¨å¯¹è±¡åæˆ–è€…ç±»å‹å°±èƒ½å¤Ÿå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„å¯¹è±¡å®ä¾‹ï¼Œè€Œä¸éœ€è¦å…³å¿ƒå¯¹è±¡çš„å…·ä½“åˆ›å»ºè¿‡ç¨‹ã€‚å»ºé€ è€…æ¨¡å¼å°†å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ä¸å¯¹è±¡æœ¬èº«éš”ç¦»å¼€äº†ï¼Œä½¿å¾—ç»†èŠ‚ä¾èµ–äºæŠ½è±¡ï¼Œç¬¦åˆä¾èµ–å€’ç½®åŸåˆ™ã€‚å¯ä»¥ä½¿ç”¨ç›¸åŒçš„åˆ›å»ºè¿‡ç¨‹æ¥åˆ›å»ºä¸åŒçš„äº§å“å¯¹è±¡ã€‚</td>
</tr>
</tbody></table>
<h3 id="åŸå‹æ¨¡å¼-Prototype-Pattern"><a href="#åŸå‹æ¨¡å¼-Prototype-Pattern" class="headerlink" title="åŸå‹æ¨¡å¼(Prototype Pattern)"></a>åŸå‹æ¨¡å¼(Prototype Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Prototype</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="518" height="242"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>å½“è¦å®ä¾‹åŒ–çš„ç±»æ˜¯åœ¨è¿è¡Œæ—¶åˆ»æŒ‡å®šæ—¶ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡åŠ¨æ€è£…è½½ï¼›æˆ–è€…ä¸ºäº†é¿å…åˆ›å»ºä¸€ä¸ªä¸äº§å“ç±»å±‚æ¬¡å¹³è¡Œçš„å·¥å‚ç±»å±‚æ¬¡æ—¶ï¼›æˆ–è€…å½“ä¸€ä¸ªç±»çš„å®ä¾‹åªèƒ½æœ‰å‡ ä¸ªä¸åŒçŠ¶æ€ç»„åˆä¸­çš„ä¸€ç§æ—¶ã€‚å»ºç«‹ç›¸åº”æ•°ç›®çš„åŸå‹å¹¶å…‹éš†å®ƒä»¬å¯èƒ½æ¯”æ¯æ¬¡ç”¨åˆé€‚çš„çŠ¶æ€æ‰‹å·¥å®ä¾‹åŒ–è¯¥ç±»æ›´æ–¹ä¾¿ä¸€äº›ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>å¦‚æœåˆ›å»ºæ–°çš„å¯¹è±¡æ¯”è¾ƒå¤æ‚æ—¶ï¼Œå¯ä»¥åˆ©ç”¨åŸå‹æ¨¡å¼ç®€åŒ–å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿæé«˜æ•ˆç‡ã€‚å¯ä»¥ä½¿ç”¨æ·±å…‹éš†ä¿æŒå¯¹è±¡çš„çŠ¶æ€ã€‚åŸå‹æ¨¡å¼æä¾›äº†ç®€åŒ–çš„åˆ›å»ºç»“æ„ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>åœ¨å®ç°æ·±å…‹éš†çš„æ—¶å€™å¯èƒ½éœ€è¦æ¯”è¾ƒå¤æ‚çš„ä»£ç ã€‚éœ€è¦ä¸ºæ¯ä¸€ä¸ªç±»é…å¤‡ä¸€ä¸ªå…‹éš†æ–¹æ³•ï¼Œè€Œä¸”è¿™ä¸ªå…‹éš†æ–¹æ³•éœ€è¦å¯¹ç±»çš„åŠŸèƒ½è¿›è¡Œé€šç›˜è€ƒè™‘ï¼Œè¿™å¯¹å…¨æ–°çš„ç±»æ¥è¯´ä¸æ˜¯å¾ˆéš¾ï¼Œä½†å¯¹å·²æœ‰çš„ç±»è¿›è¡Œæ”¹é€ æ—¶ï¼Œä¸ä¸€å®šæ˜¯ä»¶å®¹æ˜“çš„äº‹ï¼Œå¿…é¡»ä¿®æ”¹å…¶æºä»£ç ï¼Œè¿èƒŒäº†â€œå¼€é—­åŸåˆ™â€ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>åŸå‹æ¨¡å¼å‘å®¢æˆ·éšè—äº†åˆ›å»ºå¯¹è±¡çš„å¤æ‚æ€§ã€‚å®¢æˆ·åªéœ€è¦çŸ¥é“è¦åˆ›å»ºå¯¹è±¡çš„ç±»å‹ï¼Œç„¶åé€šè¿‡è¯·æ±‚å°±å¯ä»¥è·å¾—å’Œè¯¥å¯¹è±¡ä¸€æ¨¡ä¸€æ ·çš„æ–°å¯¹è±¡ï¼Œæ— é¡»çŸ¥é“å…·ä½“çš„åˆ›å»ºè¿‡ç¨‹ã€‚å…‹éš†åˆ†ä¸ºæµ…å…‹éš†å’Œæ·±å…‹éš†ä¸¤ç§ã€‚æˆ‘ä»¬è™½ç„¶å¯ä»¥åˆ©ç”¨åŸå‹æ¨¡å¼æ¥è·å¾—ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½†æœ‰æ—¶å¯¹è±¡çš„å¤åˆ¶å¯èƒ½ä¼šç›¸å½“çš„å¤æ‚ï¼Œæ¯”å¦‚æ·±å…‹éš†ã€‚</td>
</tr>
</tbody></table>
<h3 id="å•ä¾‹æ¨¡å¼-Singleton-Pattern"><a href="#å•ä¾‹æ¨¡å¼-Singleton-Pattern" class="headerlink" title="å•ä¾‹æ¨¡å¼(Singleton Pattern)"></a>å•ä¾‹æ¨¡å¼(Singleton Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Singleton</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="394" height="146"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>å½“ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹è€Œä¸”å®¢æˆ·å¯ä»¥ä»ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„è®¿é—®ç‚¹è®¿é—®å®ƒæ—¶ã€‚å½“è¿™ä¸ªå”¯ä¸€å®ä¾‹åº”è¯¥æ˜¯é€šè¿‡å­ç±»åŒ–å¯æ‰©å±•çš„ï¼Œå¹¶ä¸”å®¢æˆ·åº”è¯¥æ— éœ€æ›´æ”¹ä»£ç å°±èƒ½ä½¿ç”¨ä¸€ä¸ªæ‰©å±•çš„å®ä¾‹æ—¶ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>èŠ‚çº¦äº†ç³»ç»Ÿèµ„æºã€‚ç”±äºç³»ç»Ÿä¸­åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œå¯¹ä¸ä¸€äº›éœ€è¦é¢‘ç¹åˆ›å»ºå’Œé”€æ¯å¯¹è±¡çš„ç³»ç»Ÿè€Œè¨€ï¼Œå• ä¾‹æ¨¡å¼æ— ç–‘èŠ‚çº¦äº†ç³»ç»Ÿèµ„æºå’Œæé«˜äº†ç³»ç»Ÿçš„æ€§èƒ½ã€‚å› ä¸ºå•ä¾‹ç±»å°è£…äº†å®ƒçš„å”¯ä¸€å®ä¾‹ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä¸¥æ ¼æ§åˆ¶å®¢æˆ·æ€æ ·ä»¥åŠä½•æ—¶è®¿é—®å®ƒã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ç”±äºå•ä¾‹æ¨¡å¼ä¸­æ²¡æœ‰æŠ½è±¡å±‚ï¼Œå› æ­¤å•ä¾‹ç±»çš„æ‰©å±•æœ‰å¾ˆå¤§çš„å›°éš¾ã€‚å•ä¾‹ç±»çš„èŒè´£è¿‡é‡ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè¿èƒŒäº†â€œå•ä¸€èŒè´£åŸåˆ™â€ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>å•ä¾‹æ¨¡å¼ä¸­ç¡®ä¿ç¨‹åºä¸­ä¸€ä¸ªç±»æœ€å¤šåªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚å•ä¾‹æ¨¡å¼çš„æ„é€ å™¨æ˜¯ç§æœ‰äº†ï¼Œè€Œä¸”å®ƒå¿…é¡»è¦æä¾›å®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ã€‚å•ä¾‹æ¨¡å¼å¯èƒ½ä¼šå› ä¸ºå¤šçº¿ç¨‹çš„é—®é¢˜è€Œå¸¦æ¥å®‰å…¨éšæ‚£ã€‚</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class BetterSingleton &#123;</span><br><span class="line"></span><br><span class="line">    private BetterSingleton2() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static BetterSingleton getInstance() &#123;</span><br><span class="line">        return Singleton.BETTER_SINGLETON;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class Singleton&#123;</span><br><span class="line">      private static final  BetterSingleton BETTER_SINGLETON = new BetterSingleton();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">å¤åˆ¶ä»£ç </span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºå‹è®¾è®¡æ¨¡å¼å°ç»“"><a href="#åˆ›å»ºå‹è®¾è®¡æ¨¡å¼å°ç»“" class="headerlink" title="åˆ›å»ºå‹è®¾è®¡æ¨¡å¼å°ç»“"></a>åˆ›å»ºå‹è®¾è®¡æ¨¡å¼å°ç»“</h3><table>
<thead>
<tr>
<th align="left"><strong>æ¨¡å¼</strong></th>
<th>åœºæ™¯å‘æ•£</th>
<th align="left"><strong>ä¸€å¥è¯æ¦‚æ‹¬</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">å·¥å‚æ–¹æ³•(Factory Method)</td>
<td>newå¤ªå¤šå¦‚ä½•ç®¡ç†</td>
<td align="left">ç”Ÿäº§ç³»åˆ—äº§å“ã€‚</td>
</tr>
<tr>
<td align="left">æŠ½è±¡å·¥å‚(Abstract Factory)</td>
<td>newå¤ªå¤šå¦‚ä½•ç®¡ç†</td>
<td align="left">ä¸€æ¬¡ç”Ÿäº§å¤šä¸ªä¸åŒäº§å“ã€‚</td>
</tr>
<tr>
<td align="left">ç”Ÿæˆå™¨(Builder)</td>
<td>è½¦æ‰‹é€‰è½¦</td>
<td align="left">ç”Ÿäº§æœ‰å¾ˆå¤šç»„ä»¶çš„äº§å“ã€‚</td>
</tr>
<tr>
<td align="left">åŸå‹(Prototype)</td>
<td>å¤åˆ¶ä¸èƒ½å¾ˆéš¾</td>
<td align="left">å…‹éš†å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td align="left">å•ä»¶(Singleton)</td>
<td>å¦‚ä½•ç®¡ç†å…¨å±€ä¿¡æ¯</td>
<td align="left">å…¨å±€åªæœ‰ä¸€ä¸ªã€‚</td>
</tr>
</tbody></table>
<h2 id="ç»“æ„å‹è®¾è®¡æ¨¡å¼-å¤„ç†ç±»æˆ–è€…å¯¹è±¡çš„ç»„åˆ"><a href="#ç»“æ„å‹è®¾è®¡æ¨¡å¼-å¤„ç†ç±»æˆ–è€…å¯¹è±¡çš„ç»„åˆ" class="headerlink" title="ç»“æ„å‹è®¾è®¡æ¨¡å¼(å¤„ç†ç±»æˆ–è€…å¯¹è±¡çš„ç»„åˆ)"></a>ç»“æ„å‹è®¾è®¡æ¨¡å¼(å¤„ç†ç±»æˆ–è€…å¯¹è±¡çš„ç»„åˆ)</h2><h3 id="æ¡¥æ¥æ¨¡å¼-Bridge-Pattern"><a href="#æ¡¥æ¥æ¨¡å¼-Bridge-Pattern" class="headerlink" title="æ¡¥æ¥æ¨¡å¼(Bridge Pattern)"></a>æ¡¥æ¥æ¨¡å¼(Bridge Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Bridge</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="600" height="246"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>å°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>å¦‚æœä¸€ä¸ªç³»ç»Ÿéœ€è¦åœ¨æ„ä»¶çš„æŠ½è±¡åŒ–è§’è‰²å’Œå…·ä½“åŒ–è§’è‰²ä¹‹é—´å¢åŠ æ›´å¤šçš„çµæ´»æ€§ï¼Œé¿å…åœ¨ä¸¤ä¸ªå±‚æ¬¡ä¹‹é—´å»ºç«‹é™æ€çš„ç»§æ‰¿è”ç³»ï¼Œé€šè¿‡æ¡¥æ¥æ¨¡å¼å¯ä»¥ä½¿å®ƒä»¬åœ¨æŠ½è±¡å±‚å»ºç«‹ä¸€ä¸ªå…³è”å…³ç³»ã€‚å¯¹äºé‚£äº›ä¸å¸Œæœ›ä½¿ç”¨ç»§æ‰¿æˆ–å› ä¸ºå¤šå±‚æ¬¡ç»§æ‰¿å¯¼è‡´ç³»ç»Ÿç±»çš„ä¸ªæ•°æ€¥å‰§å¢åŠ çš„ç³»ç»Ÿï¼Œæ¡¥æ¥æ¨¡å¼å°¤ä¸ºé€‚ç”¨ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œä¸”è¿™ä¸¤ä¸ªç»´åº¦éƒ½éœ€è¦è¿›è¡Œæ‰©å±•ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>åˆ†ç¦»æŠ½è±¡æ¥å£åŠå…¶å®ç°éƒ¨åˆ†ã€‚æé«˜äº†æ¯”ç»§æ‰¿æ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚æ¡¥æ¥æ¨¡å¼æé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å……æ€§ï¼Œåœ¨ä¸¤ä¸ªå˜åŒ–ç»´åº¦ä¸­ä»»æ„æ‰©å±•ä¸€ä¸ªç»´åº¦ï¼Œéƒ½ä¸éœ€è¦ä¿®æ”¹åŸæœ‰ç³»ç»Ÿã€‚å®ç°ç»†èŠ‚å¯¹å®¢æˆ·é€æ˜ï¼Œå¯ä»¥å¯¹ç”¨æˆ·éšè—å®ç°ç»†èŠ‚ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>æ¡¥æ¥æ¨¡å¼çš„å¼•å…¥ä¼šå¢åŠ ç³»ç»Ÿçš„ç†è§£ä¸è®¾è®¡éš¾åº¦ï¼Œç”±äºèšåˆå…³è”å…³ç³»å»ºç«‹åœ¨æŠ½è±¡å±‚ï¼Œè¦æ±‚å¼€å‘è€…é’ˆå¯¹æŠ½è±¡è¿›è¡Œè®¾è®¡ä¸ç¼–ç¨‹ã€‚æ¡¥æ¥æ¨¡å¼è¦æ±‚æ­£ç¡®è¯†åˆ«å‡ºç³»ç»Ÿä¸­ä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œå› æ­¤å…¶ä½¿ç”¨èŒƒå›´å…·æœ‰ä¸€å®šçš„å±€é™æ€§ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>æ¡¥æ¥æ¨¡å¼å®ç°äº†æŠ½è±¡åŒ–ä¸å®ç°åŒ–çš„è„±è€¦ã€‚ä»–ä»¬ä¸¤ä¸ªäº’ç›¸ç‹¬ç«‹ï¼Œä¸ä¼šå½±å“åˆ°å¯¹æ–¹ã€‚å¯¹äºä¸¤ä¸ªç‹¬ç«‹å˜åŒ–çš„ç»´åº¦ï¼Œä½¿ç”¨æ¡¥æ¥æ¨¡å¼å†é€‚åˆä¸è¿‡äº†ã€‚å¯¹äºâ€œå…·ä½“çš„æŠ½è±¡ç±»â€æ‰€åšçš„æ”¹å˜ï¼Œæ˜¯ä¸ä¼šå½±å“åˆ°å®¢æˆ·ã€‚</td>
</tr>
</tbody></table>
<h3 id="è½»é‡æ¨¡å¼-äº«å…ƒæ¨¡å¼-FlyWeightPattern"><a href="#è½»é‡æ¨¡å¼-äº«å…ƒæ¨¡å¼-FlyWeightPattern" class="headerlink" title="è½»é‡æ¨¡å¼/äº«å…ƒæ¨¡å¼(FlyWeightPattern)"></a>è½»é‡æ¨¡å¼/äº«å…ƒæ¨¡å¼(FlyWeightPattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Flyweight</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="598" height="369"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆåœ°æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>ä¸€ä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨äº†å¤§é‡çš„å¯¹è±¡ã€‚å®Œå…¨ç”±äºä½¿ç”¨å¤§é‡çš„å¯¹è±¡ï¼Œé€ æˆå¾ˆå¤§çš„å­˜å‚¨å¼€é”€ã€‚å¯¹è±¡çš„å¤§å¤šæ•°çŠ¶æ€éƒ½å¯å˜ä¸ºå¤–éƒ¨çŠ¶æ€ã€‚å¦‚æœåˆ é™¤å¯¹è±¡çš„å¤–éƒ¨çŠ¶æ€ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨ç›¸å¯¹è¾ƒå°‘çš„å…±äº«å¯¹è±¡å–ä»£å¾ˆå¤šç»„å¯¹è±¡ã€‚åº”ç”¨ç¨‹åºä¸ä¾èµ–äºå¯¹è±¡æ ‡è¯†ã€‚ç”±äºF l y w e i g h t å¯¹è±¡å¯ä»¥è¢«å…±äº«ï¼Œå¯¹äºæ¦‚å¿µä¸Šæ˜æ˜¾æœ‰åˆ«çš„å¯¹è±¡ï¼Œæ ‡è¯†æµ‹è¯•å°†è¿”å›çœŸå€¼ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>äº«å…ƒæ¨¡å¼çš„ä¼˜ç‚¹åœ¨äºå®ƒèƒ½å¤Ÿæå¤§çš„å‡å°‘ç³»ç»Ÿä¸­å¯¹è±¡çš„ä¸ªæ•°ã€‚äº«å…ƒæ¨¡å¼ç”±äºä½¿ç”¨äº†å¤–éƒ¨çŠ¶æ€ï¼Œå¤–éƒ¨çŠ¶æ€ç›¸å¯¹ç‹¬ç«‹ï¼Œä¸ä¼šå½±å“åˆ°å†…éƒ¨çŠ¶æ€ï¼Œæ‰€ä»¥äº«å…ƒæ¨¡å¼ä½¿å¾—äº«å…ƒå¯¹è±¡èƒ½å¤Ÿåœ¨ä¸åŒçš„ç¯å¢ƒè¢«å…±äº«ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ç”±äºäº«å…ƒæ¨¡å¼éœ€è¦åŒºåˆ†å¤–éƒ¨çŠ¶æ€å’Œå†…éƒ¨çŠ¶æ€ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºåœ¨æŸç§ç¨‹åº¦ä¸Šæ¥è¯´æ›´åŠ å¤æ‚åŒ–äº†ã€‚ä¸ºäº†ä½¿å¯¹è±¡å¯ä»¥å…±äº«ï¼Œäº«å…ƒæ¨¡å¼éœ€è¦å°†äº«å…ƒå¯¹è±¡çš„çŠ¶æ€å¤–éƒ¨åŒ–ï¼Œè€Œè¯»å–å¤–éƒ¨çŠ¶æ€ä½¿å¾—è¿è¡Œæ—¶é—´å˜é•¿ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>äº«å…ƒæ¨¡å¼å¯ä»¥æå¤§åœ°å‡å°‘ç³»ç»Ÿä¸­å¯¹è±¡çš„æ•°é‡ã€‚ä½†æ˜¯å®ƒå¯èƒ½ä¼šå¼•èµ·ç³»ç»Ÿçš„é€»è¾‘æ›´åŠ å¤æ‚åŒ–ã€‚äº«å…ƒæ¨¡å¼çš„æ ¸å¿ƒåœ¨äºäº«å…ƒå·¥å‚ï¼Œå®ƒä¸»è¦ç”¨æ¥ç¡®ä¿åˆç†åœ°å…±äº«äº«å…ƒå¯¹è±¡ã€‚å†…éƒ¨çŠ¶æ€ä¸ºä¸å˜å…±äº«éƒ¨åˆ†ï¼Œå­˜å‚¨äºäº«å…ƒäº«å…ƒå¯¹è±¡å†…éƒ¨ï¼Œè€Œå¤–éƒ¨çŠ¶æ€æ˜¯å¯å˜éƒ¨åˆ†ï¼Œå®ƒåº”å½“ç”±å®¢æˆ·ç«¯æ¥è´Ÿè´£ã€‚</td>
</tr>
</tbody></table>
<h3 id="å¤–è§‚æ¨¡å¼-Facade-Pattern"><a href="#å¤–è§‚æ¨¡å¼-Facade-Pattern" class="headerlink" title="å¤–è§‚æ¨¡å¼(Facade Pattern)"></a>å¤–è§‚æ¨¡å¼(Facade Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Facade</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="476" height="185"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼ŒF a c a d e æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>å½“ä½ è¦ä¸ºä¸€ä¸ªå¤æ‚å­ç³»ç»Ÿæä¾›ä¸€ä¸ªç®€å•æ¥å£æ—¶ã€‚å­ç³»ç»Ÿå¾€å¾€å› ä¸ºä¸æ–­æ¼”åŒ–è€Œå˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚å¤§å¤šæ•°æ¨¡å¼ä½¿ç”¨æ—¶éƒ½ä¼šäº§ç”Ÿæ›´å¤šæ›´å°çš„ç±»ã€‚è¿™ä½¿å¾—å­ç³»ç»Ÿæ›´å…·å¯é‡ç”¨æ€§ï¼Œä¹Ÿæ›´å®¹æ˜“å¯¹å­ç³»ç»Ÿè¿›è¡Œå®šåˆ¶ï¼Œä½†è¿™ä¹Ÿç»™é‚£äº›ä¸éœ€è¦å®šåˆ¶å­ç³»ç»Ÿçš„ç”¨æˆ·å¸¦æ¥ä¸€äº›ä½¿ç”¨ä¸Šçš„å›°éš¾ã€‚F a c a d e å¯ä»¥æä¾›ä¸€ä¸ªç®€å•çš„ç¼ºçœè§†å›¾ï¼Œè¿™ä¸€è§†å›¾å¯¹å¤§å¤šæ•°ç”¨æˆ·æ¥è¯´å·²ç»è¶³å¤Ÿï¼Œè€Œé‚£äº›éœ€è¦æ›´å¤šçš„å¯å®šåˆ¶æ€§çš„ç”¨æˆ·å¯ä»¥è¶Šè¿‡f a c a d e å±‚ã€‚å®¢æˆ·ç¨‹åºä¸æŠ½è±¡ç±»çš„å®ç°éƒ¨åˆ†ä¹‹é—´å­˜åœ¨ç€å¾ˆå¤§çš„ä¾èµ–æ€§ã€‚å¼•å…¥f a c a d e å°†è¿™ä¸ªå­ç³»ç»Ÿä¸å®¢æˆ·ä»¥åŠå…¶ä»–çš„å­ç³»ç»Ÿåˆ†ç¦»ï¼Œå¯ä»¥æé«˜å­ç³»ç»Ÿçš„ç‹¬ç«‹æ€§å’Œå¯ç§»æ¤æ€§ã€‚å½“ä½ éœ€è¦æ„å»ºä¸€ä¸ªå±‚æ¬¡ç»“æ„çš„å­ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨f a c a d e æ¨¡å¼å®šä¹‰å­ç³»ç»Ÿä¸­æ¯å±‚çš„å…¥å£ç‚¹ã€‚å¦‚æœå­ç³»ç»Ÿä¹‹é—´æ˜¯ç›¸äº’ä¾èµ–çš„ï¼Œä½ å¯ä»¥è®©å®ƒä»¬ä»…é€šè¿‡f a c a d e è¿›è¡Œé€šè®¯ï¼Œä»è€Œç®€åŒ–äº†å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>å¼•å…¥å¤–è§‚æ¨¡å¼ï¼Œæ˜¯å®¢æˆ·å¯¹å­ç³»ç»Ÿçš„ä½¿ç”¨å˜å¾—ç®€å•äº†ï¼Œå‡å°‘äº†ä¸å­ç³»ç»Ÿçš„å…³è”å¯¹è±¡ï¼Œå®ç°äº†å­ç³»ç»Ÿä¸å®¢æˆ·ä¹‹é—´çš„æ¾è€¦åˆå…³ç³»ã€‚åªæ˜¯æä¾›äº†ä¸€ä¸ªè®¿é—®å­ç³»ç»Ÿçš„ç»Ÿä¸€å…¥å£ï¼Œå¹¶ä¸å½±å“ç”¨æˆ·ç›´æ¥ä½¿ç”¨å­ç³»ç»Ÿç±»é™ä½äº†å¤§å‹è½¯ä»¶ç³»ç»Ÿä¸­çš„ç¼–è¯‘ä¾èµ–æ€§ï¼Œå¹¶ç®€åŒ–äº†ç³»ç»Ÿåœ¨ä¸åŒå¹³å°ä¹‹é—´çš„ç§»æ¤è¿‡ç¨‹</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ä¸èƒ½å¾ˆå¥½åœ°é™åˆ¶å®¢æˆ·ä½¿ç”¨å­ç³»ç»Ÿç±»ï¼Œå¦‚æœå¯¹å®¢æˆ·è®¿é—®å­ç³»ç»Ÿç±»åšå¤ªå¤šçš„é™åˆ¶åˆ™å‡å°‘äº†å¯å˜æ€§å’Œçµæ´»æ€§åœ¨ä¸å¼•å…¥æŠ½è±¡å¤–è§‚ç±»çš„æƒ…å†µä¸‹ï¼Œå¢åŠ æ–°çš„å­ç³»ç»Ÿå¯èƒ½éœ€è¦ä¿®æ”¹å¤–è§‚ç±»æˆ–å®¢æˆ·ç«¯çš„æºä»£ç ï¼Œè¿èƒŒäº†â€œå¼€é—­åŸåˆ™â€</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>å¤–è§‚æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹å°±åœ¨äºå‡å°‘äº†å®¢æˆ·ä¸å­ç³»ç»Ÿä¹‹é—´çš„å…³è”å¯¹è±¡ï¼Œä½¿ç”¨å®¢æˆ·å¯¹å­ç³»ç»Ÿçš„ä½¿ç”¨å˜å¾—ç®€å•äº†ï¼Œä¹Ÿå®ç°äº†å®¢æˆ·ç«¯ä¸å­ç³»ç»Ÿä¹‹é—´çš„æ¾è€¦åˆå…³ç³»ã€‚å®ƒçš„ç¼ºç‚¹å°±åœ¨äºè¿èƒŒäº†â€œå¼€é—­åŸåˆ™â€ã€‚å¦‚æœéœ€è¦å®ç°ä¸€ä¸ªå¤–è§‚æ¨¡å¼ï¼Œéœ€è¦å°†å­ç³»ç»Ÿç»„åˆè¿›å¤–è§‚ä¸­ï¼Œç„¶åå°†å·¥ä½œå§”æ‰˜ç»™å­ç³»ç»Ÿæ‰§è¡Œã€‚</td>
</tr>
</tbody></table>
<h3 id="è£…é¥°è€…æ¨¡å¼-Decorator-Pattern"><a href="#è£…é¥°è€…æ¨¡å¼-Decorator-Pattern" class="headerlink" title="è£…é¥°è€…æ¨¡å¼(Decorator Pattern)"></a>è£…é¥°è€…æ¨¡å¼(Decorator Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Decorator</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="645" height="285"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚å°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼ŒD e c o r a t o r æ¨¡å¼ç›¸æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>åœ¨ä¸å½±å“å…¶ä»–å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œä»¥åŠ¨æ€ã€é€æ˜çš„æ–¹å¼ç»™å•ä¸ªå¯¹è±¡æ·»åŠ èŒè´£ã€‚å¤„ç†é‚£äº›å¯ä»¥æ’¤æ¶ˆçš„èŒè´£ã€‚å½“ä¸èƒ½é‡‡ç”¨ç”Ÿæˆå­ç±»çš„æ–¹æ³•è¿›è¡Œæ‰©å……æ—¶ã€‚ä¸€ç§æƒ…å†µæ˜¯ï¼Œå¯èƒ½æœ‰å¤§é‡ç‹¬ç«‹çš„æ‰©å±•ï¼Œä¸ºæ”¯æŒæ¯ä¸€ç§ç»„åˆå°†äº§ç”Ÿå¤§é‡çš„å­ç±»ï¼Œä½¿å¾—å­ç±»æ•°ç›®å‘ˆçˆ†ç‚¸æ€§å¢é•¿ã€‚å¦ä¸€ç§æƒ…å†µå¯èƒ½æ˜¯å› ä¸ºç±»å®šä¹‰è¢«éšè—ï¼Œæˆ–ç±»å®šä¹‰ä¸èƒ½ç”¨äºç”Ÿæˆå­ç±»ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>è£…é¥°è€…æ¨¡å¼å¯ä»¥æä¾›æ¯”ç»§æ‰¿æ›´å¤šçš„çµæ´»æ€§å¯ä»¥é€šè¿‡ä¸€ç§åŠ¨æ€çš„æ–¹å¼æ¥æ‰©å±•ä¸€ä¸ªå¯¹è±¡çš„åŠŸèƒ½ï¼Œåœ¨è¿è¡Œæ—¶é€‰æ‹©ä¸åŒçš„è£…é¥°å™¨ï¼Œä»è€Œå®ç°ä¸åŒçš„è¡Œä¸ºã€‚é€šè¿‡ä½¿ç”¨ä¸åŒçš„å…·ä½“è£…é¥°ç±»ä»¥åŠè¿™äº›è£…é¥°ç±»çš„æ’åˆ—ç»„åˆï¼Œå¯ä»¥åˆ›é€ å‡ºå¾ˆå¤šä¸åŒè¡Œä¸ºçš„ç»„åˆã€‚å¯ä»¥ä½¿ç”¨å¤šä¸ªå…·ä½“è£…é¥°ç±»æ¥è£…é¥°åŒä¸€å¯¹è±¡ï¼Œå¾—åˆ°åŠŸèƒ½æ›´ä¸ºå¼ºå¤§çš„å¯¹è±¡ã€‚å…·ä½“æ„ä»¶ç±»ä¸å…·ä½“è£…é¥°ç±»å¯ä»¥ç‹¬ç«‹å˜åŒ–ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦å¢åŠ æ–°çš„å…·ä½“æ„ä»¶ç±»å’Œå…·ä½“è£…é¥°ç±»ï¼Œåœ¨ä½¿ç”¨æ—¶å†å¯¹å…¶è¿›è¡Œç»„åˆï¼ŒåŸæœ‰ä»£ç æ— é¡»æ”¹å˜ï¼Œç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ä¼šäº§ç”Ÿå¾ˆå¤šçš„å°å¯¹è±¡ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§è¿™ç§æ¯”ç»§æ‰¿æ›´åŠ çµæ´»æœºåŠ¨çš„ç‰¹æ€§ï¼Œä¹ŸåŒæ—¶æ„å‘³ç€è£…é¥°æ¨¡å¼æ¯”ç»§æ‰¿æ›´åŠ æ˜“äºå‡ºé”™ï¼Œæ’é”™ä¹Ÿå¾ˆå›°éš¾ï¼Œå¯¹äºå¤šæ¬¡è£…é¥°çš„å¯¹è±¡ï¼Œè°ƒè¯•æ—¶å¯»æ‰¾é”™è¯¯å¯èƒ½éœ€è¦é€çº§æ’æŸ¥ï¼Œè¾ƒä¸ºçƒ¦çã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>è£…é¥°è€…æ¨¡å¼æ„å‘³ç€ä¸€ç¾¤è£…é¥°è€…ç±»ï¼Œè¿™äº›ç±»ç”¨æ¥åŒ…è£…å…·ä½“ç»„ä»¶è£…é¥°è€…å¯ä»¥åœ¨è¢«è£…é¥°è€…çš„è¡Œä¸ºå‰é¢æˆ–è€…åé¢åŠ ä¸Šè‡ªå·±çš„è¡Œä¸ºï¼Œç”šè‡³å¯ä»¥å°†è¢«è£…é¥°è€…çš„è¡Œä¸ºæ•´ä¸ªå–ä»£æ‰ï¼Œä»è€Œè¾¾åˆ°ç‰¹å®šçš„ç›®çš„ã€‚å¯ä»¥ç”¨å¤šä¸ªè£…é¥°è€…åŒ…è£…ä¸€ä¸ªç»„ä»¶ã€‚è£…é¥°è€…ä¸€èˆ¬å¯¹äºç»„ä»¶çš„å®¢æˆ·æ˜¯é€æ˜çš„ï¼Œé™¤éå®¢æˆ·ç¨‹åºä¾èµ–äºç»„ä»¶çš„å…·ä½“ç±»å‹ã€‚è£…é¥°è€…ä¼šå¯¼è‡´è®¾è®¡ä¸­å‡ºç°è®¸å¤šçš„å°å¯¹è±¡ï¼Œå¦‚æœè¿‡åº¦çš„ä½¿ç”¨ï¼Œä¼šè®©ç³»ç»Ÿå˜å¾—æ›´åŠ å¤æ‚ã€‚è£…é¥°è€…å’Œè¢«è£…é¥°è€…å¯¹è±¡æœ‰ç›¸åŒçš„è¶…ç±»å‹ã€‚</td>
</tr>
</tbody></table>
<h3 id="ç»„åˆæ¨¡å¼-Composite-Pattern"><a href="#ç»„åˆæ¨¡å¼-Composite-Pattern" class="headerlink" title="ç»„åˆæ¨¡å¼(Composite Pattern)"></a>ç»„åˆæ¨¡å¼(Composite Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Composite</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="571" height="257"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤º?éƒ¨åˆ†-æ•´ä½“?çš„å±‚æ¬¡ç»“æ„ã€‚C o m p o s i t e ä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>ä½ æƒ³è¡¨ç¤ºå¯¹è±¡çš„éƒ¨åˆ†-æ•´ä½“å±‚æ¬¡ç»“æ„ã€‚ä½ å¸Œæœ›ç”¨æˆ·å¿½ç•¥ç»„åˆå¯¹è±¡ä¸å•ä¸ªå¯¹è±¡çš„ä¸åŒï¼Œç”¨æˆ·å°†ç»Ÿä¸€åœ°ä½¿ç”¨ç»„åˆç»“æ„ä¸­çš„æ‰€æœ‰å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>å¯ä»¥æ¸…æ¥šåœ°å®šä¹‰åˆ†å±‚æ¬¡çš„å¤æ‚å¯¹è±¡ï¼Œè¡¨ç¤ºå¯¹è±¡çš„å…¨éƒ¨æˆ–éƒ¨åˆ†å±‚æ¬¡ï¼Œä½¿å¾—å¢åŠ æ–°æ„ä»¶ä¹Ÿæ›´å®¹æ˜“ã€‚å®¢æˆ·ç«¯è°ƒç”¨ç®€å•ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸€è‡´çš„ä½¿ç”¨ç»„åˆç»“æ„æˆ–å…¶ä¸­å•ä¸ªå¯¹è±¡ã€‚å®šä¹‰äº†åŒ…å«å¶å­å¯¹è±¡å’Œå®¹å™¨å¯¹è±¡çš„ç±»å±‚æ¬¡ç»“æ„ï¼Œå¶å­å¯¹è±¡å¯ä»¥è¢«ç»„åˆæˆæ›´å¤æ‚çš„å®¹å™¨å¯¹è±¡ï¼Œè€Œè¿™ä¸ªå®¹å™¨å¯¹è±¡åˆå¯ä»¥è¢«ç»„åˆï¼Œè¿™æ ·ä¸æ–­é€’å½’ä¸‹å»ï¼Œå¯ä»¥å½¢æˆå¤æ‚çš„æ ‘å½¢ç»“æ„ã€‚æ›´å®¹æ˜“åœ¨ç»„åˆä½“å†…åŠ å…¥å¯¹è±¡æ„ä»¶ï¼Œå®¢æˆ·ç«¯ä¸å¿…å› ä¸ºåŠ å…¥äº†æ–°çš„å¯¹è±¡æ„ä»¶è€Œæ›´æ”¹åŸæœ‰ä»£ç ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ä½¿è®¾è®¡å˜å¾—æ›´åŠ æŠ½è±¡ï¼Œå¯¹è±¡çš„ä¸šåŠ¡è§„åˆ™å¦‚æœå¾ˆå¤æ‚ï¼Œåˆ™å®ç°ç»„åˆæ¨¡å¼å…·æœ‰å¾ˆå¤§æŒ‘æˆ˜æ€§ï¼Œè€Œä¸”ä¸æ˜¯æ‰€æœ‰çš„æ–¹æ³•éƒ½ä¸å¶å­å¯¹è±¡å­ç±»éƒ½æœ‰å…³è”ï¼Œä¼šæœ‰å†—ä½™ä»£ç </td>
</tr>
<tr>
<td>å°ç»“</td>
<td>ç»„åˆæ¨¡å¼ç”¨äºå°†å¤šä¸ªå¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤ºâ€œæ•´ä½“-éƒ¨åˆ†â€çš„ç»“æ„å±‚æ¬¡ã€‚ç»„åˆæ¨¡å¼å¯¹å•ä¸ªå¯¹è±¡ï¼ˆå¶å­å¯¹è±¡ï¼‰å’Œç»„åˆå¯¹è±¡ï¼ˆå®¹å™¨å¯¹è±¡ï¼‰çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§ã€‚ç»„åˆå¯¹è±¡çš„å…³é”®åœ¨äºå®ƒå®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡æ„å»ºç±»ï¼Œå®ƒæ—¢å¯è¡¨ç¤ºå¶å­å¯¹è±¡ï¼Œä¹Ÿå¯è¡¨ç¤ºå®¹å™¨å¯¹è±¡ï¼Œå®¢æˆ·ä»…ä»…éœ€è¦é’ˆå¯¹è¿™ä¸ªæŠ½è±¡æ„å»ºè¿›è¡Œç¼–ç¨‹ï¼Œæ— é¡»çŸ¥é“ä»–æ˜¯å¶å­å¯¹è±¡è¿˜æ˜¯å®¹å™¨å¯¹è±¡ï¼Œéƒ½æ˜¯ä¸€è‡´å¯¹å¾…ã€‚ç»„åˆæ¨¡å¼è™½ç„¶èƒ½å¤Ÿéå¸¸å¥½åœ°å¤„ç†å±‚æ¬¡ç»“æ„ï¼Œä¹Ÿä½¿å¾—å®¢æˆ·ç«¯ç¨‹åºå˜å¾—ç®€å•ï¼Œä½†æ˜¯å®ƒä¹Ÿä½¿å¾—è®¾è®¡å˜å¾—æ›´åŠ æŠ½è±¡ï¼Œè€Œä¸”ä¹Ÿå¾ˆéš¾å¯¹å®¹å™¨ä¸­çš„æ„ä»¶ç±»å‹è¿›è¡Œé™åˆ¶ï¼Œè¿™ä¼šå¯¼è‡´åœ¨å¢åŠ æ–°çš„æ„ä»¶æ—¶ä¼šäº§ç”Ÿä¸€äº›é—®é¢˜ã€‚</td>
</tr>
</tbody></table>
<h3 id="ä»£ç†æ¨¡å¼-Proxy-Pattern"><a href="#ä»£ç†æ¨¡å¼-Proxy-Pattern" class="headerlink" title="ä»£ç†æ¨¡å¼(Proxy Pattern)"></a>ä»£ç†æ¨¡å¼(Proxy Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Proxy</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="540" height="226"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>ä¸å¸Œæœ›æŸäº›ç±»è¢«ç›´æ¥è®¿é—®ã€‚è®¿é—®ä¹‹å‰å¸Œæœ›å…ˆè¿›è¡Œä¸€äº›é¢„å¤„ç†ã€‚å¸Œæœ›å¯¹è¢«è®¿é—®çš„å¯¹è±¡è¿›è¡Œå†…å­˜ã€æƒé™ç­‰æ–¹é¢çš„æ§åˆ¶ã€‚ æ¨¡å¼ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>ä»£ç†æ¨¡å¼èƒ½å¤Ÿåè°ƒè°ƒç”¨è€…å’Œè¢«è°ƒç”¨è€…ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šé™ä½äº†ç³»ç»Ÿçš„è€¦åˆåº¦ã€‚ä»£ç†å¯¹è±¡å¯ä»¥åœ¨å®¢æˆ·ç«¯å’Œç›®æ ‡å¯¹è±¡ä¹‹é—´èµ·åˆ°ä¸­ä»‹çš„ä½œç”¨ï¼Œè¿™æ ·èµ·åˆ°äº†çš„ä½œç”¨å’Œä¿æŠ¤äº†ç›®æ ‡å¯¹è±¡çš„</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ç”±äºåœ¨å®¢æˆ·ç«¯å’ŒçœŸå®ä¸»é¢˜ä¹‹é—´å¢åŠ äº†ä»£ç†å¯¹è±¡ï¼Œå› æ­¤æœ‰äº›ç±»å‹çš„ä»£ç†æ¨¡å¼å¯èƒ½ä¼šé€ æˆè¯·æ±‚çš„å¤„ç†é€Ÿåº¦å˜æ…¢ã€‚å®ç°ä»£ç†æ¨¡å¼éœ€è¦é¢å¤–çš„å·¥ä½œï¼Œæœ‰äº›ä»£ç†æ¨¡å¼çš„å®ç°éå¸¸å¤æ‚ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>ä»£ç†æ¨¡å¼æ˜¯é€šè¿‡ä½¿ç”¨å¼•ç”¨ä»£ç†å¯¹è±¡æ¥è®¿é—®çœŸå®å¯¹è±¡ï¼Œåœ¨è¿™é‡Œä»£ç†å¯¹è±¡å……å½“ç”¨äºè¿æ¥å®¢æˆ·ç«¯å’ŒçœŸå®å¯¹è±¡çš„ä¸­ä»‹è€…ã€‚ä»£ç†æ¨¡å¼ä¸»è¦ç”¨äºè¿œç¨‹ä»£ç†ã€è™šæ‹Ÿä»£ç†å’Œä¿æŠ¤ä»£ç†ã€‚å…¶ä¸­ä¿æŠ¤ä»£ç†å¯ä»¥è¿›è¡Œè®¿é—®æƒé™æ§åˆ¶ã€‚</td>
</tr>
</tbody></table>
<h3 id="é€‚é…å™¨æ¨¡å¼-Adapter-Pattern"><a href="#é€‚é…å™¨æ¨¡å¼-Adapter-Pattern" class="headerlink" title="é€‚é…å™¨æ¨¡å¼(Adapter Pattern)"></a>é€‚é…å™¨æ¨¡å¼(Adapter Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Adapter</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="524" height="197"/>)<code>åŠ¨æœº              å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦å¤–ä¸€ä¸ªæ¥å£ã€‚Adapter æ¨¡å¼ä½¿å¾—åŸæœ¬ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚                  é€‚ç”¨æ€§                                ä½ æƒ³ä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ç±»ï¼Œè€Œå®ƒçš„æ¥å£ä¸ç¬¦åˆä½ çš„éœ€æ±‚ã€‚                          ä½ æƒ³åˆ›å»ºä¸€ä¸ªå¯ä»¥å¤ç”¨çš„ç±»ï¼Œè¯¥ç±»å¯ä»¥ä¸å…¶ä»–ä¸ç›¸å…³çš„ç±»æˆ–ä¸å¯é¢„è§çš„ç±»ï¼ˆå³é‚£äº›æ¥å£å¯èƒ½ä¸ä¸€å®šå…¼å®¹çš„ç±»ï¼‰ååŒå·¥ä½œã€‚                          ï¼ˆä»…é€‚ç”¨äºå¯¹è±¡Adapter ï¼‰ä½ æƒ³ä½¿ç”¨ä¸€äº›å·²ç»å­˜åœ¨çš„å­ç±»ï¼Œä½†æ˜¯ä¸å¯èƒ½å¯¹æ¯ä¸€ä¸ªéƒ½è¿›è¡Œå­ç±»åŒ–ä»¥åŒ¹é…å®ƒä»¬çš„æ¥å£ã€‚å¯¹è±¡é€‚é…å™¨å¯ä»¥é€‚é…å®ƒçš„çˆ¶ç±»æ¥å£ã€‚                                ä¼˜ç‚¹                                å°†ç›®æ ‡ç±»å’Œé€‚é…è€…ç±»è§£è€¦ï¼Œé€šè¿‡ä½¿ç”¨é€‚é…å™¨è®©ä¸å…¼å®¹çš„æ¥å£å˜æˆäº†å…¼å®¹ï¼Œè®©å®¢æˆ·ä»å®ç°çš„æ¥å£è§£è€¦ã€‚                          å¢åŠ äº†ç±»çš„é€æ˜æ€§å’Œå¤ç”¨æ€§ï¼Œå°†å…·ä½“çš„å®ç°å°è£…åœ¨é€‚é…è€…ç±»ä¸­ï¼Œå¯¹äºå®¢æˆ·ç«¯ç±»æ¥è¯´æ˜¯é€æ˜çš„ï¼Œè€Œä¸”æé«˜äº†é€‚é…è€…çš„å¤ç”¨æ€§ã€‚                          çµæ´»æ€§å’Œæ‰©å±•æ€§éƒ½éå¸¸å¥½åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„åŸºç¡€ä¸Šå¢åŠ æ–°çš„é€‚é…å™¨ç±»ï¼Œç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚                                ç¼ºç‚¹                                è¿‡å¤šåœ°ä½¿ç”¨é€‚é…å™¨ï¼Œä¼šè®©ç³»ç»Ÿéå¸¸é›¶ä¹±ï¼Œä¸æ˜“æ•´ä½“è¿›è¡ŒæŠŠæ¡ã€‚æ¯”å¦‚ï¼Œæ˜æ˜çœ‹åˆ°è°ƒç”¨çš„æ˜¯ A æ¥å£ï¼Œå…¶å®å†…éƒ¨è¢«é€‚é…æˆäº† B æ¥å£çš„å®ç°ï¼Œä¸€ä¸ªç³»ç»Ÿå¦‚æœå¤ªå¤šå‡ºç°è¿™ç§æƒ…å†µï¼Œæ— å¼‚äºä¸€åœºç¾éš¾ã€‚                          å› æ­¤å¦‚æœä¸æ˜¯å¾ˆæœ‰å¿…è¦ï¼Œå¯ä»¥ä¸ä½¿ç”¨é€‚é…å™¨ï¼Œè€Œæ˜¯ç›´æ¥å¯¹ç³»ç»Ÿè¿›è¡Œé‡æ„ã€‚                                å°ç»“                                å½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„ä¸€ä¸ªç°æœ‰çš„ç±»ï¼Œä½†æ˜¯ä»–çš„æ¥å£å¹¶ä¸ç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€‚é…å™¨æ¨¡å¼ã€‚                          é€‚é…å™¨æ¨¡å¼åˆ†ä¸ºç±»é€‚é…å™¨å’Œå¯¹è±¡é€‚é…å™¨ï¼Œå…¶ä¸­ç±»é€‚é…å™¨éœ€è¦ç”¨åˆ°å¤šé‡ç»§æ‰¿ã€‚                     å¤åˆ¶ä»£ç </code></td>
</tr>
</tbody></table>
<h3 id="ç»“æ„å‹è®¾è®¡æ¨¡å¼å°ç»“"><a href="#ç»“æ„å‹è®¾è®¡æ¨¡å¼å°ç»“" class="headerlink" title="ç»“æ„å‹è®¾è®¡æ¨¡å¼å°ç»“"></a>ç»“æ„å‹è®¾è®¡æ¨¡å¼å°ç»“</h3><table>
<thead>
<tr>
<th align="left">æ¨¡å¼</th>
<th>åœºæ™¯å‘æ•£</th>
<th align="left">ä¸€å¥è¯è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">æ¡¥(Bridge)</td>
<td>éº»çƒ¦çš„æ—¥å¿—è®°å½•</td>
<td align="left">å°†â€œæŠ½è±¡â€å’Œâ€œå®ç°â€è‡ªç”±æ­é…ã€‚</td>
</tr>
<tr>
<td align="left">è½»é‡(Flyweight)</td>
<td>æ£®æ—é‡Œçš„æ ‘å¤ªå¤šäº†</td>
<td align="left">è½»æ¾åœ°å¤„ç†â€œå¤§é‡â€å¯¹è±¡ã€‚</td>
</tr>
<tr>
<td align="left">å¤–è§‚(FacÌ§ade)</td>
<td>è¶…çº§æ‰‹æœº</td>
<td align="left">åŒæ—¶æä¾›ç®€å•æ¥å£å’Œå¤æ‚æ¥å£ã€‚</td>
</tr>
<tr>
<td align="left">è£…é¥°è€…(Decorator)</td>
<td>æ˜Ÿå·´å…‹çš„é¥®æ–™è®¡è¾ƒç³»ç»Ÿ</td>
<td align="left">ä¸æ”¹å˜æ¥å£ä½†è¦å¢å¼ºåŠŸèƒ½ã€‚</td>
</tr>
<tr>
<td align="left">ç»„åˆ(Composite)</td>
<td>è¶…é…·çš„ç»˜å›¾è½¯ä»¶</td>
<td align="left">ä¸ç®¡ä½ æ˜¯è€å­è¿˜æ˜¯å„¿å­ï¼Œéƒ½ä¸€æ ·å¤„ç†ã€‚</td>
</tr>
<tr>
<td align="left">ä»£ç†(Proxy)</td>
<td>æ‰¾ä¸­ä»‹ç§Ÿæˆ¿</td>
<td align="left">ä»£ç†è¦æ§åˆ¶ä½ çš„è®¿é—®ï¼ŒåŒæ—¶è®©ä½ çš„è®¿é—®æ›´èˆ’æœ ã€‚</td>
</tr>
<tr>
<td align="left">é€‚é…å™¨(Adapter)</td>
<td>è€æ‰ç‰™ç³»ç»Ÿçš„é‡ç”Ÿ</td>
<td align="left">ä¸æ”¹å˜åŠŸèƒ½ä½†è¦æ”¹å˜æ¥å£</td>
</tr>
</tbody></table>
<h2 id="è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼-ç±»ä¸å¯¹è±¡æ€æ ·çš„äº¤äº’å’Œåˆ†é…èŒè´£"><a href="#è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼-ç±»ä¸å¯¹è±¡æ€æ ·çš„äº¤äº’å’Œåˆ†é…èŒè´£" class="headerlink" title="è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼(ç±»ä¸å¯¹è±¡æ€æ ·çš„äº¤äº’å’Œåˆ†é…èŒè´£)"></a>è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼(ç±»ä¸å¯¹è±¡æ€æ ·çš„äº¤äº’å’Œåˆ†é…èŒè´£)</h2><h3 id="è§‚å¯Ÿè€…æ¨¡å¼-Observer-Pattern"><a href="#è§‚å¯Ÿè€…æ¨¡å¼-Observer-Pattern" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼(Observer Pattern)"></a>è§‚å¯Ÿè€…æ¨¡å¼(Observer Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Observer</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="615" height="243"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»,å½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶, æ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>å½“ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢, å…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€æ–¹é¢ã€‚å°†è¿™äºŒè€…å°è£…åœ¨ç‹¬ç«‹çš„å¯¹è±¡ä¸­ä»¥ä½¿å®ƒä»¬å¯ä»¥å„è‡ªç‹¬ç«‹åœ°æ”¹å˜å’Œå¤ç”¨ã€‚å½“å¯¹ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶å®ƒå¯¹è±¡, è€Œä¸çŸ¥é“å…·ä½“æœ‰å¤šå°‘å¯¹è±¡æœ‰å¾…æ”¹å˜ã€‚å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶å®ƒå¯¹è±¡ï¼Œè€Œå®ƒåˆä¸èƒ½å‡å®šå…¶å®ƒå¯¹è±¡æ˜¯è°ã€‚æ¢è¨€ä¹‹, ä½ ä¸å¸Œæœ›è¿™äº›å¯¹è±¡æ˜¯ç´§å¯†è€¦åˆçš„ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>å½“ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´é€è€¦åˆï¼Œä»–ä»¬ä¾ç„¶å¯ä»¥äº¤äº’ï¼Œä½†æ˜¯ä¸å¤ªæ¸…æ¥šå½¼æ­¤çš„ç»†èŠ‚ã€‚è§‚å¯Ÿè€…æ¨¡å¼æä¾›äº†ä¸€ç§å¯¹è±¡è®¾è®¡ï¼Œè®©ä¸»é¢˜å’Œè§‚å¯Ÿè€…ä¹‹é—´é€è€¦åˆã€‚ä¸»é¢˜æ‰€çŸ¥é“åªæ˜¯ä¸€ä¸ªå…·ä½“çš„è§‚å¯Ÿè€…åˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªå…·ä½“è§‚å¯Ÿè€…éƒ½ç¬¦åˆä¸€ä¸ªæŠ½è±¡è§‚å¯Ÿè€…çš„æ¥å£ã€‚ä¸»é¢˜å¹¶ä¸è®¤è¯†ä»»ä½•ä¸€ä¸ªå…·ä½“çš„è§‚å¯Ÿè€…ï¼Œå®ƒåªçŸ¥é“ä»–ä»¬éƒ½æœ‰ä¸€ä¸ªå…±åŒçš„æ¥å£ã€‚è§‚å¯Ÿè€…æ¨¡å¼æ”¯æŒâ€œå¹¿æ’­é€šä¿¡â€ã€‚ä¸»é¢˜ä¼šå‘æ‰€æœ‰çš„è§‚å¯Ÿè€…å‘å‡ºé€šçŸ¥ã€‚è§‚å¯Ÿè€…æ¨¡å¼ç¬¦åˆâ€œå¼€é—­åŸåˆ™â€çš„è¦æ±‚ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>å¦‚æœä¸€ä¸ªè¢«è§‚å¯Ÿè€…å¯¹è±¡æœ‰å¾ˆå¤šçš„ç›´æ¥å’Œé—´æ¥çš„è§‚å¯Ÿè€…çš„è¯ï¼Œå°†æ‰€æœ‰çš„è§‚å¯Ÿè€…éƒ½é€šçŸ¥åˆ°ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚å¦‚æœåœ¨è§‚å¯Ÿè€…å’Œè§‚å¯Ÿç›®æ ‡ä¹‹é—´æœ‰å¾ªç¯ä¾èµ–çš„è¯ï¼Œè§‚å¯Ÿç›®æ ‡ä¼šè§¦å‘å®ƒä»¬ä¹‹é—´è¿› è¡Œå¾ªç¯è°ƒç”¨ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚è§‚å¯Ÿè€…æ¨¡å¼æ²¡æœ‰ç›¸åº”çš„æœºåˆ¶è®©è§‚å¯Ÿè€…çŸ¥é“æ‰€è§‚å¯Ÿçš„ç›®æ ‡å¯¹è±¡æ˜¯æ€ä¹ˆå‘ç”Ÿå˜åŒ–çš„ï¼Œè€Œä»…ä»…åªæ˜¯çŸ¥é“è§‚å¯Ÿç›®æ ‡å‘ç”Ÿäº†å˜åŒ–ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šå…³ç³»ã€‚å¤šä¸ªè§‚å¯Ÿè€…ç›‘å¬åŒä¸€ä¸ªè¢«è§‚å¯Ÿè€…ï¼Œå½“è¯¥è¢«è§‚å¯Ÿè€…çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…ã€‚è§‚å¯Ÿè€…æ¨¡å¼ä¸­åŒ…å«å››ä¸ªè§’è‰²ã€‚ä¸»é¢˜ï¼Œå®ƒæŒ‡è¢«è§‚å¯Ÿçš„å¯¹è±¡ã€‚å…·ä½“ä¸»é¢˜æ˜¯ä¸»é¢˜å­ç±»ï¼Œé€šå¸¸å®ƒåŒ…å«æœ‰ç»å¸¸å‘ç”Ÿæ”¹å˜çš„æ•°æ®ï¼Œå½“å®ƒçš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå‘å®ƒçš„å„ä¸ªè§‚å¯Ÿè€…å‘å‡ºé€šçŸ¥ï¼›è§‚å¯Ÿè€…ï¼Œå°†å¯¹è§‚å¯Ÿä¸»é¢˜çš„æ”¹å˜åšå‡ºååº”ï¼›å…·ä½“è§‚å¯Ÿè€…ä¸­ç»´æŠ¤ä¸€ä¸ªæŒ‡å‘å…·ä½“ç›®æ ‡å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒå­˜å‚¨å…·ä½“è§‚å¯Ÿè€…çš„æœ‰å…³çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€éœ€è¦å’Œå…·ä½“ç›®æ ‡çš„çŠ¶æ€ä¿æŒä¸€è‡´ã€‚</td>
</tr>
</tbody></table>
<h3 id="ç­–ç•¥æ¨¡å¼-Strategy-Pattern"><a href="#ç­–ç•¥æ¨¡å¼-Strategy-Pattern" class="headerlink" title="ç­–ç•¥æ¨¡å¼(Strategy Pattern)"></a>ç­–ç•¥æ¨¡å¼(Strategy Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Strategy</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="539" height="186"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•,æŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥, å¹¶ä¸”ä½¿å®ƒä»¬å¯ç›¸äº’æ›¿æ¢ã€‚æœ¬æ¨¡å¼ä½¿å¾—ç®—æ³•å¯ç‹¬ç«‹äºä½¿ç”¨å®ƒçš„å®¢æˆ·è€Œå˜åŒ–ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>è®¸å¤šç›¸å…³çš„ç±»ä»…ä»…æ˜¯è¡Œä¸ºæœ‰å¼‚ã€‚ç­–ç•¥æ¨¡å¼æä¾›äº†ä¸€ç§ç”¨å¤šä¸ªè¡Œä¸ºä¸­çš„ä¸€ä¸ªè¡Œä¸ºæ¥é…ç½®ä¸€ä¸ªç±»çš„æ–¹æ³•ã€‚éœ€è¦ä½¿ç”¨ä¸€ä¸ªç®—æ³•çš„ä¸åŒå˜ä½“ã€‚ç®—æ³•ä½¿ç”¨å®¢æˆ·ä¸åº”è¯¥çŸ¥é“çš„æ•°æ®ã€‚å¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼ä»¥é¿å…æš´éœ²å¤æ‚çš„ã€ä¸ç®—æ³•ç›¸å…³çš„æ•°æ®ç»“æ„ã€‚ä¸€ä¸ªç±»å®šä¹‰äº†å¤šç§è¡Œä¸º, å¹¶ä¸”è¿™äº›è¡Œä¸ºåœ¨è¿™ä¸ªç±»çš„æ“ä½œä¸­ä»¥å¤šä¸ªæ¡ä»¶è¯­å¥çš„å½¢å¼å‡ºç°ã€‚å°†ç›¸å…³çš„æ¡ä»¶åˆ†æ”¯ç§»å…¥å®ƒä»¬å„è‡ªçš„S t r a t e g y ç±»ä¸­ä»¥ä»£æ›¿è¿™äº›æ¡ä»¶è¯­å¥ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>ç­–ç•¥æ¨¡å¼æä¾›äº†å¯¹â€œå¼€é—­åŸåˆ™â€çš„å®Œç¾æ”¯æŒï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸ä¿®æ”¹åŸæœ‰ç³»ç»Ÿçš„åŸºç¡€ä¸Šé€‰æ‹©ç®—æ³•æˆ–è¡Œä¸ºï¼Œä¹Ÿå¯ä»¥çµæ´»åœ°å¢åŠ æ–°çš„ç®—æ³•æˆ–è¡Œä¸ºã€‚ç­–ç•¥æ¨¡å¼æä¾›äº†å¯ä»¥æ›¿æ¢ç»§æ‰¿å…³ç³»çš„åŠæ³•ã€‚ä½¿ç”¨ç­–ç•¥æ¨¡å¼å¯ä»¥é¿å…ä½¿ç”¨å¤šé‡æ¡ä»¶è½¬ç§»è¯­å¥ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>å®¢æˆ·ç«¯å¿…é¡»çŸ¥é“æ‰€æœ‰çš„ç­–ç•¥ç±»ï¼Œå¹¶è‡ªè¡Œå†³å®šä½¿ç”¨å“ªä¸€ä¸ªç­–ç•¥ç±»ã€‚ç­–ç•¥æ¨¡å¼å°†é€ æˆäº§ç”Ÿå¾ˆå¤šç­–ç•¥ç±»ï¼Œ</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>å¦‚æœåœ¨ä¸€ä¸ªç³»ç»Ÿé‡Œé¢æœ‰è®¸å¤šç±»ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä»…åœ¨äºå®ƒä»¬çš„è¡Œä¸ºï¼Œé‚£ä¹ˆä½¿ç”¨ç­–ç•¥æ¨¡å¼å¯ä»¥åŠ¨æ€åœ°è®©ä¸€ä¸ªå¯¹è±¡åœ¨è®¸å¤šè¡Œä¸ºä¸­é€‰æ‹©ä¸€ç§è¡Œä¸ºã€‚ä¸€ä¸ªç³»ç»Ÿéœ€è¦åŠ¨æ€åœ°åœ¨å‡ ç§ç®—æ³•ä¸­é€‰æ‹©ä¸€ç§ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡æœ‰å¾ˆå¤šçš„è¡Œä¸ºï¼Œå¦‚æœä¸ç”¨æ°å½“çš„æ¨¡å¼ï¼Œè¿™äº›è¡Œä¸ºå°±åªå¥½ä½¿ç”¨å¤šé‡çš„æ¡ä»¶é€‰æ‹©è¯­å¥æ¥å®ç°ã€‚</td>
</tr>
</tbody></table>
<h3 id="è¿­ä»£å™¨æ¨¡å¼-Iterator-Pattern"><a href="#è¿­ä»£å™¨æ¨¡å¼-Iterator-Pattern" class="headerlink" title="è¿­ä»£å™¨æ¨¡å¼(Iterator Pattern)"></a>è¿­ä»£å™¨æ¨¡å¼(Iterator Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Iterator</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="560" height="276"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­å„ä¸ªå…ƒç´ , è€Œåˆä¸éœ€æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— éœ€æš´éœ²å®ƒçš„å†…éƒ¨è¡¨ç¤ºã€‚æ”¯æŒå¯¹èšåˆå¯¹è±¡çš„å¤šç§éå†ã€‚ä¸ºéå†ä¸åŒçš„èšåˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£(å³, æ”¯æŒå¤šæ€è¿­ä»£)ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>å®ƒæ”¯æŒä»¥ä¸åŒçš„æ–¹å¼éå†ä¸€ä¸ªèšåˆå¯¹è±¡ã€‚è¿­ä»£å™¨ç®€åŒ–äº†èšåˆç±»ã€‚åœ¨åŒä¸€ä¸ªèšåˆä¸Šå¯ä»¥æœ‰å¤šä¸ªéå†ã€‚åœ¨è¿­ä»£å™¨æ¨¡å¼ä¸­ï¼Œå¢åŠ æ–°çš„èšåˆç±»å’Œè¿­ä»£å™¨ç±»éƒ½å¾ˆæ–¹ä¾¿ï¼Œæ— é¡»ä¿®æ”¹åŸæœ‰ä»£ç ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ç”±äºè¿­ä»£å™¨æ¨¡å¼å°†å­˜å‚¨æ•°æ®å’Œéå†æ•°æ®çš„èŒè´£åˆ†ç¦»ï¼Œå¢åŠ æ–°çš„èšåˆç±»éœ€è¦å¯¹åº”å¢åŠ æ–°çš„è¿­ä»£å™¨ç±»ï¼Œç±»çš„ä¸ªæ•°æˆå¯¹å¢åŠ ï¼Œè¿™åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>å°†éå†èšåˆå¯¹è±¡ä¸­æ•°æ®çš„è¡Œä¸ºæå–å‡ºæ¥ï¼Œå°è£…åˆ°ä¸€ä¸ªè¿­ä»£å™¨ä¸­ï¼Œé€šè¿‡ä¸“é—¨çš„è¿­ä»£å™¨æ¥éå†èšåˆå¯¹è±¡çš„å†…éƒ¨æ•°æ®ï¼Œè¿™å°±æ˜¯è¿­ä»£å™¨æ¨¡å¼çš„æœ¬è´¨ã€‚è¿­ä»£å™¨æ¨¡å¼æ˜¯â€œå•ä¸€èŒè´£åŸåˆ™â€çš„å®Œç¾ä½“ç°ã€‚å½“ä½¿ç”¨è¿­ä»£å™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¾èµ–èšåˆæä¾›éå†ã€‚è¿­ä»£å™¨æä¾›äº†ä¸€ä¸ªé€šç”¨çš„æ¥å£ï¼Œè®©æˆ‘ä»¬éå†èšåˆçš„é¡¹ï¼Œæ”¾æˆ‘ä»¬ç¼–ç ä½¿ç”¨èšåˆé¡¹æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤šæ€æœºåˆ¶ã€‚</td>
</tr>
</tbody></table>
<h3 id="å‘½ä»¤æ¨¡å¼-Command-Pattern"><a href="#å‘½ä»¤æ¨¡å¼-Command-Pattern" class="headerlink" title="å‘½ä»¤æ¨¡å¼(Command Pattern)"></a>å‘½ä»¤æ¨¡å¼(Command Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Command</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="603" height="212"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>å°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿ä½ å¯ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼›å¯¹è¯·æ±‚æ’é˜Ÿæˆ–è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œä»¥åŠæ”¯æŒå¯æ’¤æ¶ˆçš„æ“ä½œã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>æŠ½è±¡å‡ºå¾…æ‰§è¡Œçš„åŠ¨ä½œä»¥å‚æ•°åŒ–æŸå¯¹è±¡ï¼Œä½ å¯ç”¨è¿‡ç¨‹è¯­è¨€ä¸­çš„å›è°ƒï¼ˆc a l l b a c k ï¼‰å‡½æ•°è¡¨è¾¾è¿™ç§å‚æ•°åŒ–æœºåˆ¶ã€‚æ‰€è°“å›è°ƒå‡½æ•°æ˜¯æŒ‡å‡½æ•°å…ˆåœ¨æŸå¤„æ³¨å†Œï¼Œè€Œå®ƒå°†åœ¨ç¨åæŸä¸ªéœ€è¦çš„æ—¶å€™è¢«è°ƒç”¨ã€‚C o m m a n d æ¨¡å¼æ˜¯å›è°ƒæœºåˆ¶çš„ä¸€ä¸ªé¢å‘å¯¹è±¡çš„æ›¿ä»£å“ã€‚åœ¨ä¸åŒçš„æ—¶åˆ»æŒ‡å®šã€æ’åˆ—å’Œæ‰§è¡Œè¯·æ±‚ã€‚ä¸€ä¸ªC o m m a n d å¯¹è±¡å¯ä»¥æœ‰ä¸€ä¸ªä¸åˆå§‹è¯·æ±‚æ— å…³çš„ç”Ÿå­˜æœŸã€‚å¦‚æœä¸€ä¸ªè¯·æ±‚çš„æ¥æ”¶è€…å¯ç”¨ä¸€ç§ä¸åœ°å€ç©ºé—´æ— å…³çš„æ–¹å¼è¡¨è¾¾ï¼Œé‚£ä¹ˆå°±å¯å°†è´Ÿè´£è¯¥è¯·æ±‚çš„å‘½ä»¤å¯¹è±¡ä¼ é€ç»™å¦ä¸€ä¸ªä¸åŒçš„è¿›ç¨‹å¹¶åœ¨é‚£å„¿å®ç°è¯¥è¯·æ±‚ã€‚æ”¯æŒå–æ¶ˆæ“ä½œã€‚C o m m a n d çš„E x c u t e æ“ä½œå¯åœ¨å®æ–½æ“ä½œå‰å°†çŠ¶æ€å­˜å‚¨èµ·æ¥ï¼Œåœ¨å–æ¶ˆæ“ä½œæ—¶è¿™ä¸ªçŠ¶æ€ç”¨æ¥æ¶ˆé™¤è¯¥æ“ä½œçš„å½±å“ã€‚C o m m a n d æ¥å£å¿…é¡»æ·»åŠ ä¸€ä¸ªU n e x e c u t e æ“ä½œï¼Œè¯¥æ“ä½œå–æ¶ˆä¸Šä¸€æ¬¡E x e c u t e è°ƒç”¨çš„æ•ˆæœã€‚æ‰§è¡Œçš„å‘½ä»¤è¢«å­˜å‚¨åœ¨ä¸€ä¸ªå†å²åˆ—è¡¨ä¸­ã€‚å¯é€šè¿‡å‘åå’Œå‘å‰éå†è¿™ä¸€åˆ—è¡¨å¹¶åˆ†åˆ«è°ƒç”¨U n e x e c u t e å’ŒE x e c u t e æ¥å®ç°é‡æ•°ä¸é™çš„å–æ¶ˆå’Œé‡åšã€‚æ”¯æŒä¿®æ”¹æ—¥å¿—ï¼Œè¿™æ ·å½“ç³»ç»Ÿå´©æºƒæ—¶ï¼Œè¿™äº›ä¿®æ”¹å¯ä»¥è¢«é‡åšä¸€éã€‚åœ¨C o m m a n d æ¥å£ä¸­æ·»åŠ è£…è½½æ“ä½œå’Œå­˜å‚¨æ“ä½œï¼Œå¯ä»¥ç”¨æ¥ä¿æŒå˜åŠ¨çš„ä¸€ä¸ªä¸€è‡´çš„ä¿®æ”¹æ—¥å¿—ã€‚ä»å´©æºƒä¸­æ¢å¤çš„è¿‡ç¨‹åŒ…æ‹¬ä»ç£ç›˜ä¸­é‡æ–°è¯»å…¥è®°å½•ä¸‹æ¥çš„å‘½ä»¤å¹¶ç”¨E x e c u t e æ“ä½œé‡æ–°æ‰§è¡Œå®ƒä»¬ã€‚ç”¨æ„å»ºåœ¨åŸè¯­æ“ä½œä¸Šçš„é«˜å±‚æ“ä½œæ„é€ ä¸€ä¸ªç³»ç»Ÿã€‚è¿™æ ·ä¸€ç§ç»“æ„åœ¨æ”¯æŒäº‹åŠ¡( t r a n s a c t i o n )çš„ä¿¡æ¯ç³»ç»Ÿä¸­å¾ˆå¸¸è§ã€‚ä¸€ä¸ªäº‹åŠ¡å°è£…äº†å¯¹æ•°æ®çš„ä¸€ç»„å˜åŠ¨ã€‚C o m m a n d æ¨¡å¼æä¾›äº†å¯¹äº‹åŠ¡è¿›è¡Œå»ºæ¨¡çš„æ–¹æ³•ã€‚C o m m a n d æœ‰ä¸€ä¸ªå…¬å…±çš„æ¥å£ï¼Œä½¿å¾—ä½ å¯ä»¥ç”¨åŒä¸€ç§æ–¹å¼è°ƒç”¨æ‰€æœ‰çš„äº‹åŠ¡ã€‚åŒæ—¶ä½¿ç”¨è¯¥æ¨¡å¼ä¹Ÿæ˜“äºæ·»åŠ æ–°äº‹åŠ¡ä»¥æ‰©å±•ç³»ç»Ÿã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>é™ä½äº†ç³»ç»Ÿè€¦åˆåº¦æ–°çš„å‘½ä»¤å¯ä»¥å¾ˆå®¹æ˜“æ·»åŠ åˆ°ç³»ç»Ÿä¸­å»ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ä½¿ç”¨å‘½ä»¤æ¨¡å¼å¯èƒ½ä¼šå¯¼è‡´æŸäº›ç³»ç»Ÿæœ‰è¿‡å¤šçš„å…·ä½“å‘½ä»¤ç±»ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>å‘½ä»¤æ¨¡å¼çš„æœ¬è´¨å°±æ˜¯å°†å‘½ä»¤å¯¹è±¡è¿›è¡Œå°è£…æ‰“åŒ…ï¼Œå°†å‘å‡ºå‘½ä»¤çš„è´£ä»»å’Œæ‰§è¡Œå‘½ä»¤çš„è´£ä»»è¿›è¡Œå‰²å¼€ã€‚å‘½ä»¤æ¨¡å¼ä¸­å‘é€è€…åªéœ€è¦çŸ¥é“å¦‚ä½•å‘é€è¯·æ±‚å‘½ä»¤ï¼Œæ— é¡»å…³å¿ƒå‘½ä»¤æ‰§è¡Œå…·ä½“è¿‡ç¨‹ã€‚åœ¨å‘é€è€…å’Œæ¥æ”¶è€…ä¸¤è€…é—´æ˜¯é€šè¿‡å‘½ä»¤å¯¹è±¡è¿›è¡Œæ²Ÿé€šçš„ã€‚è¯·æ±‚å‘½ä»¤æœ¬èº«å°±å½“åšä¸€ä¸ªå¯¹è±¡åœ¨ä¸¤è€…é—´è¿›è¡Œä¼ é€’ï¼Œå®ƒå°è£…äº†æ¥æ”¶è€…å’Œä¸€ç»„åŠ¨ä½œã€‚å‘½ä»¤æ¨¡å¼æ”¯æŒæ’¤é”€ã€‚å‘½ä»¤æ¨¡å¼é˜Ÿåˆ—è¯·æ±‚å’Œæ—¥å¿—è¯·æ±‚ã€‚</td>
</tr>
</tbody></table>
<h3 id="è®¿é—®è€…æ¨¡å¼-Visitor-Pattern"><a href="#è®¿é—®è€…æ¨¡å¼-Visitor-Pattern" class="headerlink" title="è®¿é—®è€…æ¨¡å¼(Visitor Pattern)"></a>è®¿é—®è€…æ¨¡å¼(Visitor Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Visitor</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="536" height="417"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>è¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ çš„æ“ä½œã€‚å®ƒä½¿ä½ å¯ä»¥åœ¨ä¸æ”¹å˜å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>ä¸€ä¸ªå¯¹è±¡ç»“æ„åŒ…å«å¾ˆå¤šç±»å¯¹è±¡ï¼Œå®ƒä»¬æœ‰ä¸åŒçš„æ¥å£ï¼Œè€Œä½ æƒ³å¯¹è¿™äº›å¯¹è±¡å®æ–½ä¸€äº›ä¾èµ–äºå…¶å…·ä½“ç±»çš„æ“ä½œã€‚éœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒçš„å¹¶ä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œè€Œä½ æƒ³é¿å…è®©è¿™äº›æ“ä½œ?æ±¡æŸ“?è¿™äº›å¯¹è±¡çš„ç±»ã€‚Vi s i t o r ä½¿å¾—ä½ å¯ä»¥å°†ç›¸å…³çš„æ“ä½œé›†ä¸­èµ·æ¥å®šä¹‰åœ¨ä¸€ä¸ªç±»ä¸­ã€‚å½“è¯¥å¯¹è±¡ç»“æ„è¢«å¾ˆå¤šåº”ç”¨å…±äº«æ—¶ï¼Œç”¨Vi s i t o r æ¨¡å¼è®©æ¯ä¸ªåº”ç”¨ä»…åŒ…å«éœ€è¦ç”¨åˆ°çš„æ“ä½œã€‚å®šä¹‰å¯¹è±¡ç»“æ„çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦åœ¨æ­¤ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œã€‚æ”¹å˜å¯¹è±¡ç»“æ„ç±»éœ€è¦é‡å®šä¹‰å¯¹æ‰€æœ‰è®¿é—®è€…çš„æ¥å£ï¼Œè¿™å¯èƒ½éœ€è¦å¾ˆå¤§çš„ä»£ä»·ã€‚å¦‚æœå¯¹è±¡ç»“æ„ç±»ç»å¸¸æ”¹å˜ï¼Œé‚£ä¹ˆå¯èƒ½è¿˜æ˜¯åœ¨è¿™äº›ç±»ä¸­å®šä¹‰è¿™äº›æ“ä½œè¾ƒå¥½ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>ä½¿å¾—æ–°å¢æ–°çš„è®¿é—®æ“ä½œå˜å¾—æ›´åŠ ç®€å•ã€‚èƒ½å¤Ÿä½¿å¾—ç”¨æˆ·åœ¨ä¸ä¿®æ”¹ç°æœ‰ç±»çš„å±‚æ¬¡ç»“æ„ä¸‹ï¼Œå®šä¹‰è¯¥ç±»å±‚æ¬¡ç»“æ„çš„æ“ä½œã€‚å°†æœ‰å…³å…ƒç´ å¯¹è±¡çš„è®¿é—®è¡Œä¸ºé›†ä¸­åˆ°ä¸€ä¸ªè®¿é—®è€…å¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯åˆ†æ•£æä¸€ä¸ªä¸ªçš„å…ƒç´ ç±»ä¸­ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>å¢åŠ æ–°çš„å…ƒç´ ç±»å¾ˆå›°éš¾ã€‚åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼Œæ¯å¢åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ ç±»éƒ½æ„å‘³ç€è¦åœ¨æŠ½è±¡è®¿é—®è€…è§’è‰²ä¸­å¢åŠ ä¸€ä¸ªæ–°çš„æŠ½è±¡æ“ä½œï¼Œå¹¶åœ¨æ¯ä¸€ä¸ªå…·ä½“è®¿é—®è€…ç±»ä¸­å¢åŠ ç›¸åº”çš„å…·ä½“æ“ä½œï¼Œè¿èƒŒäº†â€œå¼€é—­åŸåˆ™â€çš„è¦æ±‚ã€‚ç ´åå°è£…ã€‚å½“é‡‡ç”¨è®¿é—®è€…æ¨¡å¼çš„æ—¶å€™ï¼Œå°±ä¼šæ‰“ç ´ç»„åˆç±»çš„å°è£…ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>1.SomeClass çš„ Accept()æ–¹æ³•å°±æ˜¯è®¿é—®åŸæ¥ç±»çš„å°å£ï¼Œ Accept()æ–¹æ³•åªæœ‰ä¸€å¥ä»£ç ï¼Œå°±æ˜¯: visitor.NewMethod(this) ï¼Œè¿™æ˜¯è®¿é—®è€…æ¨¡å¼çš„ç²¾å¦™ä¹‹å¤„ã€‚ 2.SomeClass çš„æ–°åŠŸèƒ½é€šè¿‡å®ç° IVisitor æ¥å£çš„ç±»æ¥å®ç°ã€‚è®¿é—®è€…æ¨¡å¼å°è£…äº†å¯¹è±¡ç»“æ„å…ƒç´ ä¹‹ä¸Šçš„æ“ä½œï¼Œä½¿å¾—æ–°å¢å…ƒç´ çš„æ“ä½œå˜å¾—éå¸¸ç®€å•ã€‚æ‰€ä»¥å®ƒæ¯”è¾ƒé€‚ç”¨äºé‚£ä¹ˆå¯¹è±¡ç»“æ„å¾ˆå°‘å˜åŒ–çš„ç±»ã€‚è®¿é—®è€…æ¨¡å¼ä¸­å¯¹è±¡ç»“æ„å­˜å‚¨äº†ä¸åŒç±»å‹çš„å…ƒç´ å¯¹è±¡ï¼Œä»¥ä¾›ä¸åŒè®¿é—®è€…è®¿é—®ã€‚</td>
</tr>
</tbody></table>
<h3 id="è§£é‡Šå™¨æ¨¡å¼-Interpreter-Pattern"><a href="#è§£é‡Šå™¨æ¨¡å¼-Interpreter-Pattern" class="headerlink" title="è§£é‡Šå™¨æ¨¡å¼(Interpreter Pattern)"></a>è§£é‡Šå™¨æ¨¡å¼(Interpreter Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Interpreter</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="450" height="242"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>ç»™å®šä¸€ä¸ªè¯­è¨€ï¼Œå®šä¹‰å®ƒçš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤ºï¼Œå¹¶å®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨ï¼Œè¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>å½“æœ‰ä¸€ä¸ªè¯­è¨€éœ€è¦è§£é‡Šæ‰§è¡Œ, å¹¶ä¸”ä½ å¯å°†è¯¥è¯­è¨€ä¸­çš„å¥å­è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘æ—¶ï¼Œå¯ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼ã€‚è€Œå½“å­˜åœ¨ä»¥ä¸‹æƒ…å†µæ—¶è¯¥æ¨¡å¼æ•ˆæœæœ€å¥½ï¼šè¯¥æ–‡æ³•ç®€å•å¯¹äºå¤æ‚çš„æ–‡æ³•, æ–‡æ³•çš„ç±»å±‚æ¬¡å˜å¾—åºå¤§è€Œæ— æ³•ç®¡ç†ã€‚æ­¤æ—¶è¯­æ³•åˆ†æç¨‹åºç”Ÿæˆå™¨è¿™æ ·çš„å·¥å…·æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚å®ƒä»¬æ— éœ€æ„å»ºæŠ½è±¡è¯­æ³•æ ‘å³å¯è§£é‡Šè¡¨è¾¾å¼, è¿™æ ·å¯ä»¥èŠ‚çœç©ºé—´è€Œä¸”è¿˜å¯èƒ½èŠ‚çœæ—¶é—´ã€‚æ•ˆç‡ä¸æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜æœ€é«˜æ•ˆçš„è§£é‡Šå™¨é€šå¸¸ä¸æ˜¯é€šè¿‡ç›´æ¥è§£é‡Šè¯­æ³•åˆ†ææ ‘å®ç°çš„, è€Œæ˜¯é¦–å…ˆå°†å®ƒä»¬è½¬æ¢æˆå¦ä¸€ç§å½¢å¼ã€‚ä¾‹å¦‚ï¼Œæ­£åˆ™è¡¨è¾¾å¼é€šå¸¸è¢«è½¬æ¢æˆçŠ¶æ€æœºã€‚ä½†å³ä½¿åœ¨è¿™ç§æƒ…å†µä¸‹, è½¬æ¢å™¨ä»å¯ç”¨è§£é‡Šå™¨æ¨¡å¼å®ç°, è¯¥æ¨¡å¼ä»æ˜¯æœ‰ç”¨çš„ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>å¯æ‰©å±•æ€§æ¯”è¾ƒå¥½ï¼Œçµæ´»ã€‚å¢åŠ äº†æ–°çš„è§£é‡Šè¡¨è¾¾å¼çš„æ–¹å¼ã€‚æ˜“äºå®ç°æ–‡æ³•ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>æ‰§è¡Œæ•ˆç‡æ¯”è¾ƒä½ï¼Œå¯åˆ©ç”¨åœºæ™¯æ¯”è¾ƒå°‘ã€‚å¯¹äºå¤æ‚çš„æ–‡æ³•æ¯”è¾ƒéš¾ç»´æŠ¤ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>åœ¨è§£é‡Šå™¨æ¨¡å¼ä¸­ç”±äºè¯­æ³•æ˜¯ç”±å¾ˆå¤šç±»è¡¨ç¤ºçš„ï¼Œæ‰€ä»¥å¯æ‰©å±•æ€§å¼ºã€‚è™½ç„¶è§£é‡Šå™¨çš„å¯æ‰©å±•æ€§å¼ºï¼Œä½†æ˜¯å¦‚æœè¯­æ³•è§„åˆ™çš„æ•°ç›®å¤ªå¤§çš„æ—¶å€™ï¼Œè¯¥æ¨¡å¼å¯èƒ½å°±ä¼šå˜å¾—å¼‚å¸¸å¤æ‚ã€‚æ‰€ä»¥è§£é‡Šå™¨æ¨¡å¼é€‚ç”¨äºæ–‡æ³•è¾ƒä¸ºç®€å•çš„ã€‚è§£é‡Šå™¨æ¨¡å¼å¯ä»¥å¤„ç†è„šæœ¬è¯­è¨€å’Œç¼–ç¨‹è¯­è¨€ã€‚å¸¸ç”¨äºè§£å†³æŸä¸€ç‰¹å®šç±»å‹çš„é—®é¢˜é¢‘ç¹å‘ç”Ÿæƒ…å†µã€‚</td>
</tr>
</tbody></table>
<h3 id="ä¸­ä»‹è€…æ¨¡å¼-Mediator-Pattern"><a href="#ä¸­ä»‹è€…æ¨¡å¼-Mediator-Pattern" class="headerlink" title="ä¸­ä»‹è€…æ¨¡å¼(Mediator Pattern)"></a>ä¸­ä»‹è€…æ¨¡å¼(Mediator Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Mediator</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="535" height="166"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>ä¸€ç»„å¯¹è±¡ä»¥å®šä¹‰è‰¯å¥½ä½†æ˜¯å¤æ‚çš„æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚äº§ç”Ÿçš„ç›¸äº’ä¾èµ–å…³ç³»ç»“æ„æ··ä¹±ä¸”éš¾ä»¥ç†è§£ã€‚ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å…¶ä»–å¾ˆå¤šå¯¹è±¡å¹¶ä¸”ç›´æ¥ä¸è¿™äº›å¯¹è±¡é€šä¿¡,å¯¼è‡´éš¾ä»¥å¤ç”¨è¯¥å¯¹è±¡ã€‚æƒ³å®šåˆ¶ä¸€ä¸ªåˆ†å¸ƒåœ¨å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±»ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>ç®€åŒ–äº†å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œå°†ç³»ç»Ÿçš„å„ä¸ªå¯¹è±¡ä¹‹é—´çš„ç›¸äº’å…³ç³»è¿›è¡Œå°è£…ï¼Œå°†å„ä¸ªåŒäº‹ç±»è§£è€¦ï¼Œä½¿ç³»ç»Ÿæˆä¸ºæ¾è€¦åˆç³»ç»Ÿã€‚å‡å°‘äº†å­ç±»çš„ç”Ÿæˆã€‚å¯ä»¥å‡å°‘å„åŒäº‹ç±»çš„è®¾è®¡ä¸å®ç°ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ç”±äºä¸­ä»‹è€…å¯¹è±¡å°è£…äº†ç³»ç»Ÿä¸­å¯¹è±¡ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œå¯¼è‡´å…¶å˜å¾—éå¸¸å¤æ‚ï¼Œä½¿å¾—ç³»ç»Ÿç»´æŠ¤æ¯”è¾ƒå›°éš¾ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>æ¯ä¸ªæ§ä»¶ä¸éœ€è¦ç›´æ¥å’Œåˆ«çš„æ§ä»¶æ‰“äº¤é“ï¼Œåªéœ€è¦çŸ¥é“ä¸­ä»‹è€…å°±å¯ä»¥äº†ã€‚æ¯ä¸ªæ§ä»¶éƒ½éœ€è¦ä¿æŒä¿æŒä¸­ä»‹è€…çš„å¼•ç”¨ï¼Œè€Œä¸­ä»‹è€…ä¸ä¸€å®šéœ€è¦ä¿æŒæ¯ä¸ªæ§ä»¶çš„å¼•ç”¨Mediator çš„ä»£ç å¯èƒ½å¾ˆå¤æ‚ã€‚</td>
</tr>
</tbody></table>
<h3 id="å¤‡å¿˜å½•æ¨¡å¼-Memento-Pattern"><a href="#å¤‡å¿˜å½•æ¨¡å¼-Memento-Pattern" class="headerlink" title="å¤‡å¿˜å½•æ¨¡å¼(Memento Pattern)"></a>å¤‡å¿˜å½•æ¨¡å¼(Memento Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Mediator</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="535" height="166"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ã€‚ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼åœ°ç›¸äº’å¼•ç”¨ï¼Œä»è€Œä½¿å…¶è€¦åˆæ¾æ•£ï¼Œè€Œä¸”å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜å®ƒä»¬ä¹‹é—´çš„äº¤äº’ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>ä¸€ç»„å¯¹è±¡ä»¥å®šä¹‰è‰¯å¥½ä½†æ˜¯å¤æ‚çš„æ–¹å¼è¿›è¡Œé€šä¿¡ã€‚äº§ç”Ÿçš„ç›¸äº’ä¾èµ–å…³ç³»ç»“æ„æ··ä¹±ä¸”éš¾ä»¥ç†è§£ã€‚ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å…¶ä»–å¾ˆå¤šå¯¹è±¡å¹¶ä¸”ç›´æ¥ä¸è¿™äº›å¯¹è±¡é€šä¿¡,å¯¼è‡´éš¾ä»¥å¤ç”¨è¯¥å¯¹è±¡ã€‚æƒ³å®šåˆ¶ä¸€ä¸ªåˆ†å¸ƒåœ¨å¤šä¸ªç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œåˆä¸æƒ³ç”Ÿæˆå¤ªå¤šçš„å­ç±»ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>ç»™ç”¨æˆ·æä¾›äº†ä¸€ç§å¯ä»¥æ¢å¤çŠ¶æ€çš„æœºåˆ¶ã€‚å¯ä»¥æ˜¯ç”¨æˆ·èƒ½å¤Ÿæ¯”è¾ƒæ–¹ä¾¿åœ°å›åˆ°æŸä¸ªå†å²çš„çŠ¶æ€ã€‚å®ç°äº†ä¿¡æ¯çš„å°è£…ã€‚ä½¿å¾—ç”¨æˆ·ä¸éœ€è¦å…³å¿ƒçŠ¶æ€çš„ä¿å­˜ç»†èŠ‚ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>æ¶ˆè€—èµ„æºã€‚å¦‚æœç±»çš„æˆå‘˜å˜é‡è¿‡å¤šï¼ŒåŠ¿å¿…ä¼šå ç”¨æ¯”è¾ƒå¤§çš„èµ„æºï¼Œè€Œä¸”æ¯ä¸€æ¬¡ä¿å­˜éƒ½ä¼šæ¶ˆè€—ä¸€å®šçš„å†…å­˜ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>åˆ°éœ€è¦ä¿å­˜å¯¹è±¡å¤šä¸ªçŠ¶æ€ï¼Œå¹¶ä¸”å¯ä»¥æ¢å¤åˆ°ä»»æ„çŠ¶æ€ï¼Œå¯è€ƒè™‘å¤‡å¿˜å½•æ¨¡å¼ã€‚å°†å¯¹è±¡ã€å¯¹è±¡çŠ¶æ€å’ŒçŠ¶æ€çš„ä¿å­˜åŠæ³•åˆ†ç¦»ï¼Œè®¾è®¡ä¸Šä¼šæ›´åŠ çµæ´»ã€‚ä½†å¯¹è±¡å±æ€§çš„å¤‡ä»½ã€æ¢å¤ã€ä¿å­˜ç­‰åŠ¨ä½œï¼Œéƒ½æ˜¯å¯èƒ½æ¯”è¾ƒè€—æ—¶çš„ã€‚å¤‡å¿˜å½•æ¨¡å¼åªæ˜¯æä¾›äº†ä¿å­˜å¯¹è±¡çŠ¶æ€çš„ä¸€ç§è§£å†³æ–¹æ¡ˆæ¡†æ¶ ï¼ŒçœŸæ­£åº”ç”¨æ—¶è¿˜éœ€è¦è§£å†³è¿™äº› é—®é¢˜:1.å¦‚ä½•è®¾è®¡ Memento? 2.æ€æ ·ä¿å­˜å¤šä¸ªå¯¹è±¡? 3.æ€æ ·ä¿å­˜ç»„ç»‡æˆæ ‘ç»“æ„çš„å¤šä¸ªå¯¹è±¡?</td>
</tr>
</tbody></table>
<h3 id="æ¨¡æ¿æ–¹æ³•æ¨¡å¼-TemplateMethod-Pattern"><a href="#æ¨¡æ¿æ–¹æ³•æ¨¡å¼-TemplateMethod-Pattern" class="headerlink" title="æ¨¡æ¿æ–¹æ³•æ¨¡å¼(TemplateMethod Pattern)"></a>æ¨¡æ¿æ–¹æ³•æ¨¡å¼(TemplateMethod Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Template Method</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="395" height="225"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚Te m p l a t e M e t h o d ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>ç®—æ³•çš„éª¨æ¶æ˜¯ä¸å˜çš„ï¼Œä½†å…¶ä¸­çš„æ­¥éª¤å®ç°å¯èƒ½æœ‰å˜åŒ–ï¼Œè¿™æ—¶å¯åº”ç”¨æ¨¡æ¿æ–¹æ³•ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>æ¨¡æ¿æ–¹æ³•æ¨¡å¼åœ¨å®šä¹‰äº†ä¸€ç»„ç®—æ³•ï¼Œå°†å…·ä½“çš„å®ç°äº¤ç”±å­ç±»è´Ÿè´£ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ç§ä»£ç å¤ç”¨çš„åŸºæœ¬æŠ€æœ¯ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼å¯¼è‡´ä¸€ç§åå‘çš„æ§åˆ¶ç»“æ„ï¼Œé€šè¿‡ä¸€ä¸ªçˆ¶ç±»è°ƒç”¨å…¶å­ç±»çš„æ“ä½œï¼Œé€šè¿‡å¯¹å­ç±»çš„æ‰©å±•å¢åŠ æ–°çš„è¡Œä¸ºï¼Œç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>æ¯ä¸€ä¸ªä¸åŒçš„å®ç°éƒ½éœ€è¦ä¸€ä¸ªå­ç±»æ¥å®ç°ï¼Œå¯¼è‡´ç±»çš„ä¸ªæ•°å¢åŠ ï¼Œæ˜¯çš„ç³»ç»Ÿæ›´åŠ åºå¤§ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>æ¨¡æ¿æ–¹æ³•æ¨¡å¼å®šä¹‰äº†ç®—æ³•çš„æ­¥éª¤ï¼Œå°†è¿™äº›æ­¥éª¤çš„å®ç°å»¶è¿Ÿåˆ°äº†å­ç±»ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§ä»£ç å¤ç”¨çš„é‡è¦æŠ€å·§ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„æŠ½è±¡ç±»å¯ä»¥å®šä¹‰æŠ½è±¡æ–¹æ³•ã€å…·ä½“æ–¹æ³•å’Œé’©å­ã€‚ä¸ºäº†é˜²æ­¢å­ç±»æ”¹å˜ç®—æ³•çš„å®ç°æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¨¡æ¿æ–¹æ³•å£°æ˜ä¸ºfinalã€‚</td>
</tr>
</tbody></table>
<h3 id="çŠ¶æ€æ¨¡å¼-State-Pattern"><a href="#çŠ¶æ€æ¨¡å¼-State-Pattern" class="headerlink" title="çŠ¶æ€æ¨¡å¼(State Pattern)"></a>çŠ¶æ€æ¨¡å¼(State Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>State</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="472" height="190"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚å¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å®ƒçš„ç±»ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„çŠ¶æ€, å¹¶ä¸”å®ƒå¿…é¡»åœ¨è¿è¡Œæ—¶åˆ»æ ¹æ®çŠ¶æ€æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚ä¸€ä¸ªæ“ä½œä¸­å«æœ‰åºå¤§çš„å¤šåˆ†æ”¯çš„æ¡ä»¶è¯­å¥ï¼Œä¸”è¿™äº›åˆ†æ”¯ä¾èµ–äºè¯¥å¯¹è±¡çš„çŠ¶æ€ã€‚è¿™ä¸ªçŠ¶æ€é€šå¸¸ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªæšä¸¾å¸¸é‡è¡¨ç¤ºã€‚é€šå¸¸, æœ‰å¤šä¸ªæ“ä½œåŒ…å«è¿™ä¸€ç›¸åŒçš„æ¡ä»¶ç»“æ„ã€‚S t a t eæ¨¡å¼å°†æ¯ä¸€ä¸ªæ¡ä»¶åˆ†æ”¯æ”¾å…¥ä¸€ä¸ªç‹¬ç«‹çš„ç±»ä¸­ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥æ ¹æ®å¯¹è±¡è‡ªèº«çš„æƒ…å†µå°†å¯¹è±¡çš„çŠ¶æ€ä½œä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡å¯ä»¥ä¸ä¾èµ–äºå…¶ä»–å¯¹è±¡è€Œç‹¬ç«‹å˜åŒ–ã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>å°è£…äº†è½¬æ¢è§„åˆ™ã€‚æšä¸¾å¯èƒ½çš„çŠ¶æ€ï¼Œåœ¨æšä¸¾çŠ¶æ€ä¹‹å‰éœ€è¦ç¡®å®šçŠ¶æ€ç§ç±»ã€‚å°†æ‰€æœ‰ä¸æŸä¸ªçŠ¶æ€æœ‰å…³çš„è¡Œä¸ºæ”¾åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œå¹¶ä¸”å¯ä»¥æ–¹ä¾¿åœ°å¢åŠ æ–°çš„çŠ¶æ€ï¼Œåªéœ€è¦æ”¹å˜å¯¹è±¡çŠ¶æ€å³å¯æ”¹å˜å¯¹è±¡çš„è¡Œä¸ºã€‚å…è®¸çŠ¶æ€è½¬æ¢é€»è¾‘ä¸çŠ¶æ€å¯¹è±¡åˆæˆä¸€ä½“ï¼Œè€Œä¸æ˜¯æŸä¸€ä¸ªå·¨å¤§çš„æ¡ä»¶è¯­å¥å—ã€‚å¯ä»¥è®©å¤šä¸ªç¯å¢ƒå¯¹è±¡å…±äº«ä¸€ä¸ªçŠ¶æ€å¯¹è±¡ï¼Œä»è€Œå‡å°‘ç³»ç»Ÿä¸­å¯¹è±¡çš„ä¸ªæ•°ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>çŠ¶æ€æ¨¡å¼çš„ä½¿ç”¨å¿…ç„¶ä¼šå¢åŠ ç³»ç»Ÿç±»å’Œå¯¹è±¡çš„ä¸ªæ•°ã€‚çŠ¶æ€æ¨¡å¼çš„ç»“æ„ä¸å®ç°éƒ½è¾ƒä¸ºå¤æ‚ï¼Œå¦‚æœä½¿ç”¨ä¸å½“å°†å¯¼è‡´ç¨‹åºç»“æ„å’Œä»£ç çš„æ··ä¹±ã€‚çŠ¶æ€æ¨¡å¼å¯¹â€œå¼€é—­åŸåˆ™â€çš„æ”¯æŒå¹¶ä¸å¤ªå¥½ï¼Œå¯¹äºå¯ä»¥åˆ‡æ¢çŠ¶æ€çš„çŠ¶æ€æ¨¡å¼ï¼Œå¢åŠ æ–°çš„çŠ¶æ€ç±»éœ€è¦ä¿®æ”¹é‚£äº›è´Ÿè´£çŠ¶æ€è½¬æ¢çš„æºä»£ç ï¼Œå¦åˆ™æ— æ³•åˆ‡æ¢åˆ°æ–°å¢çŠ¶æ€ï¼›è€Œä¸”ä¿®æ”¹æŸä¸ªçŠ¶æ€ç±»çš„è¡Œä¸ºä¹Ÿéœ€ä¿®æ”¹å¯¹åº”ç±»çš„æºä»£ç ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>çŠ¶æ€æ¨¡å¼å…è®¸ä¸€ä¸ªå¯¹è±¡åŸºäºå†…éƒ¨çŠ¶æ€è€Œæ‹¥æœ‰ä¸åŒçš„è¡Œä¸ºã€‚Contextä¼šå°†è¡Œä¸ºå§”æ‰˜ç»™å½“å‰çŠ¶æ€å¯¹è±¡ã€‚çŠ¶æ€æ¨¡å¼å¯¹â€œå¼€é—­åŸåˆ™â€æ”¯æŒä¸æ˜¯å¾ˆå¥½ã€‚</td>
</tr>
</tbody></table>
<h3 id="è´£ä»»é“¾æ¨¡å¼-Chain-of-Responsibility-Pattern"><a href="#è´£ä»»é“¾æ¨¡å¼-Chain-of-Responsibility-Pattern" class="headerlink" title="è´£ä»»é“¾æ¨¡å¼(Chain of Responsibility Pattern)"></a>è´£ä»»é“¾æ¨¡å¼(Chain of Responsibility Pattern)</h3><table>
<thead>
<tr>
<th>åç§°</th>
<th><strong>Chain of Responsibility</strong></th>
</tr>
</thead>
<tbody><tr>
<td>ç»“æ„</td>
<td>![img](data:image/svg+xml;utf8,<?xml version="1.0"?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="412" height="218"/>)</td>
</tr>
<tr>
<td>åŠ¨æœº</td>
<td>ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚</td>
</tr>
<tr>
<td>é€‚ç”¨æ€§</td>
<td>æœ‰å¤šä¸ªçš„å¯¹è±¡å¯ä»¥å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œå“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚è¿è¡Œæ—¶åˆ»è‡ªåŠ¨ç¡®å®šã€‚ä½ æƒ³åœ¨ä¸æ˜ç¡®æŒ‡å®šæ¥æ”¶è€…çš„æƒ…å†µä¸‹ï¼Œå‘å¤šä¸ªå¯¹è±¡ä¸­çš„ä¸€ä¸ªæäº¤ä¸€ä¸ªè¯·æ±‚ã€‚å¯å¤„ç†ä¸€ä¸ªè¯·æ±‚çš„å¯¹è±¡é›†åˆåº”è¢«åŠ¨æ€æŒ‡å®šã€‚</td>
</tr>
<tr>
<td>ä¼˜ç‚¹</td>
<td>é™ä½è€¦åˆåº¦ã€‚å®ƒå°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥å—è€…è§£è€¦ã€‚ç®€åŒ–äº†å¯¹è±¡ã€‚ä½¿å¾—å¯¹è±¡ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ã€‚å¢å¼ºç»™å¯¹è±¡æŒ‡æ´¾èŒè´£çš„çµæ´»æ€§ã€‚é€šè¿‡æ”¹å˜é“¾å†…çš„æˆå‘˜æˆ–è€…è°ƒåŠ¨å®ƒä»¬çš„æ¬¡åºï¼Œå…è®¸åŠ¨æ€åœ°æ–°å¢æˆ–è€…åˆ é™¤è´£ä»»ã€‚å¢åŠ æ–°çš„è¯·æ±‚å¤„ç†ç±»å¾ˆæ–¹ä¾¿ã€‚</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>ä¸èƒ½ä¿è¯è¯·æ±‚ä¸€å®šè¢«æ¥æ”¶ã€‚ç³»ç»Ÿæ€§èƒ½å°†å—åˆ°ä¸€å®šå½±å“ï¼Œè€Œä¸”åœ¨è¿›è¡Œä»£ç è°ƒè¯•æ—¶ä¸å¤ªæ–¹ä¾¿ï¼›å¯èƒ½ä¼šé€ æˆå¾ªç¯è°ƒç”¨å¯èƒ½ä¸å®¹æ˜“è§‚å¯Ÿè¿è¡Œæ—¶çš„ç‰¹å¾ï¼Œæœ‰ç¢äºé™¤é”™ã€‚</td>
</tr>
<tr>
<td>å°ç»“</td>
<td>èŒè´£é“¾æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥å—è€…è§£è€¦äº†ã€‚å®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“è¯·æ±‚å¤„ç†è€…çš„æ˜ç¡®ä¿¡æ¯ï¼Œç”šè‡³ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ï¼Œå®ƒåªéœ€è¦å°†è¯·æ±‚è¿›è¡Œå‘é€å³å¯ã€‚èŒè´£é“¾æ¨¡å¼èƒ½å¤Ÿéå¸¸æ–¹ä¾¿çš„åŠ¨æ€å¢åŠ æ–°èŒè´£æˆ–è€…åˆ é™¤èŒè´£ã€‚å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚å¯èƒ½ä¼šå¾—ä¸åˆ°å¤„ç†ã€‚å¤„ç†è€…ä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ï¼Œåªéœ€è¦æ˜ç™½ä»–çš„åç»­è€…æ˜¯è°å°±å¯ä»¥äº†ã€‚è¿™æ ·å°±ç®€åŒ–äº†ç³»ç»Ÿä¸­çš„å¯¹è±¡ã€‚</td>
</tr>
</tbody></table>
<h3 id="è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼å°ç»“"><a href="#è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼å°ç»“" class="headerlink" title="è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼å°ç»“"></a>è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼å°ç»“</h3><table>
<thead>
<tr>
<th align="left">æ¨¡å¼</th>
<th>åœºæ™¯å‘æ•£</th>
<th align="left">ä¸€å¥è¯è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">è§‚å¯Ÿè€…(Observer)</td>
<td>åŒæ­¥æ›´æ–°çš„é—®é¢˜</td>
<td align="left">ä¸€å‘¼ç™¾åº”ã€‚</td>
</tr>
<tr>
<td align="left">ç­–ç•¥(Strategy)</td>
<td>è®¾è®¡ä½ çš„æˆ˜å£«</td>
<td align="left">åˆ†ç¦»ç®—æ³•ã€‚</td>
</tr>
<tr>
<td align="left">è¿­ä»£å™¨(Iterator)</td>
<td>é›†åˆè®¿é—®çš„çƒ¦æ¼</td>
<td align="left">ä»¥ä¸€è‡´çš„æ–¹å¼è®¿é—®é›†åˆï¼Œ â€œæ¾ç»‘ â€éå†ç®—æ³•ä»£ç ã€‚</td>
</tr>
<tr>
<td align="left">å‘½ä»¤(Command)</td>
<td>ç¥å¥‡çš„Doä¸Undo</td>
<td align="left">åˆ†ç¦»åŠŸèƒ½è°ƒç”¨è€…ä¸åŠŸèƒ½å®ç°è€…ã€‚</td>
</tr>
<tr>
<td align="left">è®¿é—®è€…(Visitor)</td>
<td>å¢åŠ æ–°æ–¹æ³•çš„çƒ¦æ¼</td>
<td align="left">ä¸æ”¹å˜å¯¹è±¡ç»“æ„å¢åŠ æ–°æ–¹æ³•ã€‚</td>
</tr>
<tr>
<td align="left">è§£é‡Šå™¨(Interpreter)</td>
<td>è¶…çº§è¡¨è¾¾è§£é‡Šå¼•æ“</td>
<td align="left">è¯­æ³•è§£é‡Šã€‚</td>
</tr>
<tr>
<td align="left">ä¸­ä»‹è€…(Mediator)</td>
<td>éº»çƒ¦çš„å¤šè§’å…³ç³»</td>
<td align="left">å¤„ç†å¤šå¯¹å¤šå…³ç³»ã€‚</td>
</tr>
<tr>
<td align="left">å¤‡å¿˜å½•(Memento)</td>
<td>å‡å¦‚ä¸€åˆ‡å¯ä»¥é‡æ¥</td>
<td align="left">ä¿å­˜å¯¹è±¡çš„å¤šä¸ªçŠ¶æ€å¹¶å¯ä»»æ„æ¢å¤ã€‚</td>
</tr>
<tr>
<td align="left">æ¨¡æ¿æ–¹æ³•(Template Method)</td>
<td>ä¸‡èƒ½çš„æ’åºå™¨</td>
<td align="left">å®šä¹‰å¥½æ¡†æ¶ç®—æ³• ï¼ŒæŸäº›æ­¥éª¤å¯è‡ªå·±å®šä¹‰ ã€‚</td>
</tr>
<tr>
<td align="left">çŠ¶æ€(State)</td>
<td>æ˜¯æ”»å‡»è¿˜æ˜¯é€ƒèµ°</td>
<td align="left">æ–¹ä¾¿åœ°å¤„ç†ä¸åŒçŠ¶æ€ä¸åŒè¡Œä¸ºï¼Œä»¥åŠçŠ¶æ€ä¹‹é—´çš„è½¬æ¢ã€‚</td>
</tr>
<tr>
<td align="left">è´£ä»»é“¾(Chain)</td>
<td>é‚®ä»¶è‡ªåŠ¨å¤„ç†ç³»ç»Ÿ</td>
<td align="left">ç”¨ä¸åŒçš„è§„åˆ™å»å¤„ç†è¯·æ±‚ã€‚</td>
</tr>
</tbody></table>
<h2 id="æ¨¡å¼æ¯”è¾ƒ"><a href="#æ¨¡å¼æ¯”è¾ƒ" class="headerlink" title="æ¨¡å¼æ¯”è¾ƒ"></a>æ¨¡å¼æ¯”è¾ƒ</h2><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="http://www.uml.org.cn/sjms/201211023.asp" target="_blank" rel="noopener">www.uml.org.cn/sjms/201211â€¦</a></li>
<li><a href="http://www.cnblogs.com/chenssy/p/3357683.html" target="_blank" rel="noopener">www.cnblogs.com/chenssy/p/3â€¦</a></li>
<li><a href="https://academy.realm.io/cn/posts/donn-felker-solid-part-1/" target="_blank" rel="noopener">academy.realm.io/cn/posts/doâ€¦</a></li>
<li><a href="http://www.cnblogs.com/chenssy/p/3357683.html" target="_blank" rel="noopener">www.cnblogs.com/chenssy/p/3â€¦</a></li>
<li>ã€Šç¡¬å•ƒè®¾è®¡æ¨¡å¼ã€‹</li>
<li>ã€ŠHeadFirst è®¾è®¡æ¨¡å¼ã€‹</li>
<li>GoF ã€Šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/09/05/NDKå¼€å‘Application-mkæŒ‡å—-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/05/NDKå¼€å‘Application-mkæŒ‡å—-6/" class="post-title-link" itemprop="url">NDKå¼€å‘Application.mkæŒ‡å—[6]</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-09-05 13:39:51" itemprop="dateCreated datePublished" datetime="2019-09-05T13:39:51+08:00">2019-09-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 10:30:53" itemprop="dateModified" datetime="2019-12-31T10:30:53+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NDK/" itemprop="url" rel="index">
                    <span itemprop="name">NDK</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Application-mk"><a href="#Application-mk" class="headerlink" title="Application.mk"></a>Application.mk</h1><p><a href="https://developer.android.com/ndk/guides/application_mk.html" target="_blank" rel="noopener">å®˜ç½‘åœ°å€</a></p>
<p>Application.mk<code>æŒ‡å®šäº† ndk-build çš„é¡¹ç›®èŒƒå›´è®¾ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä½äºåº”ç”¨é¡¹ç›®ç›®å½•ä¸­çš„</code>jni/Application.mk` ä¸‹ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå…¶ä¸­è®¸å¤šå‚æ•°ä¹Ÿå…·æœ‰æ¨¡å—ç­‰æ•ˆé¡¹ã€‚ä¾‹å¦‚ï¼Œ<code>APP_CFLAGS</code> å¯¹åº”äº <code>LOCAL_CFLAGS</code>ã€‚æ— è®ºä½•ç§æƒ…å†µä¸‹ï¼Œç‰¹å®šäºæ¨¡å—çš„é€‰é¡¹éƒ½å°†ä¼˜å…ˆäºåº”ç”¨èŒƒå›´é€‰é¡¹ã€‚å¯¹äºæ ‡è®°ï¼Œä¸¤è€…éƒ½ä½¿ç”¨ï¼Œä½†ç‰¹å®šäºæ¨¡å—çš„æ ‡è®°å°†åå‡ºç°åœ¨å‘½ä»¤è¡Œä¸­ï¼Œå› æ­¤å®ƒä»¬å¯èƒ½ä¼šæ›¿æ¢é¡¹ç›®èŒƒå›´è®¾ç½®ã€‚</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/09/05/NDKå¼€å‘Application-mkæŒ‡å—-6/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/09/05/NDKå¼€å‘Android-mkæŒ‡å—-5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/05/NDKå¼€å‘Android-mkæŒ‡å—-5/" class="post-title-link" itemprop="url">NDKå¼€å‘Android.mkæŒ‡å—[5]</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-09-05 11:01:05" itemprop="dateCreated datePublished" datetime="2019-09-05T11:01:05+08:00">2019-09-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 10:30:53" itemprop="dateModified" datetime="2019-12-31T10:30:53+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NDK/" itemprop="url" rel="index">
                    <span itemprop="name">NDK</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Android-mk"><a href="#Android-mk" class="headerlink" title="Android.mk"></a>Android.mk</h1><p><a href https: developer.android.com ndk guides android_mk.html"">å®˜ç½‘é“¾æ¥</a></p>
<p>æœ¬é¡µä»‹ç»äº† <code>ndk-build</code> æ‰€ä½¿ç”¨çš„ <code>Android.mk</code> ç¼–è¯‘æ–‡ä»¶çš„è¯­æ³•ã€‚</p>
<h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><p><code>Android.mk</code> æ–‡ä»¶ä½äºé¡¹ç›® <code>jni/</code> ç›®å½•çš„å­ç›®å½•ä¸­ï¼Œç”¨äºå‘ç¼–è¯‘ç³»ç»Ÿæè¿°æºæ–‡ä»¶å’Œå…±äº«åº“ã€‚å®ƒå®é™…ä¸Šæ˜¯ç¼–è¯‘ç³»ç»Ÿè§£æä¸€æ¬¡æˆ–å¤šæ¬¡çš„å¾®å° GNU makefile ç‰‡æ®µã€‚<code>Android.mk</code> æ–‡ä»¶ç”¨äºå®šä¹‰ <a href="https://developer.android.com/ndk/guides/application_mk.html" target="_blank" rel="noopener"><code>Application.mk</code></a>ã€ç¼–è¯‘ç³»ç»Ÿå’Œç¯å¢ƒå˜é‡æ‰€æœªå®šä¹‰çš„é¡¹ç›®èŒƒå›´è®¾ç½®ã€‚å®ƒè¿˜å¯æ›¿æ¢ç‰¹å®šæ¨¡å—çš„é¡¹ç›®èŒƒå›´è®¾ç½®ã€‚</p>
<p><code>Android.mk</code> çš„è¯­æ³•æ”¯æŒå°†æºæ–‡ä»¶åˆ†ç»„ä¸ºæ¨¡å—ã€‚æ¨¡å—æ˜¯é™æ€åº“ã€å…±äº«åº“æˆ–ç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚æ‚¨å¯åœ¨æ¯ä¸ª <code>Android.mk</code> æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å—ï¼Œä¹Ÿå¯åœ¨å¤šä¸ªæ¨¡å—ä¸­ä½¿ç”¨åŒä¸€ä¸ªæºæ–‡ä»¶ã€‚ç¼–è¯‘ç³»ç»Ÿåªå°†å…±äº«åº“æ”¾å…¥æ‚¨çš„åº”ç”¨è½¯ä»¶åŒ…ã€‚æ­¤å¤–ï¼Œé™æ€åº“å¯ç”Ÿæˆå…±äº«åº“ã€‚</p>
<p>é™¤äº†å°è£…åº“ä¹‹å¤–ï¼Œç¼–è¯‘ç³»ç»Ÿè¿˜å¯ä¸ºæ‚¨å¤„ç†å„ç§å…¶ä»–äº‹é¡¹ã€‚ä¾‹å¦‚ï¼Œæ‚¨æ— éœ€åœ¨ <code>Android.mk</code> æ–‡ä»¶ä¸­åˆ—å‡ºå¤´æ–‡ä»¶æˆ–ç”Ÿæˆçš„æ–‡ä»¶ä¹‹é—´çš„æ˜¾å¼ä¾èµ–å…³ç³»ã€‚NDK ç¼–è¯‘ç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—è¿™äº›å…³ç³»ã€‚å› æ­¤ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿäº«å—åˆ°æœªæ¥ NDK ç‰ˆæœ¬ä¸­æ–°å·¥å…·é“¾/å¹³å°æ”¯æŒå¸¦æ¥çš„ç›Šå¤„ï¼Œè€Œæ— éœ€å¤„ç† <code>Android.mk</code> æ–‡ä»¶ã€‚</p>
<p>æ­¤æ–‡ä»¶çš„è¯­æ³•ä¸éšæ•´ä¸ª <a href="https://source.android.com/" target="_blank" rel="noopener">Android å¼€æºé¡¹ç›®</a>åˆ†å‘çš„ <code>Android.mk</code> æ–‡ä»¶ä¸­ä½¿ç”¨çš„è¯­æ³•éå¸¸æ¥è¿‘ã€‚è™½ç„¶ä½¿ç”¨è¿™äº›è¯­æ³•çš„ç¼–è¯‘ç³»ç»Ÿå®ç°å¹¶ä¸ç›¸åŒï¼Œä½†é€šè¿‡æœ‰æ„å°†è¯­æ³•è®¾è®¡å¾—ç›¸ä¼¼ï¼Œå¯ä½¿åº”ç”¨å¼€å‘è€…æ›´è½»æ¾åœ°å°†æºä»£ç é‡å¤ç”¨äºå¤–éƒ¨åº“ã€‚</p>
<h3 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h3><p>åœ¨è¯¦ç»†äº†è§£è¯­æ³•ä¹‹å‰ï¼Œæœ€å¥½å…ˆäº†è§£ <code>Android.mk</code> æ–‡ä»¶æ‰€å«å†…å®¹çš„åŸºæœ¬ä¿¡æ¯ã€‚ä¸ºæ­¤ï¼Œæœ¬éƒ¨åˆ†ä½¿ç”¨ Hello-JNI ç¤ºä¾‹ä¸­çš„ <code>Android.mk</code> æ–‡ä»¶è§£é‡Šæ–‡ä»¶ä¸­æ¯ä¸€è¡Œçš„ä½œç”¨ã€‚</p>
<p><code>Android.mk</code> æ–‡ä»¶å¿…é¡»å…ˆå®šä¹‰ <code>LOCAL_PATH</code> å˜é‡ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_PATH := <span class="variable">$(<span class="built_in">call</span> my-<span class="built_in">dir</span>)</span></span><br></pre></td></tr></table></figure>

<p>æ­¤å˜é‡è¡¨ç¤ºæºæ–‡ä»¶åœ¨å¼€å‘æ ‘ä¸­çš„ä½ç½®ã€‚åœ¨è¿™è¡Œä»£ç ä¸­ï¼Œç¼–è¯‘ç³»ç»Ÿæä¾›çš„å®å‡½æ•° <code>my-dir</code> å°†è¿”å›å½“å‰ç›®å½•ï¼ˆ<code>Android.mk</code> æ–‡ä»¶æœ¬èº«æ‰€åœ¨çš„ç›®å½•ï¼‰çš„è·¯å¾„ã€‚</p>
<p>ä¸‹ä¸€è¡Œå£°æ˜ <code>CLEAR_VARS</code> å˜é‡ï¼Œå…¶å€¼ç”±ç¼–è¯‘ç³»ç»Ÿæä¾›ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="variable">$(CLEAR_VARS)</span></span><br></pre></td></tr></table></figure>

<p><code>CLEAR_VARS</code> å˜é‡æŒ‡å‘ä¸€ä¸ªç‰¹æ®Šçš„ GNU Makefileï¼Œåè€…ä¼šæ¸…é™¤è®¸å¤š <code>LOCAL_XXX</code> å˜é‡ï¼Œä¾‹å¦‚ <code>LOCAL_MODULE</code>ã€<code>LOCAL_SRC_FILES</code> å’Œ <code>LOCAL_STATIC_LIBRARIES</code>ã€‚è¯·æ³¨æ„ï¼ŒGNU Makefile ä¸ä¼šæ¸…é™¤ <code>LOCAL_PATH</code>ã€‚æ­¤å˜é‡å¿…é¡»ä¿ç•™å…¶å€¼ï¼Œå› ä¸ºç³»ç»Ÿåœ¨å•ä¸€ GNU Make æ‰§è¡Œç¯å¢ƒï¼ˆå…¶ä¸­çš„æ‰€æœ‰å˜é‡éƒ½æ˜¯å…¨å±€å˜é‡ï¼‰ä¸­è§£ææ‰€æœ‰ç¼–è¯‘æ§åˆ¶æ–‡ä»¶ã€‚åœ¨æè¿°æ¯ä¸ªæ¨¡å—ä¹‹å‰ï¼Œå¿…é¡»å£°æ˜ï¼ˆé‡æ–°å£°æ˜ï¼‰æ­¤å˜é‡ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œ<code>LOCAL_MODULE</code> å˜é‡å­˜å‚¨æ‚¨è¦ç¼–è¯‘çš„æ¨¡å—çš„åç§°ã€‚è¯·åœ¨åº”ç”¨çš„æ¯ä¸ªæ¨¡å—ä¸­ä½¿ç”¨ä¸€æ¬¡æ­¤å˜é‡ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_MODULE := hello-jni</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸ªæ¨¡å—åç§°å¿…é¡»å”¯ä¸€ï¼Œä¸”ä¸å«ä»»ä½•ç©ºæ ¼ã€‚ç¼–è¯‘ç³»ç»Ÿåœ¨ç”Ÿæˆæœ€ç»ˆå…±äº«åº“æ–‡ä»¶æ—¶ï¼Œä¼šå¯¹æ‚¨åˆ†é…ç»™ <code>LOCAL_MODULE</code> çš„åç§°è‡ªåŠ¨æ·»åŠ æ­£ç¡®çš„å‰ç¼€å’Œåç¼€ã€‚ä¾‹å¦‚ï¼Œä¸Šè¿°ç¤ºä¾‹ä¼šç”Ÿæˆåä¸º <code>libhello-jni.so</code> çš„åº“ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæ¨¡å—åç§°çš„å¼€å¤´å·²ç»æ˜¯ <code>lib</code>ï¼Œåˆ™ç¼–è¯‘ç³»ç»Ÿä¸ä¼šé™„åŠ é¢å¤–çš„ <code>lib</code> å‰ç¼€ï¼›è€Œæ˜¯æŒ‰åŸæ ·é‡‡ç”¨æ¨¡å—åç§°ï¼Œå¹¶æ·»åŠ  <code>.so</code> æ‰©å±•åã€‚å› æ­¤ï¼Œæ¯”å¦‚åŸæ¥åä¸º <code>libfoo.c</code> çš„æºæ–‡ä»¶ä»ä¼šç”Ÿæˆåä¸º <code>libfoo.so</code> çš„å…±äº«å¯¹è±¡æ–‡ä»¶ã€‚æ­¤è¡Œä¸ºæ˜¯ä¸ºäº†æ”¯æŒ Android å¹³å°æºæ–‡ä»¶æ ¹æ® <code>Android.mk</code> æ–‡ä»¶ç”Ÿæˆçš„åº“ï¼›æ‰€æœ‰è¿™äº›åº“çš„åç§°éƒ½ä»¥ <code>lib</code> å¼€å¤´ã€‚</p>
<p>ä¸‹ä¸€è¡Œä¼šåˆ—ä¸¾æºæ–‡ä»¶ï¼Œä»¥ç©ºæ ¼åˆ†éš”å¤šä¸ªæ–‡ä»¶ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_SRC_FILES := hello-jni.c</span><br></pre></td></tr></table></figure>

<p><code>LOCAL_SRC_FILES</code> å˜é‡å¿…é¡»åŒ…å«è¦ç¼–è¯‘åˆ°æ¨¡å—ä¸­çš„ C å’Œ/æˆ– C++ æºæ–‡ä»¶åˆ—è¡¨ã€‚</p>
<p>æœ€åä¸€è¡Œå¸®åŠ©ç³»ç»Ÿå°†æ‰€æœ‰å†…å®¹è¿æ¥åˆ°ä¸€èµ·ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="variable">$(BUILD_SHARED_LIBRARY)</span></span><br></pre></td></tr></table></figure>

<p><code>BUILD_SHARED_LIBRARY</code> å˜é‡æŒ‡å‘ä¸€ä¸ª GNU Makefile è„šæœ¬ï¼Œè¯¥è„šæœ¬ä¼šæ”¶é›†æ‚¨è‡ªæœ€è¿‘ <code>include</code> ä»¥æ¥åœ¨ <code>LOCAL_XXX</code> å˜é‡ä¸­å®šä¹‰çš„æ‰€æœ‰ä¿¡æ¯ã€‚æ­¤è„šæœ¬ç¡®å®šè¦ç¼–è¯‘çš„å†…å®¹ä»¥åŠç¼–è¯‘æ–¹å¼ã€‚</p>
<p>ç¤ºä¾‹ç›®å½•ä¸­æœ‰æ›´ä¸ºå¤æ‚çš„ç¤ºä¾‹ï¼ŒåŒ…æ‹¬å¸¦æœ‰æ³¨é‡Šçš„ <code>Android.mk</code> æ–‡ä»¶ä¾›æ‚¨å‚è€ƒã€‚æ­¤å¤–ï¼Œ<a href="https://developer.android.com/ndk/samples/sample_na.html" target="_blank" rel="noopener">ç¤ºä¾‹ï¼šnative-activity</a> è¯¦ç»†ä»‹ç»äº†è¯¥ç¤ºä¾‹çš„ <code>Android.mk</code> æ–‡ä»¶ã€‚æœ€åï¼Œ<a href="https://developer.android.com/ndk/guides/android_mk.html#var" target="_blank" rel="noopener">å˜é‡å’Œå®</a>æä¾›äº†å…³äºæœ¬éƒ¨åˆ†ä¸­å˜é‡çš„æ›´å¤šä¿¡æ¯ã€‚</p>
<h3 id="å˜é‡å’Œå®"><a href="#å˜é‡å’Œå®" class="headerlink" title="å˜é‡å’Œå®"></a>å˜é‡å’Œå®</h3><p>ç¼–è¯‘ç³»ç»Ÿæä¾›äº†è®¸å¤šå¯åœ¨ <code>Android.mk</code> æ–‡ä»¶ä¸­ä½¿ç”¨çš„å˜é‡ã€‚å…¶ä¸­è®¸å¤šå˜é‡å·²é¢„å…ˆèµ‹å€¼ã€‚å¦ä¸€äº›å˜é‡ç”±æ‚¨èµ‹å€¼ã€‚</p>
<p>é™¤äº†è¿™äº›å˜é‡ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥è‡ªå·±å®šä¹‰ä»»æ„å˜é‡ã€‚åœ¨å®šä¹‰å˜é‡æ—¶è¯·æ³¨æ„ï¼ŒNDK ç¼–è¯‘ç³»ç»Ÿä¿ç•™äº†ä¸‹åˆ—å˜é‡åç§°ï¼š</p>
<ul>
<li>ä»¥ <code>LOCAL_</code> å¼€å¤´çš„åç§°ï¼Œä¾‹å¦‚ <code>LOCAL_MODULE</code>ã€‚</li>
<li>ä»¥ <code>PRIVATE_</code>ã€<code>NDK_</code> æˆ– <code>APP</code> å¼€å¤´çš„åç§°ã€‚ç¼–è¯‘ç³»ç»Ÿåœ¨å†…éƒ¨ä½¿ç”¨è¿™äº›å˜é‡åã€‚</li>
<li>å°å†™åç§°ï¼Œä¾‹å¦‚ <code>my-dir</code>ã€‚ç¼–è¯‘ç³»ç»Ÿä¹Ÿæ˜¯åœ¨å†…éƒ¨ä½¿ç”¨è¿™äº›å˜é‡åã€‚</li>
</ul>
<p>å¦‚æœæ‚¨ä¸ºäº†æ–¹ä¾¿è€Œéœ€è¦åœ¨ <code>Android.mk</code> æ–‡ä»¶ä¸­å®šä¹‰è‡ªå·±çš„å˜é‡ï¼Œå»ºè®®åœ¨åç§°å‰é™„åŠ  <code>MY_</code>ã€‚</p>
<h4 id="NDKå®šä¹‰çš„includeå˜é‡"><a href="#NDKå®šä¹‰çš„includeå˜é‡" class="headerlink" title="NDKå®šä¹‰çš„includeå˜é‡"></a>NDKå®šä¹‰çš„includeå˜é‡</h4><p>æœ¬éƒ¨åˆ†æ¢è®¨äº†ç¼–è¯‘ç³»ç»Ÿåœ¨è§£æ <code>Android.mk</code> æ–‡ä»¶å‰å®šä¹‰çš„ GNU Make å˜é‡ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒNDK å¯èƒ½ä¼šå¤šæ¬¡è§£æ <code>Android.mk</code> æ–‡ä»¶ï¼Œæ¯æ¬¡ä½¿ç”¨å…¶ä¸­æŸäº›å˜é‡çš„ä¸åŒå®šä¹‰ã€‚</p>
<h5 id="CLEAR-VARS"><a href="#CLEAR-VARS" class="headerlink" title="CLEAR_VARS"></a>CLEAR_VARS</h5><p>æ­¤å˜é‡æŒ‡å‘çš„ç¼–è¯‘è„šæœ¬ç”¨äºå–æ¶ˆå®šä¹‰ä¸‹æ–‡â€œå¼€å‘è€…å®šä¹‰çš„å˜é‡â€éƒ¨åˆ†ä¸­åˆ—å‡ºçš„å‡ ä¹æ‰€æœ‰ <code>LOCAL_XXX</code> å˜é‡ã€‚åœ¨æè¿°æ–°æ¨¡å—ä¹‹å‰ï¼Œè¯·ä½¿ç”¨æ­¤å˜é‡æ¥åŒ…å«æ­¤è„šæœ¬ã€‚ä½¿ç”¨å®ƒçš„è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="variable">$(CLEAR_VARS)</span></span><br></pre></td></tr></table></figure>

<h5 id="BUILD-SHARED-LIBRARY"><a href="#BUILD-SHARED-LIBRARY" class="headerlink" title="BUILD_SHARED_LIBRARY"></a>BUILD_SHARED_LIBRARY</h5><p>æ­¤å˜é‡æŒ‡å‘çš„ç¼–è¯‘è„šæœ¬ç”¨äºæ”¶é›†æ‚¨åœ¨ <code>LOCAL_XXX</code> å˜é‡ä¸­æä¾›çš„æ¨¡å—çš„æ‰€æœ‰ç›¸å…³ä¿¡æ¯ï¼Œä»¥åŠç¡®å®šå¦‚ä½•æ ¹æ®æ‚¨åˆ—å‡ºçš„æºæ–‡ä»¶ç¼–è¯‘ç›®æ ‡å…±äº«åº“ã€‚è¯·æ³¨æ„ï¼Œä½¿ç”¨æ­¤è„šæœ¬è¦æ±‚æ‚¨è‡³å°‘å·²ç»ä¸º <code>LOCAL_MODULE</code> å’Œ <code>LOCAL_SRC_FILES</code> èµ‹å€¼ï¼ˆè¦è¯¦ç»†äº†è§£è¿™äº›å˜é‡ï¼Œè¯·å‚é˜…<a href="https://developer.android.com/ndk/guides/android_mk.html#mdv" target="_blank" rel="noopener">æ¨¡å—æè¿°å˜é‡</a>ï¼‰ã€‚</p>
<p>ä½¿ç”¨æ­¤å˜é‡çš„è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="variable">$(BUILD_SHARED_LIBRARY)</span></span><br></pre></td></tr></table></figure>

<p>å…±äº«åº“å˜é‡ä¼šå¯¼è‡´ç¼–è¯‘ç³»ç»Ÿç”Ÿæˆæ‰©å±•åä¸º <code>.so</code> çš„åº“æ–‡ä»¶ã€‚</p>
<h5 id="BUILD-STATIC-LIBRARY"><a href="#BUILD-STATIC-LIBRARY" class="headerlink" title="BUILD_STATIC_LIBRARY"></a>BUILD_STATIC_LIBRARY</h5><p>ç”¨äºç¼–è¯‘é™æ€åº“çš„ <code>BUILD_SHARED_LIBRARY</code> çš„å˜ä½“ã€‚ç¼–è¯‘ç³»ç»Ÿä¸ä¼šå°†é™æ€åº“å¤åˆ¶åˆ°æ‚¨çš„é¡¹ç›®/è½¯ä»¶åŒ…ä¸­ï¼Œä½†å¯ä»¥ä½¿ç”¨é™æ€åº“ç¼–è¯‘å…±äº«åº“ï¼ˆè¯·å‚é˜…ä¸‹æ–‡çš„ <code>LOCAL_STATIC_LIBRARIES</code> å’Œ <code>LOCAL_WHOLE_STATIC_LIBRARIES</code>ï¼‰ã€‚ä½¿ç”¨æ­¤å˜é‡çš„è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="variable">$(BUILD_STATIC_LIBRARY)</span></span><br></pre></td></tr></table></figure>

<p>é™æ€åº“å˜é‡ä¼šå¯¼è‡´ç¼–è¯‘ç³»ç»Ÿç”Ÿæˆæ‰©å±•åä¸º <code>.a</code> çš„åº“ã€‚</p>
<h5 id="PUBLIC-SHARED-LIBRARY"><a href="#PUBLIC-SHARED-LIBRARY" class="headerlink" title="PUBLIC_SHARED_LIBRARY"></a>PUBLIC_SHARED_LIBRARY</h5><p>æŒ‡å‘ç”¨äºæŒ‡å®šé¢„ç¼–è¯‘å…±äº«åº“çš„ç¼–è¯‘è„šæœ¬ã€‚ä¸ <code>BUILD_SHARED_LIBRARY</code> å’Œ <code>BUILD_STATIC_LIBRARY</code>çš„æƒ…å†µä¸åŒï¼Œè¿™é‡Œçš„ <code>LOCAL_SRC_FILES</code> å€¼ä¸èƒ½æ˜¯æºæ–‡ä»¶ï¼Œè€Œå¿…é¡»æ˜¯æŒ‡å‘é¢„ç¼–è¯‘å…±äº«åº“çš„ä¸€ä¸ªè·¯å¾„ï¼Œä¾‹å¦‚ <code>foo/libfoo.so</code>ã€‚ä½¿ç”¨æ­¤å˜é‡çš„è¯­æ³•ä¸ºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="variable">$(PREBUILT_SHARED_LIBRARY)</span></span><br></pre></td></tr></table></figure>

<p>æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>LOCAL_PREBUILTS</code> å˜é‡å¼•ç”¨å¦ä¸€ä¸ªæ¨¡å—ä¸­çš„é¢„ç¼–è¯‘åº“ã€‚è¦è¯¦ç»†äº†è§£å¦‚ä½•ä½¿ç”¨é¢„ç¼–è¯‘åº“ï¼Œè¯·å‚é˜…<a href="https://developer.android.com/ndk/guides/prebuilts.html" target="_blank" rel="noopener">ä½¿ç”¨é¢„ç¼–è¯‘åº“</a>ã€‚</p>
<h5 id="PUBLIC-STATIC-LIBRARY"><a href="#PUBLIC-STATIC-LIBRARY" class="headerlink" title="PUBLIC_STATIC_LIBRARY"></a>PUBLIC_STATIC_LIBRARY</h5><p>ä¸ <code>PREBUILT_SHARED_LIBRARY</code> ç›¸åŒï¼Œä½†ç”¨äºé¢„ç¼–è¯‘é™æ€åº“ã€‚è¦è¯¦ç»†äº†è§£å¦‚ä½•ä½¿ç”¨é¢„ç¼–è¯‘åº“ï¼Œè¯·å‚é˜…<a href="https://developer.android.com/ndk/guides/prebuilts.html" target="_blank" rel="noopener">ä½¿ç”¨é¢„ç¼–è¯‘åº“</a>ã€‚</p>
<h3 id="ç›®æ ‡ä¿¡æ¯å˜é‡"><a href="#ç›®æ ‡ä¿¡æ¯å˜é‡" class="headerlink" title="ç›®æ ‡ä¿¡æ¯å˜é‡"></a>ç›®æ ‡ä¿¡æ¯å˜é‡</h3><p>ç¼–è¯‘ç³»ç»Ÿä¼šæ ¹æ® <code>APP_ABI</code> å˜é‡æ‰€æŒ‡å®šçš„æ¯ä¸ª ABI è§£æ <code>Android.mk</code> ä¸€æ¬¡ï¼Œè¯¥å˜é‡é€šå¸¸åœ¨ <code>Application.mk</code> æ–‡ä»¶ä¸­å®šä¹‰ã€‚å¦‚æœ <code>APP_ABI</code> ä¸º <code>all</code>ï¼Œåˆ™ç¼–è¯‘ç³»ç»Ÿä¼šæ ¹æ® NDK æ”¯æŒçš„æ¯ä¸ª ABI è§£æ <code>Android.mk</code> ä¸€æ¬¡ã€‚æœ¬éƒ¨åˆ†ä»‹ç»äº†ç¼–è¯‘ç³»ç»Ÿæ¯æ¬¡è§£æ <code>Android.mk</code> æ—¶å®šä¹‰çš„å˜é‡ã€‚</p>
<h5 id="TARGET-ARCH"><a href="#TARGET-ARCH" class="headerlink" title="TARGET_ARCH"></a>TARGET_ARCH</h5><p>ç¼–è¯‘ç³»ç»Ÿè§£ææ­¤ <code>Android.mk</code> æ–‡ä»¶æ—¶é¢å‘çš„ CPU ç³»åˆ—ã€‚æ­¤å˜é‡æ˜¯ <code>arm</code>ã€<code>arm64</code>ã€<code>x86</code> æˆ– <code>x86_64</code>ä¹‹ä¸€ã€‚</p>
<h5 id="TARGET-PLATFORM"><a href="#TARGET-PLATFORM" class="headerlink" title="TARGET_PLATFORM"></a>TARGET_PLATFORM</h5><p>ç¼–è¯‘ç³»ç»Ÿè§£ææ­¤ <code>Android.mk</code> æ–‡ä»¶æ—¶é¢å‘çš„ Android API çº§åˆ«ç¼–å·ã€‚ä¾‹å¦‚ï¼ŒAndroid 5.1 ç³»ç»Ÿæ˜ åƒå¯¹åº”äº Android API çº§åˆ« 22ï¼š<code>android-22</code>ã€‚å¦‚éœ€å¹³å°åç§°å’Œå¯¹åº” Android ç³»ç»Ÿæ˜ åƒçš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜… <a href="https://developer.android.com/ndk/guides/stable_apis.html" target="_blank" rel="noopener">Android NDK åŸç”Ÿ API</a>ã€‚ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†ä½¿ç”¨æ­¤å˜é‡çš„è¯­æ³•ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ifeq</span> (<span class="variable">$(TARGET_PLATFORM)</span>,android-22)</span><br><span class="line">        <span class="comment"># ... do something ...</span></span><br><span class="line">    <span class="keyword">endif</span></span><br></pre></td></tr></table></figure>

<h5 id="TARGET-ARCH-ABI"><a href="#TARGET-ARCH-ABI" class="headerlink" title="TARGET_ARCH_ABI"></a>TARGET_ARCH_ABI</h5><p>ç¼–è¯‘ç³»ç»Ÿè§£ææ­¤ <code>Android.mk</code> æ–‡ä»¶æ—¶é¢å‘çš„ ABIã€‚è¡¨ 1 æ˜¾ç¤ºç”¨äºæ¯ä¸ªå—æ”¯æŒ CPU å’Œæ¶æ„çš„ ABI è®¾ç½®ã€‚</p>
<p><strong>è¡¨ 1.</strong> ä¸åŒ CPU å’Œæ¶æ„çš„ ABI è®¾ç½®ã€‚</p>
<table>
<thead>
<tr>
<th>CPU å’Œæ¶æ„</th>
<th>è®¾ç½®</th>
</tr>
</thead>
<tbody><tr>
<td>ARMv7</td>
<td><code>armeabi-v7a</code></td>
</tr>
<tr>
<td>ARMv8 AArch64</td>
<td><code>arm64-v8a</code></td>
</tr>
<tr>
<td>i686</td>
<td><code>x86</code></td>
</tr>
<tr>
<td>x86-64</td>
<td><code>x86_64</code></td>
</tr>
</tbody></table>
<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•æ£€æŸ¥ ARMv8 AArch64 æ˜¯å¦ä¸ºç›®æ ‡ CPU ä¸ ABI çš„ç»„åˆï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ifeq</span> (<span class="variable">$(TARGET_ARCH_ABI)</span>,arm64-v8a)</span><br><span class="line">      <span class="comment"># ... do something ...</span></span><br><span class="line">    <span class="keyword">endif</span></span><br></pre></td></tr></table></figure>

<p>è¦è¯¦ç»†äº†è§£æ¶æ„ ABI å’Œç›¸å…³å…¼å®¹æ€§é—®é¢˜ï¼Œè¯·å‚é˜… <a href="https://developer.android.com/ndk/guides/abis.html" target="_blank" rel="noopener">ABI ç®¡ç†</a>ã€‚</p>
<p>æœªæ¥çš„æ–°ç›®æ ‡ ABI å°†ä½¿ç”¨ä¸åŒçš„å€¼ã€‚</p>
<h5 id="TARGET-ABI"><a href="#TARGET-ABI" class="headerlink" title="TARGET_ABI"></a>TARGET_ABI</h5><p>ç›®æ ‡ Android API çº§åˆ«ä¸ ABI çš„è¿æ¥ï¼Œç‰¹åˆ«é€‚ç”¨äºè¦é’ˆå¯¹å®é™…è®¾å¤‡æµ‹è¯•ç‰¹å®šç›®æ ‡ç³»ç»Ÿæ˜ åƒçš„æƒ…å†µã€‚ä¾‹å¦‚ï¼Œè¦æ£€æŸ¥æ­è½½ Android API çº§åˆ« 22 çš„ 64 ä½ ARM è®¾å¤‡ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ifeq</span> (<span class="variable">$(TARGET_ABI)</span>,android-22-arm64-v8a)</span><br><span class="line">      <span class="comment"># ... do something ...</span></span><br><span class="line">    <span class="keyword">endif</span></span><br></pre></td></tr></table></figure>

<h3 id="æ¨¡å—æè¿°å˜é‡"><a href="#æ¨¡å—æè¿°å˜é‡" class="headerlink" title="æ¨¡å—æè¿°å˜é‡"></a>æ¨¡å—æè¿°å˜é‡</h3><p>æœ¬éƒ¨åˆ†ä¸­çš„å˜é‡ä¼šå‘ç¼–è¯‘ç³»ç»Ÿæè¿°æ‚¨çš„æ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—æè¿°éƒ½åº”éµå®ˆä»¥ä¸‹åŸºæœ¬æµç¨‹ï¼š</p>
<ol>
<li>ä½¿ç”¨ <code>CLEAR_VARS</code> å˜é‡åˆå§‹åŒ–æˆ–å–æ¶ˆå®šä¹‰ä¸æ¨¡å—ç›¸å…³çš„å˜é‡ã€‚</li>
<li>ä¸ºç”¨äºæè¿°æ¨¡å—çš„å˜é‡èµ‹å€¼ã€‚</li>
<li>ä½¿ç”¨ <code>BUILD_XXX</code> å˜é‡è®¾ç½® NDK ç¼–è¯‘ç³»ç»Ÿï¼Œä½¿å…¶å°†é€‚å½“çš„ç¼–è¯‘è„šæœ¬ç”¨äºè¯¥æ¨¡å—ã€‚</li>
</ol>
<h5 id="LOCAL-PATH"><a href="#LOCAL-PATH" class="headerlink" title="LOCAL_PATH"></a>LOCAL_PATH</h5><p>æ­¤å˜é‡ç”¨äºæŒ‡å®šå½“å‰æ–‡ä»¶çš„è·¯å¾„ã€‚å¿…é¡»åœ¨ <code>Android.mk</code> æ–‡ä»¶å¼€å¤´å®šä¹‰æ­¤å˜é‡ã€‚ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•å®šä¹‰æ­¤å˜é‡ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_PATH := <span class="variable">$(<span class="built_in">call</span> my-<span class="built_in">dir</span>)</span></span><br></pre></td></tr></table></figure>

<p><code>CLEAR_VARS</code> æ‰€æŒ‡å‘çš„è„šæœ¬ä¸ä¼šæ¸…é™¤æ­¤å˜é‡ã€‚å› æ­¤ï¼Œå³ä½¿ <code>Android.mk</code> æ–‡ä»¶æè¿°äº†å¤šä¸ªæ¨¡å—ï¼Œæ‚¨ä¹Ÿåªéœ€å®šä¹‰å®ƒä¸€æ¬¡ã€‚</p>
<h5 id="LOCAL-MODULE"><a href="#LOCAL-MODULE" class="headerlink" title="LOCAL_MODULE"></a>LOCAL_MODULE</h5><p>æ­¤å˜é‡ç”¨äºå­˜å‚¨æ¨¡å—åç§°ã€‚æŒ‡å®šçš„åç§°å¿…é¡»å”¯ä¸€ï¼Œå¹¶ä¸”ä¸å¾—åŒ…å«ä»»ä½•ç©ºæ ¼ã€‚å¿…é¡»åœ¨åŒ…å«ä»»ä½•è„šæœ¬ï¼ˆ<code>CLEAR_VARS</code> çš„è„šæœ¬é™¤å¤–ï¼‰ä¹‹å‰å®šä¹‰æ­¤å˜é‡ã€‚æ— éœ€æ·»åŠ  <code>lib</code> å‰ç¼€æˆ–è€… <code>.so</code> æˆ– <code>.a</code> æ–‡ä»¶æ‰©å±•åï¼›ç¼–è¯‘ç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œè¿™äº›ä¿®æ”¹ã€‚åœ¨æ•´ä¸ª <code>Android.mk</code> å’Œ <a href="https://developer.android.com/ndk/guides/application_mk.html" target="_blank" rel="noopener"><code>Application.mk</code></a> æ–‡ä»¶ä¸­ï¼Œè¯·é€šè¿‡æœªç»ä¿®æ”¹çš„åç§°å¼•ç”¨æ¨¡å—ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹è¡Œä¼šå¯¼è‡´ç”Ÿæˆåä¸º <code>libfoo.so</code> çš„å…±äº«åº“æ¨¡å—ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_MODULE := <span class="string">"foo"</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¸Œæœ›ç”Ÿæˆçš„æ¨¡å—ä½¿ç”¨é™¤â€œ<code>lib</code> + <code>LOCAL_MODULE</code> çš„å€¼â€ä»¥å¤–çš„åç§°ï¼Œæ‚¨å¯ä½¿ç”¨ <code>LOCAL_MODULE_FILENAME</code> å˜é‡ä¸ºç”Ÿæˆçš„æ¨¡å—æŒ‡å®šè‡ªå·±é€‰æ‹©çš„åç§°ã€‚</p>
<h5 id="LOCAL-MODULE-FILENAME"><a href="#LOCAL-MODULE-FILENAME" class="headerlink" title="LOCAL_MODULE_FILENAME"></a>LOCAL_MODULE_FILENAME</h5><p>æ­¤å¯é€‰å˜é‡ä½¿æ‚¨èƒ½å¤Ÿæ›¿æ¢ç¼–è¯‘ç³»ç»Ÿä¸ºå…¶ç”Ÿæˆçš„æ–‡ä»¶é»˜è®¤ä½¿ç”¨çš„åç§°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code>LOCAL_MODULE</code> çš„åç§°ä¸º <code>foo</code>ï¼Œæ‚¨å¯ä»¥å¼ºåˆ¶ç³»ç»Ÿå°†å®ƒç”Ÿæˆçš„æ–‡ä»¶å‘½åä¸º <code>libnewfoo</code>ã€‚ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•å®Œæˆæ­¤æ“ä½œï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_MODULE := foo</span><br><span class="line">    LOCAL_MODULE_FILENAME := libnewfoo</span><br></pre></td></tr></table></figure>

<p>å¯¹äºå…±äº«åº“æ¨¡å—ï¼Œæ­¤ç¤ºä¾‹å°†ç”Ÿæˆä¸€ä¸ªåä¸º <code>libnewfoo.so</code> çš„æ–‡ä»¶ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šæ‚¨æ— æ³•æ›¿æ¢æ–‡ä»¶è·¯å¾„æˆ–æ–‡ä»¶æ‰©å±•åã€‚</p>
<h5 id="LOCAL-SRC-FILES"><a href="#LOCAL-SRC-FILES" class="headerlink" title="LOCAL_SRC_FILES"></a>LOCAL_SRC_FILES</h5><p>æ­¤å˜é‡åŒ…å«ç¼–è¯‘ç³»ç»Ÿç”Ÿæˆæ¨¡å—æ—¶æ‰€ç”¨çš„æºæ–‡ä»¶åˆ—è¡¨ã€‚åªåˆ—å‡ºç¼–è¯‘ç³»ç»Ÿå®é™…ä¼ é€’åˆ°ç¼–è¯‘å™¨çš„æ–‡ä»¶ï¼Œå› ä¸ºç¼–è¯‘ç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—æ‰€æœ‰ç›¸å…³çš„ä¾èµ–å…³ç³»ã€‚è¯·æ³¨æ„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç›¸å¯¹ï¼ˆç›¸å¯¹äº <code>LOCAL_PATH</code>ï¼‰å’Œç»å¯¹æ–‡ä»¶è·¯å¾„ã€‚</p>
<p>å»ºè®®é¿å…ä½¿ç”¨ç»å¯¹æ–‡ä»¶è·¯å¾„ï¼›ç›¸å¯¹è·¯å¾„å¯ä»¥æé«˜ <code>Android.mk</code> æ–‡ä»¶çš„ç§»æ¤æ€§ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šåŠ¡å¿…åœ¨ç¼–è¯‘æ–‡ä»¶ä¸­ä½¿ç”¨ Unix æ ·å¼çš„æ­£æ–œæ  (/)ã€‚ç¼–è¯‘ç³»ç»Ÿæ— æ³•æ­£ç¡®å¤„ç† Windows æ ·å¼çš„åæ–œæ  ()ã€‚</p>
<h5 id="LOCAL-CPP-EXTENSION"><a href="#LOCAL-CPP-EXTENSION" class="headerlink" title="LOCAL_CPP_EXTENSION"></a>LOCAL_CPP_EXTENSION</h5><p>å¯ä»¥ä½¿ç”¨æ­¤å¯é€‰å˜é‡ä¸º C++ æºæ–‡ä»¶æŒ‡æ˜ <code>.cpp</code> ä»¥å¤–çš„æ–‡ä»¶æ‰©å±•åã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹è¡Œå°†æ‰©å±•åæ›´æ”¹ä¸º <code>.cxx</code>ã€‚ï¼ˆè®¾ç½®å¿…é¡»åŒ…å«ç‚¹ã€‚ï¼‰</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_CPP_EXTENSION := .cxx</span><br></pre></td></tr></table></figure>

<p>æ‚¨å¯ä»¥ä½¿ç”¨æ­¤å˜é‡æŒ‡å®šå¤šä¸ªæ‰©å±•åã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_CPP_EXTENSION := .cxx .cpp .cc</span><br></pre></td></tr></table></figure>

<h5 id="LOCAL-CPP-FEATURES"><a href="#LOCAL-CPP-FEATURES" class="headerlink" title="LOCAL_CPP_FEATURES"></a>LOCAL_CPP_FEATURES</h5><p>æ‚¨å¯ä½¿ç”¨æ­¤å¯é€‰å˜é‡æŒ‡æ˜æ‚¨çš„ä»£ç ä¾èµ–äºç‰¹å®š C++ åŠŸèƒ½ã€‚å®ƒä¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å¯ç”¨æ­£ç¡®çš„ç¼–è¯‘å™¨æ ‡è®°å’Œé“¾æ¥å™¨æ ‡è®°ã€‚å¯¹äºé¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ­¤å˜é‡è¿˜ä¼šå£°æ˜äºŒè¿›åˆ¶æ–‡ä»¶ä¾èµ–äºå“ªäº›åŠŸèƒ½ï¼Œä»è€Œç¡®ä¿æœ€ç»ˆé“¾æ¥æ­£å¸¸è¿è¡Œã€‚å»ºè®®æ‚¨ä½¿ç”¨æ­¤å˜é‡ï¼Œè€Œä¸è¦ç›´æ¥åœ¨ <code>LOCAL_CPPFLAGS</code> å®šä¹‰ä¸­å¯ç”¨ <code>-frtti</code> å’Œ <code>-fexceptions</code>ã€‚</p>
<p>ä½¿ç”¨æ­¤å˜é‡å¯è®©ç¼–è¯‘ç³»ç»Ÿå¯¹æ¯ä¸ªæ¨¡å—ä½¿ç”¨é€‚å½“çš„æ ‡è®°ã€‚ä½¿ç”¨ <code>LOCAL_CPPFLAGS</code> ä¼šå¯¼è‡´ç¼–è¯‘å™¨å°†æ‰€æœ‰æŒ‡å®šçš„æ ‡è®°ç”¨äºæ‰€æœ‰æ¨¡å—ï¼Œè€Œä¸ç®¡å®é™…éœ€æ±‚å¦‚ä½•ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¦æŒ‡æ˜æ‚¨çš„ä»£ç ä½¿ç”¨ RTTIï¼ˆè¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼‰ï¼Œè¯·è¾“å…¥ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_CPP_FEATURES := rtti</span><br></pre></td></tr></table></figure>

<p>è¦æŒ‡æ˜æ‚¨çš„ä»£ç ä½¿ç”¨ C++ å¼‚å¸¸ï¼Œè¯·è¾“å…¥ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_CPP_FEATURES := exceptions</span><br></pre></td></tr></table></figure>

<p>æ‚¨è¿˜å¯ä»¥ä¸ºæ­¤å˜é‡æŒ‡å®šå¤šä¸ªå€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_CPP_FEATURES := rtti features</span><br></pre></td></tr></table></figure>

<p>æè¿°å€¼çš„é¡ºåºæ— å…³ç´§è¦ã€‚</p>
<h5 id="LOCAL-C-INCLUDES"><a href="#LOCAL-C-INCLUDES" class="headerlink" title="LOCAL_C_INCLUDES"></a>LOCAL_C_INCLUDES</h5><p>å¯ä»¥ä½¿ç”¨æ­¤å¯é€‰å˜é‡æŒ‡å®šç›¸å¯¹äº NDK <code>root</code> ç›®å½•çš„è·¯å¾„åˆ—è¡¨ï¼Œä»¥ä¾¿åœ¨ç¼–è¯‘æ‰€æœ‰æºæ–‡ä»¶ï¼ˆCã€C++ å’Œ Assemblyï¼‰æ—¶æ·»åŠ åˆ° include æœç´¢è·¯å¾„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_C_INCLUDES := sources/foo</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ç”šè‡³ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_C_INCLUDES := <span class="variable">$(LOCAL_PATH)</span>/&lt;subdirectory&gt;/foo</span><br></pre></td></tr></table></figure>

<p>è¯·åœ¨é€šè¿‡ <code>LOCAL_CFLAGS</code> æˆ– <code>LOCAL_CPPFLAGS</code> è®¾ç½®ä»»ä½•å¯¹åº”çš„åŒ…å«æ ‡è®°å‰å®šä¹‰æ­¤å˜é‡ã€‚</p>
<p>åœ¨ä½¿ç”¨ ndk-gdb å¯åŠ¨åŸç”Ÿè°ƒè¯•æ—¶ï¼Œç¼–è¯‘ç³»ç»Ÿä¹Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ <code>LOCAL_C_INCLUDES</code> è·¯å¾„ã€‚</p>
<h5 id="LOCAL-CFLAGS"><a href="#LOCAL-CFLAGS" class="headerlink" title="LOCAL_CFLAGS"></a>LOCAL_CFLAGS</h5><p>æ­¤å¯é€‰å˜é‡ç”¨äºè®¾ç½®åœ¨ç¼–è¯‘ C å’Œ C++ æºæ–‡ä»¶æ—¶ç¼–è¯‘ç³»ç»Ÿè¦ä¼ é€’çš„ç¼–è¯‘å™¨æ ‡è®°ã€‚è¿™æ ·ï¼Œæ‚¨å°±å¯ä»¥æŒ‡å®šé¢å¤–çš„å®å®šä¹‰æˆ–ç¼–è¯‘é€‰é¡¹ã€‚å¯ä»¥ä½¿ç”¨ <code>LOCAL_CPPFLAGS</code> ä»…ä¸º C++ æŒ‡å®šæ ‡è®°ã€‚</p>
<p>è¯·å‹¿å°è¯•åœ¨ <code>Android.mk</code> æ–‡ä»¶ä¸­æ›´æ”¹ä¼˜åŒ–/è°ƒè¯•çº§åˆ«ã€‚ç¼–è¯‘ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ [pplication.mk] æ–‡ä»¶ä¸­çš„ç›¸å…³ä¿¡æ¯è‡ªåŠ¨å¤„ç†æ­¤è®¾ç½®ã€‚è¿™æ ·ï¼Œç¼–è¯‘ç³»ç»Ÿå°±å¯ä»¥ç”Ÿæˆä¾›è°ƒè¯•æœŸé—´ä½¿ç”¨çš„æœ‰ç”¨æ•°æ®æ–‡ä»¶ã€‚</p>
<p>æ‚¨å¯é€šè¿‡è¾“å…¥ä»¥ä¸‹ä»£ç æŒ‡å®šé¢å¤–çš„ include è·¯å¾„ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_CFLAGS += -I&lt;path&gt;,</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ï¼Œæœ€å¥½ä½¿ç”¨ <code>LOCAL_C_INCLUDES</code>ï¼Œå› ä¸ºè¿™æ ·ä¹Ÿå¯ä»¥ä½¿ç”¨å¯ç”¨äº ndk-gdb åŸç”Ÿè°ƒè¯•çš„è·¯å¾„ã€‚</p>
<h5 id="LOCAL-CPPFLAGS"><a href="#LOCAL-CPPFLAGS" class="headerlink" title="LOCAL_CPPFLAGS"></a>LOCAL_CPPFLAGS</h5><p>åªç¼–è¯‘ C++ æºæ–‡ä»¶æ—¶å°†ä¼ é€’çš„ä¸€ç»„å¯é€‰ç¼–è¯‘å™¨æ ‡è®°ã€‚å®ƒä»¬å°†å‡ºç°åœ¨ç¼–è¯‘å™¨å‘½ä»¤è¡Œä¸­çš„ <code>LOCAL_CFLAGS</code> åé¢ã€‚ä½¿ç”¨ <code>LOCAL_CFLAGS</code> ä¸º C å’Œ C++ æŒ‡å®šæ ‡è®°ã€‚</p>
<h5 id="LOCAL-STATIC-LIBRARIES"><a href="#LOCAL-STATIC-LIBRARIES" class="headerlink" title="LOCAL_STATIC_LIBRARIES"></a>LOCAL_STATIC_LIBRARIES</h5><p>æ­¤å˜é‡ç”¨äºå­˜å‚¨å½“å‰æ¨¡å—ä¾èµ–çš„é™æ€åº“æ¨¡å—åˆ—è¡¨ã€‚</p>
<p>å¦‚æœå½“å‰æ¨¡å—æ˜¯å…±äº«åº“æˆ–å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ­¤å˜é‡å°†å¼ºåˆ¶è¿™äº›åº“é“¾æ¥åˆ°ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>å¦‚æœå½“å‰æ¨¡å—æ˜¯é™æ€åº“ï¼Œæ­¤å˜é‡åªæ˜¯æŒ‡å‡ºä¾èµ–äºå½“å‰æ¨¡å—çš„å…¶ä»–æ¨¡å—ä¹Ÿä¼šä¾èµ–äºåˆ—å‡ºçš„åº“ã€‚</p>
<h5 id="LOCAL-SHARED-LIBRARIES"><a href="#LOCAL-SHARED-LIBRARIES" class="headerlink" title="LOCAL_SHARED_LIBRARIES"></a>LOCAL_SHARED_LIBRARIES</h5><p>æ­¤å˜é‡ä¼šåˆ—å‡ºæ­¤æ¨¡å—åœ¨è¿è¡Œæ—¶ä¾èµ–çš„å…±äº«åº“æ¨¡å—ã€‚æ­¤ä¿¡æ¯æ˜¯é“¾æ¥æ—¶å¿…éœ€çš„ä¿¡æ¯ï¼Œç”¨äºå°†ç›¸åº”çš„ä¿¡æ¯åµŒå…¥åˆ°ç”Ÿæˆçš„æ–‡ä»¶ä¸­ã€‚</p>
<h5 id="LOCAL-WHOLE-STATIC-LIBRARIES"><a href="#LOCAL-WHOLE-STATIC-LIBRARIES" class="headerlink" title="LOCAL_WHOLE_STATIC_LIBRARIES"></a>LOCAL_WHOLE_STATIC_LIBRARIES</h5><p>æ­¤å˜é‡æ˜¯ <code>LOCAL_STATIC_LIBRARIES</code> çš„å˜ä½“ï¼Œè¡¨ç¤ºé“¾æ¥å™¨åº”å°†ç›¸å…³çš„åº“æ¨¡å—è§†ä¸ºå®Œæ•´å½’æ¡£ã€‚è¦è¯¦ç»†äº†è§£å®Œæ•´å½’æ¡£ï¼Œè¯·å‚é˜… <a href="http://ftp.gnu.org/old-gnu/Manuals/ld-2.9.1/html_node/ld_3.html" target="_blank" rel="noopener">GNU ld æ–‡æ¡£</a>çš„ <code>--whole-archive</code> æ ‡è®°éƒ¨åˆ†ã€‚</p>
<p>å¤šä¸ªé™æ€åº“ä¹‹é—´å­˜åœ¨å¾ªç¯ä¾èµ–å…³ç³»æ—¶ï¼Œæ­¤å˜é‡å¾ˆæœ‰ç”¨ã€‚ä½¿ç”¨æ­¤å˜é‡ç¼–è¯‘å…±äº«åº“æ—¶ï¼Œå®ƒå°†å¼ºåˆ¶ç¼–è¯‘ç³»ç»Ÿå°†é™æ€åº“ä¸­çš„æ‰€æœ‰å¯¹è±¡æ–‡ä»¶æ·»åŠ åˆ°æœ€ç»ˆäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶æ—¶ä¸ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚</p>
<h5 id="LOCAL-LDLIBS"><a href="#LOCAL-LDLIBS" class="headerlink" title="LOCAL_LDLIBS"></a>LOCAL_LDLIBS</h5><p>æ­¤å˜é‡åˆ—å‡ºäº†åœ¨ç¼–è¯‘å…±äº«åº“æˆ–å¯æ‰§è¡Œæ–‡ä»¶æ—¶ä½¿ç”¨çš„é¢å¤–é“¾æ¥å™¨æ ‡è®°ã€‚åˆ©ç”¨æ­¤å˜é‡ï¼Œæ‚¨å¯ä½¿ç”¨ <code>-l</code> å‰ç¼€ä¼ é€’ç‰¹å®šç³»ç»Ÿåº“çš„åç§°ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹æŒ‡ç¤ºé“¾æ¥å™¨ç”Ÿæˆåœ¨åŠ è½½æ—¶é“¾æ¥åˆ° <code>/system/lib/libz.so</code> çš„æ¨¡å—ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_LDLIBS := -lz</span><br></pre></td></tr></table></figure>

<p>å¦‚éœ€äº†è§£æ­¤ NDK ç‰ˆæœ¬ä¸­å¯ä»¥é“¾æ¥çš„å…¬å¼€ç³»ç»Ÿåº“åˆ—è¡¨ï¼Œè¯·å‚é˜… <a href="https://developer.android.com/ndk/guides/stable_apis.html" target="_blank" rel="noopener">Android NDK åŸç”Ÿ API</a>ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä¸ºé™æ€åº“å®šä¹‰æ­¤å˜é‡ï¼Œç¼–è¯‘ç³»ç»Ÿä¼šå¿½ç•¥æ­¤å˜é‡ï¼Œå¹¶ä¸” <code>ndk-build</code> ä¼šæ˜¾ç¤ºä¸€åˆ™è­¦å‘Šã€‚</p>
<h5 id="LOCAL-LDFLAGS"><a href="#LOCAL-LDFLAGS" class="headerlink" title="LOCAL_LDFLAGS"></a>LOCAL_LDFLAGS</h5><p>æ­¤å˜é‡åˆ—å‡ºäº†ç¼–è¯‘ç³»ç»Ÿåœ¨ç¼–è¯‘å…±äº«åº“æˆ–å¯æ‰§è¡Œæ–‡ä»¶æ—¶ä½¿ç”¨çš„å…¶ä»–é“¾æ¥å™¨æ ‡è®°ã€‚ä¾‹å¦‚ï¼Œè¦åœ¨ ARM/X86 ä¸Šä½¿ç”¨ <code>ld.bfd</code> é“¾æ¥å™¨ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_LDFLAGS += -fuse-ld=bfd</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä¸ºé™æ€åº“å®šä¹‰æ­¤å˜é‡ï¼Œç¼–è¯‘ç³»ç»Ÿä¼šå¿½ç•¥æ­¤å˜é‡ï¼Œå¹¶ä¸” ndk-build ä¼šæ˜¾ç¤ºä¸€åˆ™è­¦å‘Šã€‚</p>
<h5 id="LOCAL-ALLOW-UNDEFINED-SYMBOLS"><a href="#LOCAL-ALLOW-UNDEFINED-SYMBOLS" class="headerlink" title="LOCAL_ALLOW_UNDEFINED_SYMBOLS"></a>LOCAL_ALLOW_UNDEFINED_SYMBOLS</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœç¼–è¯‘ç³»ç»Ÿåœ¨å°è¯•ç¼–è¯‘å…±äº«åº“æ—¶é‡åˆ°æœªå®šä¹‰çš„å¼•ç”¨ï¼Œå°†ä¼šæŠ›å‡ºâ€œæœªå®šä¹‰çš„ç¬¦å·â€é”™è¯¯ã€‚æ­¤é”™è¯¯å¯å¸®åŠ©æ‚¨æ•è·æºä»£ç ä¸­çš„é”™è¯¯ã€‚</p>
<p>è¦åœç”¨æ­¤æ£€æŸ¥ï¼Œè¯·å°†æ­¤å˜é‡è®¾ç½®ä¸º <code>true</code>ã€‚è¯·æ³¨æ„ï¼Œæ­¤è®¾ç½®å¯èƒ½ä¼šå¯¼è‡´å…±äº«åº“åœ¨è¿è¡Œæ—¶åŠ è½½ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä¸ºé™æ€åº“å®šä¹‰æ­¤å˜é‡ï¼Œç¼–è¯‘ç³»ç»Ÿä¼šå¿½ç•¥æ­¤å˜é‡ï¼Œå¹¶ä¸” ndk-build ä¼šæ˜¾ç¤ºä¸€åˆ™è­¦å‘Šã€‚</p>
<h5 id="LOCAL-ARM-MODE"><a href="#LOCAL-ARM-MODE" class="headerlink" title="LOCAL_ARM_MODE"></a>LOCAL_ARM_MODE</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘ç³»ç»Ÿä¼šåœ¨ thumb æ¨¡å¼ä¸‹ç”Ÿæˆ ARM ç›®æ ‡äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå…¶ä¸­æ¯æ¡æŒ‡ä»¤éƒ½æ˜¯ 16 ä½å®½ï¼Œå¹¶ä¸ <code>thumb/</code> ç›®å½•ä¸­çš„ STL åº“å…³è”ã€‚å°†æ­¤å˜é‡å®šä¹‰ä¸º <code>arm</code> ä¼šå¼ºåˆ¶ç¼–è¯‘ç³»ç»Ÿåœ¨ 32 ä½ <code>arm</code> æ¨¡å¼ä¸‹ç”Ÿæˆæ¨¡å—çš„å¯¹è±¡æ–‡ä»¶ã€‚ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_ARM_MODE := arm</span><br></pre></td></tr></table></figure>

<p>æ‚¨ä¹Ÿå¯ä»¥å¯¹æºæ–‡ä»¶åé™„åŠ  <code>.arm</code> åç¼€ï¼ŒæŒ‡ç¤ºç¼–è¯‘ç³»ç»Ÿåœ¨ <code>arm</code> æ¨¡å¼ä¸‹ä»…ç¼–è¯‘ç‰¹å®šçš„æºæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹æŒ‡ç¤ºç¼–è¯‘ç³»ç»Ÿåœ¨ ARM æ¨¡å¼ä¸‹å§‹ç»ˆç¼–è¯‘ <code>bar.c</code>ï¼Œä½†æ ¹æ® <code>LOCAL_ARM_MODE</code> çš„å€¼ç¼–è¯‘ <code>foo.c</code>ã€‚</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_SRC_FILES := foo.c bar.c.arm</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„</strong>ï¼šæ‚¨ä¹Ÿå¯ä»¥åœ¨ <a href="https://developer.android.com/ndk/guides/application_mk.html" target="_blank" rel="noopener"><code>Application.mk</code></a> æ–‡ä»¶ä¸­å°† <code>APP_OPTIM</code> è®¾ç½®ä¸º <code>debug</code>ï¼Œä»¥å¼ºåˆ¶ç¼–è¯‘ç³»ç»Ÿç”Ÿæˆ ARM äºŒè¿›åˆ¶æ–‡ä»¶ã€‚æŒ‡å®š <code>debug</code> ä¼šå¼ºåˆ¶æ‰§è¡Œ ARM ç¼–è¯‘ï¼Œå› ä¸ºå·¥å…·é“¾è°ƒè¯•ç¨‹åºæ— æ³•æ­£ç¡®å¤„ç† Thumb ä»£ç ã€‚</p>
<h5 id="LOCAL-ARM-NEON"><a href="#LOCAL-ARM-NEON" class="headerlink" title="LOCAL_ARM_NEON"></a>LOCAL_ARM_NEON</h5><p>æ­¤å˜é‡ä»…åœ¨ä»¥ <code>armeabi-v7a</code> ABI ä¸ºç›®æ ‡æ—¶æ‰æœ‰æ„ä¹‰ã€‚å®ƒå…è®¸åœ¨ C å’Œ C++ æºä»£ç ä¸­ä½¿ç”¨ ARM Advanced SIMD (NEON) ç¼–è¯‘å™¨å†…å»ºå‡½æ•°ï¼Œä»¥åŠåœ¨ Assembly æ–‡ä»¶ä¸­ä½¿ç”¨ NEON æŒ‡ä»¤ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œå¹¶éæ‰€æœ‰åŸºäº ARMv7 çš„ CPU éƒ½æ”¯æŒ NEON æ‰©å±•æŒ‡ä»¤é›†ã€‚å› æ­¤ï¼Œå¿…é¡»æ‰§è¡Œè¿è¡Œæ—¶æ£€æµ‹ï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶å®‰å…¨åœ°ä½¿ç”¨æ­¤ä»£ç ã€‚è¯¦æƒ…è¯·å‚é˜… <a href="https://developer.android.com/ndk/guides/cpu-arm-neon.html" target="_blank" rel="noopener">NEON æ”¯æŒ</a>å’Œ <a href="https://developer.android.com/ndk/guides/cpu-features.html" target="_blank" rel="noopener">cpufeatures</a> åº“ã€‚</p>
<p>æ­¤å¤–ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>.neon</code> åç¼€ï¼ŒæŒ‡å®šç¼–è¯‘ç³»ç»Ÿä»…ä»¥ NEON æ”¯æŒç¼–è¯‘ç‰¹å®šæºæ–‡ä»¶ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œç¼–è¯‘ç³»ç»Ÿä»¥ Thumb å’Œ NEON æ”¯æŒç¼–è¯‘ <code>foo.c</code>ï¼Œä»¥ Thumb æ”¯æŒç¼–è¯‘ <code>bar.c</code>ï¼Œå¹¶ä»¥ ARM å’Œ NEON æ”¯æŒç¼–è¯‘ <code>zoo.c</code>ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_SRC_FILES = foo.c.neon bar.c zoo.c.arm.neon</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªåç¼€ï¼Œåˆ™ <code>.arm</code> å¿…é¡»åœ¨ <code>.neon</code> å‰é¢ã€‚</p>
<h5 id="LOCAL-DISABLE-FORMAT-STRING-CHECKS"><a href="#LOCAL-DISABLE-FORMAT-STRING-CHECKS" class="headerlink" title="LOCAL_DISABLE_FORMAT_STRING_CHECKS"></a>LOCAL_DISABLE_FORMAT_STRING_CHECKS</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘ç³»ç»Ÿä¼šåœ¨ç¼–è¯‘ä»£ç æ—¶ä¿æŠ¤æ ¼å¼å­—ç¬¦ä¸²ã€‚è¿™æ ·çš„è¯ï¼Œå¦‚æœ <code>printf</code> æ ·å¼çš„å‡½æ•°ä¸­ä½¿ç”¨äº†éå¸¸é‡æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå°±ä¼šå¼ºåˆ¶å¼•å‘ç¼–è¯‘å™¨é”™è¯¯ã€‚æ­¤ä¿æŠ¤é»˜è®¤å¯ç”¨ï¼Œä½†æ‚¨ä¹Ÿå¯é€šè¿‡å°†æ­¤å˜é‡çš„å€¼è®¾ç½®ä¸º <code>true</code> å°†å…¶åœç”¨ã€‚å¦‚æœæ²¡æœ‰å¿…è¦çš„åŸå› ï¼Œæˆ‘ä»¬ä¸å»ºè®®åœç”¨ã€‚</p>
<h5 id="LOCAL-EXPORT-CFLAGS"><a href="#LOCAL-EXPORT-CFLAGS" class="headerlink" title="LOCAL_EXPORT_CFLAGS"></a>LOCAL_EXPORT_CFLAGS</h5><p>æ­¤å˜é‡ç”¨äºè®°å½•ä¸€ç»„ C/C++ ç¼–è¯‘å™¨æ ‡è®°ï¼Œè¿™äº›æ ‡è®°å°†æ·»åŠ åˆ°é€šè¿‡ <code>LOCAL_STATIC_LIBRARIES</code> æˆ– <code>LOCAL_SHARED_LIBRARIES</code> å˜é‡ä½¿ç”¨æ­¤æ¨¡å—çš„ä»»ä½•å…¶ä»–æ¨¡å—çš„ <code>LOCAL_CFLAGS</code> å®šä¹‰ä¸­ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸‹é¢è¿™ä¸€å¯¹æ¨¡å—ï¼š<code>foo</code> å’Œ <code>bar</code>ï¼Œbar ä¾èµ–äº <code>foo</code>ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="variable">$(CLEAR_VARS)</span></span><br><span class="line">    LOCAL_MODULE := foo</span><br><span class="line">    LOCAL_SRC_FILES := foo/foo.c</span><br><span class="line">    LOCAL_EXPORT_CFLAGS := -DFOO=1</span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$(BUILD_STATIC_LIBRARY)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$(CLEAR_VARS)</span></span><br><span class="line">    LOCAL_MODULE := bar</span><br><span class="line">    LOCAL_SRC_FILES := bar.c</span><br><span class="line">    LOCAL_CFLAGS := -DBAR=2</span><br><span class="line">    LOCAL_STATIC_LIBRARIES := foo</span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$(BUILD_SHARED_LIBRARY)</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æ­¤ä¾‹ä¸­ï¼Œç¼–è¯‘ç³»ç»Ÿåœ¨ç¼–è¯‘ <code>bar.c</code> æ—¶ä¼šå‘ç¼–è¯‘å™¨ä¼ é€’ <code>-DFOO=1</code> å’Œ <code>-DBAR=2</code> æ ‡è®°ã€‚å®ƒè¿˜ä¼šåœ¨æ¨¡å—çš„ <code>LOCAL_CFLAGS</code> å‰é¢åŠ ä¸Šå¯¼å‡ºçš„æ ‡è®°ï¼Œä»¥ä¾¿æ‚¨è½»æ¾è¿›è¡Œæ›¿æ¢ã€‚</p>
<p>æ­¤å¤–ï¼Œæ¨¡å—ä¹‹é—´çš„å…³ç³»ä¹Ÿå…·æœ‰ä¼ é€’æ€§ï¼šå¦‚æœ <code>zoo</code> ä¾èµ–äº <code>bar</code>ï¼Œè€Œåè€…ä¾èµ–äº <code>foo</code>ï¼Œé‚£ä¹ˆ <code>zoo</code> ä¹Ÿä¼šç»§æ‰¿ä» <code>foo</code> å¯¼å‡ºçš„æ‰€æœ‰æ ‡è®°ã€‚</p>
<p>æœ€åï¼Œç¼–è¯‘ç³»ç»Ÿåœ¨æ‰§è¡Œå±€éƒ¨ç¼–è¯‘æ—¶ï¼ˆå³ï¼Œç¼–è¯‘è¦å¯¼å‡ºæ ‡è®°çš„æ¨¡å—æ—¶ï¼‰ï¼Œä¸ä½¿ç”¨å¯¼å‡ºçš„æ ‡è®°ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œç¼–è¯‘ <code>foo/foo.c</code> æ—¶ä¸ä¼šå°† <code>-DFOO=1</code> ä¼ é€’åˆ°ç¼–è¯‘å™¨ã€‚è¦æ‰§è¡Œå±€éƒ¨ç¼–è¯‘ï¼Œè¯·æ”¹ç”¨ <code>LOCAL_CFLAGS</code>ã€‚</p>
<h5 id="LOCAL-EXPORT-CPPFLAGS"><a href="#LOCAL-EXPORT-CPPFLAGS" class="headerlink" title="LOCAL_EXPORT_CPPFLAGS"></a>LOCAL_EXPORT_CPPFLAGS</h5><p>æ­¤å˜é‡ä¸ <code>LOCAL_EXPORT_CFLAGS</code> ç›¸åŒï¼Œä½†ä»…é€‚ç”¨äº C++ æ ‡è®°ã€‚</p>
<h5 id="LOCAL-EXPORT-C-INCLUDES"><a href="#LOCAL-EXPORT-C-INCLUDES" class="headerlink" title="LOCAL_EXPORT_C_INCLUDES"></a>LOCAL_EXPORT_C_INCLUDES</h5><p>æ­¤å˜é‡ä¸ <code>LOCAL_EXPORT_CFLAGS</code> ç›¸åŒï¼Œä½†é€‚ç”¨äº C include è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå½“ <code>bar.c</code> éœ€è¦åŒ…å«æ¨¡å— <code>foo</code> çš„å¤´æ–‡ä»¶æ—¶ï¼Œæ­¤å˜é‡å¾ˆæœ‰ç”¨ã€‚</p>
<h5 id="LOCAL-EXPORT-LDFLAGS"><a href="#LOCAL-EXPORT-LDFLAGS" class="headerlink" title="LOCAL_EXPORT_LDFLAGS"></a>LOCAL_EXPORT_LDFLAGS</h5><p>æ­¤å˜é‡ä¸ <code>LOCAL_EXPORT_CFLAGS</code> ç›¸åŒï¼Œä½†é€‚ç”¨äºé“¾æ¥å™¨æ ‡è®°ã€‚</p>
<h5 id="LOCAL-EXPORT-LDLIBS"><a href="#LOCAL-EXPORT-LDLIBS" class="headerlink" title="LOCAL_EXPORT_LDLIBS"></a>LOCAL_EXPORT_LDLIBS</h5><p>æ­¤å˜é‡ä¸ <code>LOCAL_EXPORT_CFLAGS</code> ç›¸åŒï¼Œå‘Šè¯‰ç¼–è¯‘ç³»ç»Ÿå°†ç‰¹å®šç³»ç»Ÿåº“çš„åç§°ä¼ é€’ç»™ç¼–è¯‘å™¨ã€‚è¯·åœ¨æ‚¨æŒ‡å®šçš„æ¯ä¸ªåº“åç§°å‰é™„åŠ  <code>-l</code>ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œç¼–è¯‘ç³»ç»Ÿä¼šå°†å¯¼å…¥çš„é“¾æ¥å™¨æ ‡è®°é™„åŠ åˆ°æ¨¡å—çš„ <code>LOCAL_LDLIBS</code> å˜é‡å€¼ä¸Šã€‚å…¶åŸå› åœ¨äº Unix é“¾æ¥å™¨çš„å·¥ä½œæ–¹å¼ã€‚</p>
<p>å½“æ¨¡å— <code>foo</code> æ˜¯é™æ€åº“å¹¶ä¸”å…·æœ‰ä¾èµ–äºç³»ç»Ÿåº“çš„ä»£ç æ—¶ï¼Œæ­¤å˜é‡é€šå¸¸å¾ˆæœ‰ç”¨ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>LOCAL_EXPORT_LDLIBS</code> å¯¼å‡ºä¾èµ–å…³ç³»ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="variable">$(CLEAR_VARS)</span></span><br><span class="line">    LOCAL_MODULE := foo</span><br><span class="line">    LOCAL_SRC_FILES := foo/foo.c</span><br><span class="line">    LOCAL_EXPORT_LDLIBS := -llog</span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$(BUILD_STATIC_LIBRARY)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$(CLEAR_VARS)</span></span><br><span class="line">    LOCAL_MODULE := bar</span><br><span class="line">    LOCAL_SRC_FILES := bar.c</span><br><span class="line">    LOCAL_STATIC_LIBRARIES := foo</span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$(BUILD_SHARED_LIBRARY)</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œç¼–è¯‘ç³»ç»Ÿåœ¨ç¼–è¯‘ <code>libbar.so</code> æ—¶ï¼Œåœ¨é“¾æ¥å™¨å‘½ä»¤çš„æœ«å°¾æŒ‡å®šäº† <code>-llog</code>ã€‚è¿™æ ·å°±ä¼šå‘ŠçŸ¥é“¾æ¥å™¨ï¼Œç”±äº <code>libbar.so</code> ä¾èµ–äº <code>foo</code>ï¼Œå› æ­¤å®ƒä¹Ÿä¾èµ–äºç³»ç»Ÿæ—¥å¿—è®°å½•åº“ã€‚</p>
<h5 id="LOCAL-SHORT-COMMANDS"><a href="#LOCAL-SHORT-COMMANDS" class="headerlink" title="LOCAL_SHORT_COMMANDS"></a>LOCAL_SHORT_COMMANDS</h5><p>å½“æ¨¡å—æœ‰å¾ˆå¤šæºæ–‡ä»¶å’Œ/æˆ–ä¾èµ–çš„é™æ€æˆ–å…±äº«åº“æ—¶ï¼Œè¯·å°†æ­¤å˜é‡è®¾ç½®ä¸º <code>true</code>ã€‚è¿™æ ·ä¼šå¼ºåˆ¶ç¼–è¯‘ç³»ç»Ÿå°† <code>@</code> è¯­æ³•ç”¨äºåŒ…å«ä¸­é—´å¯¹è±¡æ–‡ä»¶æˆ–é“¾æ¥åº“çš„å½’æ¡£ã€‚</p>
<p>æ­¤åŠŸèƒ½åœ¨ Windows ä¸Šå¯èƒ½å¾ˆæœ‰ç”¨ï¼Œåœ¨ Windows ä¸Šï¼Œå‘½ä»¤è¡Œæœ€å¤šåªæ¥å— 8191 ä¸ªå­—ç¬¦ï¼Œè¿™å¯¹äºå¤æ‚çš„é¡¹ç›®æ¥è¯´å¯èƒ½å¤ªå°‘ã€‚å®ƒè¿˜ä¼šå½±å“ä¸ªåˆ«æºæ–‡ä»¶çš„ç¼–è¯‘ï¼Œè€Œä¸”å°†å‡ ä¹æ‰€æœ‰ç¼–è¯‘å™¨æ ‡è®°éƒ½æ”¾åœ¨åˆ—è¡¨æ–‡ä»¶å†…ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œ<code>true</code> ä»¥å¤–çš„ä»»ä½•å€¼éƒ½å°†æ¢å¤ä¸ºé»˜è®¤è¡Œä¸ºã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨ <a href="https://developer.android.com/ndk/guides/application_mk.html" target="_blank" rel="noopener"><code>Application.mk</code></a> æ–‡ä»¶ä¸­å®šä¹‰ <code>APP_SHORT_COMMANDS</code>ï¼Œä»¥å¯¹é¡¹ç›®ä¸­çš„æ‰€æœ‰æ¨¡å—å¼ºåˆ¶å®æ–½æ­¤è¡Œä¸ºã€‚</p>
<p>ä¸å»ºè®®é»˜è®¤å¯ç”¨æ­¤åŠŸèƒ½ï¼Œå› ä¸ºå®ƒä¼šå‡æ…¢ç¼–è¯‘é€Ÿåº¦ã€‚</p>
<h5 id="LOCAL-THIN-ARCHIVE"><a href="#LOCAL-THIN-ARCHIVE" class="headerlink" title="LOCAL_THIN_ARCHIVE"></a>LOCAL_THIN_ARCHIVE</h5><p>ç¼–è¯‘é™æ€åº“æ—¶ï¼Œè¯·å°†æ­¤å˜é‡è®¾ç½®ä¸º <code>true</code>ã€‚è¿™æ ·ä¼šç”Ÿæˆä¸€ä¸ª<strong>ç˜¦å½’æ¡£</strong>ï¼Œå³ä¸€ä¸ªåº“æ–‡ä»¶ï¼Œå…¶ä¸­ä¸å«å¯¹è±¡æ–‡ä»¶ï¼Œè€ŒåªåŒ…å«å®ƒé€šå¸¸åŒ…å«çš„å®é™…å¯¹è±¡çš„æ–‡ä»¶è·¯å¾„ã€‚</p>
<p>è¿™å¯¹äºå‡å°ç¼–è¯‘è¾“å‡ºçš„å¤§å°éå¸¸æœ‰ç”¨ã€‚ä½†ç¼ºç‚¹æ˜¯ï¼Œè¿™æ ·çš„åº“æ— æ³•ç§»è‡³å…¶ä»–ä½ç½®ï¼ˆå…¶ä¸­çš„æ‰€æœ‰è·¯å¾„éƒ½æ˜¯ç›¸å¯¹è·¯å¾„ï¼‰ã€‚</p>
<p>æœ‰æ•ˆå€¼ä¸º <code>true</code>ã€<code>false</code> æˆ–ç©ºç™½ã€‚æ‚¨å¯åœ¨ <a href="https://developer.android.com/ndk/guides/application_mk.html" target="_blank" rel="noopener"><code>Application.mk</code></a> æ–‡ä»¶ä¸­é€šè¿‡ <code>APP_THIN_ARCHIVE</code> å˜é‡è®¾ç½®é»˜è®¤å€¼ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨éé™æ€åº“æ¨¡å—æˆ–é¢„ç¼–è¯‘çš„é™æ€åº“æ¨¡å—ä¸­ï¼Œå°†ä¼šå¿½ç•¥æ­¤å˜é‡ã€‚</p>
<h5 id="LOCAL-FILTER-ASM"><a href="#LOCAL-FILTER-ASM" class="headerlink" title="LOCAL_FILTER_ASM"></a>LOCAL_FILTER_ASM</h5><p>è¯·å°†æ­¤å˜é‡å®šä¹‰ä¸ºä¸€ä¸ª shell å‘½ä»¤ï¼Œä¾›ç¼–è¯‘ç³»ç»Ÿç”¨äºè¿‡æ»¤æ ¹æ®æ‚¨ä¸º <code>LOCAL_SRC_FILES</code> æŒ‡å®šçš„æ–‡ä»¶æå–æˆ–ç”Ÿæˆçš„æ±‡ç¼–æ–‡ä»¶ã€‚å®šä¹‰æ­¤å˜é‡ä¼šå¯¼è‡´å‘ç”Ÿä»¥ä¸‹æƒ…å†µï¼š</p>
<ol>
<li>ç¼–è¯‘ç³»ç»Ÿä»ä»»ä½• C æˆ– C++ æºæ–‡ä»¶ç”Ÿæˆä¸´æ—¶æ±‡ç¼–æ–‡ä»¶ï¼Œè€Œä¸æ˜¯å°†å®ƒä»¬ç¼–è¯‘åˆ°å¯¹è±¡æ–‡ä»¶ä¸­ã€‚</li>
<li>ç¼–è¯‘ç³»ç»Ÿåœ¨ä»»ä½•ä¸´æ—¶æ±‡ç¼–æ–‡ä»¶ä»¥åŠ <code>LOCAL_SRC_FILES</code> ä¸­æ‰€åˆ—ä»»ä½•æ±‡ç¼–æ–‡ä»¶çš„ <code>LOCAL_FILTER_ASM</code> ä¸­æ‰§è¡Œ shell å‘½ä»¤ï¼Œå› æ­¤ä¼šç”Ÿæˆå¦ä¸€ä¸ªä¸´æ—¶æ±‡ç¼–æ–‡ä»¶ã€‚</li>
<li>ç¼–è¯‘ç³»ç»Ÿå°†è¿™äº›è¿‡æ»¤çš„æ±‡ç¼–æ–‡ä»¶ç¼–è¯‘åˆ°å¯¹è±¡æ–‡ä»¶ä¸­ã€‚</li>
</ol>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_SRC_FILES  := foo.c bar.S</span><br><span class="line">    LOCAL_FILTER_ASM :=</span><br><span class="line"></span><br><span class="line">    foo.c --1--&gt; $OBJS_DIR/foo.S.original --2--&gt; $OBJS_DIR/foo.S --3--&gt; $OBJS_DIR/foo.o</span><br><span class="line">    bar.S                                 --2--&gt; $OBJS_DIR/bar.S --3--&gt; $OBJS_DIR/bar.o</span><br></pre></td></tr></table></figure>

<p>â€œ1â€å¯¹åº”äºç¼–è¯‘å™¨ï¼Œâ€œ2â€å¯¹åº”äºè¿‡æ»¤å™¨ï¼Œâ€œ3â€å¯¹åº”äºæ±‡ç¼–ç¨‹åºã€‚è¿‡æ»¤å™¨å¿…é¡»æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ shell å‘½ä»¤ï¼Œå®ƒæ¥å—è¾“å…¥æ–‡ä»¶åä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ¥å—è¾“å‡ºæ–‡ä»¶åä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">myasmfilter $OBJS_DIR/foo.S.original $OBJS_DIR/foo.S</span><br><span class="line">    myasmfilter bar.S $OBJS_DIR/bar.S</span><br></pre></td></tr></table></figure>

<h3 id="NDKæä¾›çš„å‡½æ•°å®"><a href="#NDKæä¾›çš„å‡½æ•°å®" class="headerlink" title="NDKæä¾›çš„å‡½æ•°å®"></a>NDKæä¾›çš„å‡½æ•°å®</h3><p>æœ¬éƒ¨åˆ†ä»‹ç»äº† NDK æä¾›çš„ GNU Make å‡½æ•°å®ã€‚ä½¿ç”¨ <code>$(call &lt;function&gt;)</code> å¯ä»¥å¯¹è¿™äº›å®è¿›è¡Œæ±‚å€¼ï¼›å®ƒä»¬å°†è¿”å›æ–‡æœ¬ä¿¡æ¯ã€‚</p>
<h5 id="my-dir"><a href="#my-dir" class="headerlink" title="my-dir"></a>my-dir</h5><p>è¿™ä¸ªå®è¿”å›æœ€ååŒ…å«çš„ makefile çš„è·¯å¾„ï¼Œé€šå¸¸æ˜¯å½“å‰ <code>Android.mk</code> çš„ç›®å½•ã€‚<code>my-dir</code> å¯ç”¨äºåœ¨ <code>Android.mk</code> æ–‡ä»¶çš„å¼€å¤´å®šä¹‰ <code>LOCAL_PATH</code>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_PATH := <span class="variable">$(<span class="built_in">call</span> my-<span class="built_in">dir</span>)</span></span><br></pre></td></tr></table></figure>

<p>ç”±äº GNU Make çš„å·¥ä½œæ–¹å¼ï¼Œè¿™ä¸ªå®å®é™…è¿”å›çš„æ˜¯ç¼–è¯‘ç³»ç»Ÿè§£æç¼–è¯‘è„šæœ¬æ—¶åŒ…å«çš„æœ€åä¸€ä¸ª makefile çš„è·¯å¾„ã€‚å› æ­¤ï¼ŒåŒ…å«å…¶ä»–æ–‡ä»¶åå°±ä¸åº”è°ƒç”¨ <code>my-dir</code>ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_PATH := <span class="variable">$(<span class="built_in">call</span> my-<span class="built_in">dir</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ... declare one module</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$(LOCAL_PATH)</span>/foo/`Android.mk`</span><br><span class="line"></span><br><span class="line">    LOCAL_PATH := <span class="variable">$(<span class="built_in">call</span> my-<span class="built_in">dir</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ... declare another module</span></span><br></pre></td></tr></table></figure>

<p>è¯¥ç¤ºä¾‹çš„é—®é¢˜åœ¨äºï¼Œå¯¹ <code>my-dir</code> çš„ç¬¬äºŒæ¬¡è°ƒç”¨å°† <code>LOCAL_PATH</code> å®šä¹‰ä¸º <code>$PATH/foo</code>ï¼Œè€Œä¸æ˜¯ <code>$PATH</code>ï¼Œå› ä¸ºè¿™æ˜¯å…¶æœ€è¿‘çš„ include æ‰€æŒ‡å‘çš„ä½ç½®ã€‚</p>
<p>åœ¨ <code>Android.mk</code> æ–‡ä»¶ä¸­çš„æ‰€æœ‰å…¶ä»–å†…å®¹åæ·»åŠ é¢å¤–çš„ include å¯é¿å…æ­¤é—®é¢˜ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_PATH := <span class="variable">$(<span class="built_in">call</span> my-<span class="built_in">dir</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ... declare one module</span></span><br><span class="line"></span><br><span class="line">    LOCAL_PATH := <span class="variable">$(<span class="built_in">call</span> my-<span class="built_in">dir</span>)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ... declare another module</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># extra includes at the end of the Android.mk file</span></span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$(LOCAL_PATH)</span>/foo/Android.mk</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä»¥è¿™ç§æ–¹å¼æ„é€ æ–‡ä»¶ä¸å¯è¡Œï¼Œè¯·å°†ç¬¬ä¸€ä¸ª <code>my-dir</code> è°ƒç”¨çš„å€¼ä¿å­˜åˆ°å¦ä¸€ä¸ªå˜é‡ä¸­ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MY_LOCAL_PATH := <span class="variable">$(<span class="built_in">call</span> my-<span class="built_in">dir</span>)</span></span><br><span class="line"></span><br><span class="line">    LOCAL_PATH := <span class="variable">$(MY_LOCAL_PATH)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ... declare one module</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$(LOCAL_PATH)</span>/foo/`Android.mk`</span><br><span class="line"></span><br><span class="line">    LOCAL_PATH := <span class="variable">$(MY_LOCAL_PATH)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ... declare another module</span></span><br></pre></td></tr></table></figure>

<h5 id="all-subdir-makefiles"><a href="#all-subdir-makefiles" class="headerlink" title="all-subdir-makefiles"></a>all-subdir-makefiles</h5><p>è¿”å›ä½äºå½“å‰ <code>my-dir</code> è·¯å¾„æ‰€æœ‰å­ç›®å½•ä¸­çš„ <code>Android.mk</code> æ–‡ä»¶åˆ—è¡¨ã€‚</p>
<p>åˆ©ç”¨æ­¤å‡½æ•°ï¼Œæ‚¨å¯ä»¥ä¸ºç¼–è¯‘ç³»ç»Ÿæä¾›æ·±åº¦åµŒå¥—çš„æºç›®å½•å±‚æ¬¡ç»“æ„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒNDK åªåœ¨ <code>Android.mk</code> æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶ã€‚</p>
<h5 id="this-makefile"><a href="#this-makefile" class="headerlink" title="this-makefile"></a>this-makefile</h5><p>è¿”å›å½“å‰ makefileï¼ˆç¼–è¯‘ç³»ç»Ÿä»ä¸­è°ƒç”¨å‡½æ•°ï¼‰çš„è·¯å¾„ã€‚</p>
<h5 id="parent-makefile"><a href="#parent-makefile" class="headerlink" title="parent-makefile"></a>parent-makefile</h5><p>è¿”å›åŒ…å«æ ‘ä¸­çˆ¶ makefile çš„è·¯å¾„ï¼ˆåŒ…å«å½“å‰ makefile çš„ makefile çš„è·¯å¾„ï¼‰ã€‚</p>
<h5 id="grand-parent-makefile"><a href="#grand-parent-makefile" class="headerlink" title="grand-parent-makefile"></a>grand-parent-makefile</h5><p>è¿”å›åŒ…å«æ ‘ä¸­ç¥–çˆ¶ makefile çš„è·¯å¾„ï¼ˆåŒ…å«å½“å‰çˆ¶ makefile çš„ makefile çš„è·¯å¾„ï¼‰ã€‚</p>
<h5 id="import-module"><a href="#import-module" class="headerlink" title="import-module"></a>import-module</h5><p>æ­¤å‡½æ•°ç”¨äºæŒ‰æ¨¡å—åç§°æŸ¥æ‰¾å’ŒåŒ…å«æ¨¡å—çš„ <code>Android.mk</code> æ–‡ä»¶ã€‚å…¸å‹çš„ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$(<span class="built_in">call</span> import-module,&lt;name&gt;)</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œç¼–è¯‘ç³»ç»Ÿåœ¨ <code>NDK_MODULE_PATH</code> ç¯å¢ƒå˜é‡æ‰€å¼•ç”¨çš„ç›®å½•åˆ—è¡¨ä¸­æŸ¥æ‰¾å…·æœ‰ <code>&lt;name&gt;</code> æ ‡è®°çš„æ¨¡å—ï¼Œå¹¶ä¸”è‡ªåŠ¨åŒ…å«å…¶ <code>Android.mk</code> æ–‡ä»¶ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/09/05/NDKå¼€å‘ç¼–è¯‘çŸ¥è¯†ç‚¹æ±‡é›†-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/05/NDKå¼€å‘ç¼–è¯‘çŸ¥è¯†ç‚¹æ±‡é›†-4/" class="post-title-link" itemprop="url">NDKå¼€å‘ç¼–è¯‘çŸ¥è¯†ç‚¹æ±‡é›†[4]</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-09-05 10:29:27" itemprop="dateCreated datePublished" datetime="2019-09-05T10:29:27+08:00">2019-09-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 10:30:53" itemprop="dateModified" datetime="2019-12-31T10:30:53+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NDK/" itemprop="url" rel="index">
                    <span itemprop="name">NDK</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JNI/" itemprop="url" rel="index">
                    <span itemprop="name">JNI</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Android-NDK-å¼€å‘æŒ‡å—"><a href="#Android-NDK-å¼€å‘æŒ‡å—" class="headerlink" title="Android NDK å¼€å‘æŒ‡å—"></a>Android NDK å¼€å‘æŒ‡å—</h2><p>Android NDK æ˜¯ä¸€ç»„ä½¿æ‚¨èƒ½å°† C æˆ– C++ï¼ˆâ€œåŸç”Ÿä»£ç â€ï¼‰åµŒå…¥åˆ° Android åº”ç”¨ä¸­çš„å·¥å…·ã€‚èƒ½å¤Ÿåœ¨ Android åº”ç”¨ä¸­ä½¿ç”¨åŸç”Ÿä»£ç å¯¹äºæƒ³æ‰§è¡Œä»¥ä¸‹ä¸€é¡¹æˆ–å¤šé¡¹æ“ä½œçš„å¼€å‘è€…ç‰¹åˆ«æœ‰ç”¨ï¼š</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/09/05/NDKå¼€å‘ç¼–è¯‘çŸ¥è¯†ç‚¹æ±‡é›†-4/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/09/02/NDKå¼€å‘JNIèµ·æ­¥-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/02/NDKå¼€å‘JNIèµ·æ­¥-3/" class="post-title-link" itemprop="url">NDKå¼€å‘JNIèµ·æ­¥[3]</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-09-02 19:41:32" itemprop="dateCreated datePublished" datetime="2019-09-02T19:41:32+08:00">2019-09-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 10:30:53" itemprop="dateModified" datetime="2019-12-31T10:30:53+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NDK/" itemprop="url" rel="index">
                    <span itemprop="name">NDK</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JNI/" itemprop="url" rel="index">
                    <span itemprop="name">JNI</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="é‡‡ç”¨Android-studioè¿›è¡Œå¼€å‘"><a href="#é‡‡ç”¨Android-studioè¿›è¡Œå¼€å‘" class="headerlink" title="é‡‡ç”¨Android studioè¿›è¡Œå¼€å‘"></a>é‡‡ç”¨Android studioè¿›è¡Œå¼€å‘</h3><ol>
<li><p>é¦–å…ˆè¦é›†æˆNDKå¼€å‘ç¯å¢ƒ å‚è§ <a href="https://developer.android.google.cn/ndk/guides?hl=zh_cn" target="_blank" rel="noopener">â€œNDK Android studio ç¯å¢ƒé›†æˆâ€</a></p>
</li>
<li><p>æŒ‰ç…§å¦‚ä¸‹æµç¨‹æ“ä½œï¼Œæ–°å»ºä¸€ä¸ªå·¥ç¨‹é¡¹ç›®ï¼š</p>
<blockquote>
<p>as-&gt;File-&gt;new Project-&gt;Phone and Tablet-&gt;Native C++ &gt; next &gt; C++ support &gt; finish</p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/09/02/NDKå¼€å‘JNIèµ·æ­¥-3/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://jrhlive.com/2019/08/30/Andoridä¼˜ç§€åšå®¢æ¨è/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="jiarh">
      <meta itemprop="description" content="coding change the world .">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="STAY HUNGRY. STAY FOOLISH.">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/30/Andoridä¼˜ç§€åšå®¢æ¨è/" class="post-title-link" itemprop="url">Andoridä¼˜ç§€åšå®¢æ¨è</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2019-08-30 18:21:17" itemprop="dateCreated datePublished" datetime="2019-08-30T18:21:17+08:00">2019-08-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-12-31 10:30:53" itemprop="dateModified" datetime="2019-12-31T10:30:53+08:00">2019-12-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/flutter/" itemprop="url" rel="index">
                    <span itemprop="name">flutter</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Flutter"><a href="#Flutter" class="headerlink" title="Flutter"></a>Flutter</h1><ol>
<li><a href="https://juejin.im/post/5d2178ede51d4556d86c7b36" target="_blank" rel="noopener">Android æ··åˆFlutterä¹‹æºç é›†æˆæ–¹å¼</a></li>
<li><a href="https://www.jianshu.com/p/cf7cf1b640ee" target="_blank" rel="noopener">Flutteré¡µé¢åµŒå…¥Android Activityä¸­</a></li>
</ol>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2019/08/30/Andoridä¼˜ç§€åšå®¢æ¨è/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">jiarh</p>
  <div class="site-description" itemprop="description">coding change the world .</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">jiarh</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">ä¸»é¢˜ â€“ <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.6.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  

</body>
</html>
